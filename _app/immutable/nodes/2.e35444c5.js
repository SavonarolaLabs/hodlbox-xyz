import{s as Oe,n as we,j as ve,r as dt,l as Ke,o as Vt}from"../chunks/scheduler.71af12de.js";import{S as Ae,i as Ne,g as L,h as P,A as je,k as A,a as oe,f as z,s as te,m as le,r as Se,j as V,c as se,n as ie,u as De,l as _e,y as B,v as Le,o as Te,d as ge,t as xe,w as Pe,x as Me,E as Ue,F as Fe,G as Ve,p as _t,b as wt,H as Dt,e as jt}from"../chunks/index.e9246ef9.js";import{c as qe,t as Xe,f as qt,S as rt,g as lt,h as it,i as at,j as Je,O as st,k as ft,C as Kt,l as yt,m as Et,p as Ye,q as Qe,r as Ze,T as xt,R as bt,v as Wt,E as et,s as Lt,x as vt,y as He,a as tt,z as It,A as Ct,D as ot,F as Rt,G as Tt,I as ct,J as Xt,K as Jt,L as We,M as Yt,N as Qt,H as Zt,P as es,Q as ts,B as ss,U as ns,W as rs,V as ls,X as is,e as ht,b as as,Y as os,Z as cs}from"../chunks/notifier.52418a76.js";function fs(i){let e,n=`<div class="fake-window-header svelte-fmz6ic"><div class="ios-buttons svelte-fmz6ic"><div class="ios-button close svelte-fmz6ic"></div> <div class="ios-button minimize svelte-fmz6ic"></div> <div class="ios-button maximize svelte-fmz6ic"></div></div> <div style="padding-right:8px;">ergoscript</div></div> <div class="source-code svelte-fmz6ic"><pre><code class="hljs svelte-fmz6ic">{
		<span class="hljs-keyword svelte-fmz6ic">val</span> hodlTargetRate : <span class="hljs-type svelte-fmz6ic">Long</span>     = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R4</span>[<span class="hljs-type svelte-fmz6ic">Long</span>].get
		<span class="hljs-keyword svelte-fmz6ic">val</span> maxHeight : <span class="hljs-type svelte-fmz6ic">Int</span>           = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R5</span>[<span class="hljs-type svelte-fmz6ic">Int</span>].get
		<span class="hljs-keyword svelte-fmz6ic">val</span> hodlerPK : <span class="hljs-type svelte-fmz6ic">SigmaProp</span>      = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R6</span>[<span class="hljs-type svelte-fmz6ic">SigmaProp</span>].get
		<span class="hljs-keyword svelte-fmz6ic">val</span> uiFeePK : <span class="hljs-type svelte-fmz6ic">SigmaProp</span>       = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R7</span>[<span class="hljs-type svelte-fmz6ic">SigmaProp</span>].get
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> totalLockedNanoErg : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-type svelte-fmz6ic">SELF</span>.value
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> fees: <span class="hljs-type svelte-fmz6ic">Coll</span>[(<span class="hljs-type svelte-fmz6ic">SigmaProp</span>, <span class="hljs-type svelte-fmz6ic">BigInt</span>)] = {
			<span class="hljs-keyword svelte-fmz6ic">val</span> feeDenom : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-number">100000</span>L
			<span class="hljs-keyword svelte-fmz6ic">val</span> devFee   : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-number">500</span>L         <span class="hljs-comment svelte-fmz6ic">// 0.5%</span>
			<span class="hljs-keyword svelte-fmz6ic">val</span> uiFee    : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-number">500</span>L         <span class="hljs-comment svelte-fmz6ic">// 0.5%</span>
				<span class="hljs-type svelte-fmz6ic">Coll</span>(
					 (_contractDevPK, (devFee.toBigInt * totalLockedNanoErg.toBigInt) / feeDenom.toBigInt),
					 (uiFeePK, (uiFee.toBigInt * totalLockedNanoErg.toBigInt) / feeDenom.toBigInt)
				)
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> feesPaid : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			<span class="hljs-keyword svelte-fmz6ic">val</span> devFeesPaid: <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
				<span class="hljs-keyword svelte-fmz6ic">if</span>(fees(<span class="hljs-number">0</span>)._2 &gt; <span class="hljs-number">0</span>){
					<span class="hljs-keyword svelte-fmz6ic">val</span> devOutput : <span class="hljs-type svelte-fmz6ic">Box</span>   = <span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">1</span>)
					allOf(
						<span class="hljs-type svelte-fmz6ic">Coll</span>(
							devOutput.propositionBytes   == fees(<span class="hljs-number">0</span>)._1.propBytes,
							devOutput.value.toBigInt     &gt;= fees(<span class="hljs-number">0</span>)._2
						)
					)
				}<span class="hljs-keyword svelte-fmz6ic">else</span>{
					<span class="hljs-literal svelte-fmz6ic">true</span>
				}
			}
	 
			<span class="hljs-keyword svelte-fmz6ic">val</span> uiFeesPaid : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
				<span class="hljs-keyword svelte-fmz6ic">if</span>(fees(<span class="hljs-number">1</span>)._2 &gt; <span class="hljs-number">0</span>){
					<span class="hljs-keyword svelte-fmz6ic">val</span> uiOutput : <span class="hljs-type svelte-fmz6ic">Box</span>    = <span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">2</span>)
					allOf(
						<span class="hljs-type svelte-fmz6ic">Coll</span>(
							uiOutput.propositionBytes   == fees(<span class="hljs-number">1</span>)._1.propBytes,
							uiOutput.value.toBigInt     &gt;= fees(<span class="hljs-number">1</span>)._2
						)
					)
				}<span class="hljs-keyword svelte-fmz6ic">else</span>{
					<span class="hljs-literal svelte-fmz6ic">true</span>
				}
			}
			devFeesPaid &amp;&amp; uiFeesPaid
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> feesTotal : <span class="hljs-type svelte-fmz6ic">Long</span> = fees(<span class="hljs-number">0</span>)._2 + fees(<span class="hljs-number">1</span>)._2
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> repaymentNanoErg : <span class="hljs-type svelte-fmz6ic">Long</span> = totalLockedNanoErg - feesTotal
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> fundsReturned : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			<span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">0</span>).propositionBytes == hodlerPK.propBytes &amp;&amp; 
			<span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">0</span>).value &gt;= repaymentNanoErg &amp;&amp;
			<span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">0</span>).<span class="hljs-type svelte-fmz6ic">R4</span>[<span class="hljs-type svelte-fmz6ic">Coll</span>[<span class="hljs-type svelte-fmz6ic">Byte</span>]].get == <span class="hljs-type svelte-fmz6ic">SELF</span>.id
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> maxHeightReached : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			maxHeight &lt;= <span class="hljs-type svelte-fmz6ic">HEIGHT</span>
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> priceTargetReached : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			<span class="hljs-keyword svelte-fmz6ic">if</span> (<span class="hljs-type svelte-fmz6ic">CONTEXT</span>.dataInputs.size &gt; <span class="hljs-number">0</span>) {
				<span class="hljs-comment svelte-fmz6ic">// validate Oracle box</span>
				<span class="hljs-keyword svelte-fmz6ic">val</span> oracleBox : <span class="hljs-type svelte-fmz6ic">Box</span> = <span class="hljs-type svelte-fmz6ic">CONTEXT</span>.dataInputs(<span class="hljs-number">0</span>)
				<span class="hljs-keyword svelte-fmz6ic">val</span> currentRate : <span class="hljs-type svelte-fmz6ic">Long</span> = oracleBox.<span class="hljs-type svelte-fmz6ic">R4</span>[<span class="hljs-type svelte-fmz6ic">Long</span>].get
				<span class="hljs-keyword svelte-fmz6ic">val</span> oracleHeight: <span class="hljs-type svelte-fmz6ic">Long</span> = oracleBox.<span class="hljs-type svelte-fmz6ic">R5</span>[<span class="hljs-type svelte-fmz6ic">Int</span>].get
	 
				<span class="hljs-keyword svelte-fmz6ic">val</span> validDataInput: <span class="hljs-type svelte-fmz6ic">Boolean</span> = <span class="hljs-type svelte-fmz6ic">HEIGHT</span> &lt;= oracleHeight + <span class="hljs-number">30</span> &amp;&amp; oracleBox.tokens(<span class="hljs-number">0</span>)._1 == _oraclePoolNFT
	 
				<span class="hljs-comment svelte-fmz6ic">// check if the price reached target</span>
				<span class="hljs-keyword svelte-fmz6ic">val</span> targetPriceReached: <span class="hljs-type svelte-fmz6ic">Boolean</span> = currentRate &lt;= hodlTargetRate
	 
				validDataInput &amp;&amp; targetPriceReached
			} <span class="hljs-keyword svelte-fmz6ic">else</span> {
				<span class="hljs-literal svelte-fmz6ic">false</span>
			}
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">if</span>(priceTargetReached || maxHeightReached){
			sigmaProp(fundsReturned &amp;&amp; feesPaid)
		} <span class="hljs-keyword svelte-fmz6ic">else</span> {
			sigmaProp(<span class="hljs-literal svelte-fmz6ic">false</span>)
		}
	}</code></pre></div>`;return{c(){e=L("div"),e.innerHTML=n,this.h()},l(s){e=P(s,"DIV",{class:!0,"data-svelte-h":!0}),je(e)!=="svelte-1ll1nd"&&(e.innerHTML=n),this.h()},h(){A(e,"class","editor-flex svelte-fmz6ic")},m(s,a){oe(s,e,a)},p:we,i:we,o:we,d(s){s&&z(e)}}}class us extends Ae{constructor(e){super(),Ne(this,e,null,fs,Oe,{})}}function ps(i){let e,n="smart contract.";return{c(){e=L("a"),e.textContent=n,this.h()},l(s){e=P(s,"A",{href:!0,"data-svelte-h":!0}),je(e)!=="svelte-maej2"&&(e.textContent=n),this.h()},h(){A(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl_hodlerg3.ts")},m(s,a){oe(s,e,a)},d(s){s&&z(e)}}}function hs(i){let e,n="smart contract.";return{c(){e=L("a"),e.textContent=n,this.h()},l(s){e=P(s,"A",{href:!0,"data-svelte-h":!0}),je(e)!=="svelte-50pk7c"&&(e.textContent=n),this.h()},h(){A(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl.ts")},m(s,a){oe(s,e,a)},d(s){s&&z(e)}}}function ds(i){let e,n,s,a="How does it work?",w,h,c,E,d,O,b,_,x=i[1]/10n**9n+"",S,j,T,R,C="3. Unlocked coins can only be sent to your wallet.",J,F,q,N=i[1]/10n**9n+"",D,W,K,$,G,U,X=`<img src="hodl.jpeg" alt="" class="mt-10"/> <div class="text-4xl mt-20 mb-10 self-end"><a href="https://ergoplatform.org/en/news/ErgoHack-7-The-Future-of-Finance-and-the-Path-to-Adoption/">ERGOHACKVII</a>
				letter</div> <div class="bg-white p-16 self-end paper text-black italic shadow-md">Dear Hackathon Committee,<br/><br/>

				We are excited to present our ErgoHack project, HodlBox. This dApp is designed to encourage
				long-term investment in the Ergo ecosystem. Our project addresses a common challenge in
				crypto: holding onto your coins over an extended period of time and not selling the bottom.
				To combat this, we&#39;ve devised a non-custodial vault that allows users to stash their ERG
				until a specific time or price point is reached on Spectrum DEX. When a user purchases a
				Hodl Box, they will also receive a commemorative NFT as a token of their commitment. The
				NFTs become increasingly awesome with larger sums, adding a fun way for users to flex on
				social media.<br/><br/>

				Our project is open-source, welcoming UI competition and abiding by Ergo’s open source
				ethos. It&#39;s designed to be user-friendly, allowing users to mint in just two clicks.The Hodl
				Box system is secure and risk-free. Only the person who locked the box can unlock it, either
				when a certain price point is reached or after the established time period. The NFTs serve
				as a fun reward and Proof of Hodl, but they are not connected to the redemption process,
				eliminating the risk of losing access to your Hodl Box.<br/><br/>

				We&#39;ve implemented a small fee structure (0.5% contract, 0.5% UI) to support the project&#39;s
				sustainability. Importantly, the developers hold as well, with fees only paid after the hodl
				period, aligning the incentives of the ecosystem, users, and developers.<br/><br/>

				In conclusion, our project offers a perfect financial tool for the coming bull market,
				encouraging long-term investment and increasing the TVL in the Ergo ecosystem. We look
				forward to sharing our website and contract with you soon.<br/><br/>

				Best Regards,<br/><br/>

				TMR.ERG, c8, savonarola</div>`,fe,ae,Y,Q="Smart Contract",ee,Z,ue,ye;function Be(pe,Ie){return pe[0]=="ERG"?hs:ps}let be=Be(i),I=be(i);return ue=new us({}),{c(){e=L("div"),n=L("div"),s=L("div"),s.textContent=a,w=te(),h=L("div"),c=le("1. Your "),E=le(i[0]),d=le(` is locked on Ergo Blockchain behind a
			`),I.c(),O=te(),b=L("div"),_=le("2. As soon as Ergo pumps to $"),S=le(x),j=le("/ERG your coins unlock.*"),T=te(),R=L("div"),R.textContent=C,J=te(),F=L("div"),q=le("*If $"),D=le(N),W=le("/ERG is not reached, your "),K=le(i[0]),$=le(" unlocks on 2024-10-15."),G=te(),U=L("div"),U.innerHTML=X,fe=te(),ae=L("div"),Y=L("div"),Y.textContent=Q,ee=te(),Z=L("div"),Se(ue.$$.fragment),this.h()},l(pe){e=P(pe,"DIV",{class:!0});var Ie=V(e);n=P(Ie,"DIV",{class:!0});var me=V(n);s=P(me,"DIV",{class:!0,"data-svelte-h":!0}),je(s)!=="svelte-jy3xgb"&&(s.textContent=a),w=se(me),h=P(me,"DIV",{});var ke=V(h);c=ie(ke,"1. Your "),E=ie(ke,i[0]),d=ie(ke,` is locked on Ergo Blockchain behind a
			`),I.l(ke),ke.forEach(z),O=se(me),b=P(me,"DIV",{});var $e=V(b);_=ie($e,"2. As soon as Ergo pumps to $"),S=ie($e,x),j=ie($e,"/ERG your coins unlock.*"),$e.forEach(z),T=se(me),R=P(me,"DIV",{"data-svelte-h":!0}),je(R)!=="svelte-175k4k4"&&(R.textContent=C),J=se(me),F=P(me,"DIV",{class:!0});var t=V(F);q=ie(t,"*If $"),D=ie(t,N),W=ie(t,"/ERG is not reached, your "),K=ie(t,i[0]),$=ie(t," unlocks on 2024-10-15."),t.forEach(z),G=se(me),U=P(me,"DIV",{style:!0,"data-svelte-h":!0}),je(U)!=="svelte-1xzq9zw"&&(U.innerHTML=X),fe=se(me),ae=P(me,"DIV",{});var r=V(ae);Y=P(r,"DIV",{class:!0,"data-svelte-h":!0}),je(Y)!=="svelte-14ksf12"&&(Y.textContent=Q),ee=se(r),Z=P(r,"DIV",{});var l=V(Z);De(ue.$$.fragment,l),l.forEach(z),r.forEach(z),me.forEach(z),Ie.forEach(z),this.h()},h(){A(s,"class","text-4xl mt-10 mb-5"),A(F,"class","text-sm"),_e(U,"max-width","700px"),A(Y,"class","text-4xl mt-10 mb-5"),A(n,"class","w-full max-w-4xl flex flex-col gap-2"),A(e,"class","w-full min-h-full bg-main flex flex-col items-center svelte-jjvsd7")},m(pe,Ie){oe(pe,e,Ie),B(e,n),B(n,s),B(n,w),B(n,h),B(h,c),B(h,E),B(h,d),I.m(h,null),B(n,O),B(n,b),B(b,_),B(b,S),B(b,j),B(n,T),B(n,R),B(n,J),B(n,F),B(F,q),B(F,D),B(F,W),B(F,K),B(F,$),B(n,G),B(n,U),B(n,fe),B(n,ae),B(ae,Y),B(ae,ee),B(ae,Z),Le(ue,Z,null),ye=!0},p(pe,[Ie]){(!ye||Ie&1)&&Te(E,pe[0]),be!==(be=Be(pe))&&(I.d(1),I=be(pe),I&&(I.c(),I.m(h,null))),(!ye||Ie&2)&&x!==(x=pe[1]/10n**9n+"")&&Te(S,x),(!ye||Ie&2)&&N!==(N=pe[1]/10n**9n+"")&&Te(D,N),(!ye||Ie&1)&&Te(K,pe[0])},i(pe){ye||(ge(ue.$$.fragment,pe),ye=!0)},o(pe){xe(ue.$$.fragment,pe),ye=!1},d(pe){pe&&z(e),I.d(),Pe(ue)}}}function ms(i,e,n){let s,a;return ve(i,qe,w=>n(0,s=w)),ve(i,Xe,w=>n(1,a=w)),[s,a]}class gs extends Ae{constructor(e){super(),Ne(this,e,ms,ds,Oe,{})}}var kt={exports:{}},Pt={exports:{}},Mt={exports:{}};(function(i){(function(e){var n,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,w=Math.floor,h="[BigNumber Error] ",c=h+"Number primitive has more than 15 significant digits: ",E=1e14,d=14,O=9007199254740991,b=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],_=1e7,x=1e9;function S(N){var D,W,K,$=I.prototype={constructor:I,toString:null,valueOf:null},G=new I(1),U=20,X=4,fe=-7,ae=21,Y=-1e7,Q=1e7,ee=!1,Z=1,ue=0,ye={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Be="0123456789abcdefghijklmnopqrstuvwxyz",be=!0;function I(t,r){var l,g,f,p,y,o,u,v,m=this;if(!(m instanceof I))return new I(t,r);if(r==null){if(t&&t._isBigNumber===!0){m.s=t.s,!t.c||t.e>Q?m.c=m.e=null:t.e<Y?m.c=[m.e=0]:(m.e=t.e,m.c=t.c.slice());return}if((o=typeof t=="number")&&t*0==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(p=0,y=t;y>=10;y/=10,p++);p>Q?m.c=m.e=null:(m.e=p,m.c=[t]);return}v=String(t)}else{if(!s.test(v=String(t)))return K(m,v,o);m.s=v.charCodeAt(0)==45?(v=v.slice(1),-1):1}(p=v.indexOf("."))>-1&&(v=v.replace(".","")),(y=v.search(/e/i))>0?(p<0&&(p=y),p+=+v.slice(y+1),v=v.substring(0,y)):p<0&&(p=v.length)}else{if(C(r,2,Be.length,"Base"),r==10&&be)return m=new I(t),ke(m,U+m.e+1,X);if(v=String(t),o=typeof t=="number"){if(t*0!=0)return K(m,v,o,r);if(m.s=1/t<0?(v=v.slice(1),-1):1,I.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(c+t)}else m.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1;for(l=Be.slice(0,r),p=y=0,u=v.length;y<u;y++)if(l.indexOf(g=v.charAt(y))<0){if(g=="."){if(y>p){p=u;continue}}else if(!f&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){f=!0,y=-1,p=0;continue}return K(m,String(t),o,r)}o=!1,v=W(v,r,10,m.s),(p=v.indexOf("."))>-1?v=v.replace(".",""):p=v.length}for(y=0;v.charCodeAt(y)===48;y++);for(u=v.length;v.charCodeAt(--u)===48;);if(v=v.slice(y,++u)){if(u-=y,o&&I.DEBUG&&u>15&&(t>O||t!==w(t)))throw Error(c+m.s*t);if((p=p-y-1)>Q)m.c=m.e=null;else if(p<Y)m.c=[m.e=0];else{if(m.e=p,m.c=[],y=(p+1)%d,p<0&&(y+=d),y<u){for(y&&m.c.push(+v.slice(0,y)),u-=d;y<u;)m.c.push(+v.slice(y,y+=d));y=d-(v=v.slice(y)).length}else y-=u;for(;y--;v+="0");m.c.push(+v)}}else m.c=[m.e=0]}I.clone=S,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.EUCLID=9,I.config=I.set=function(t){var r,l;if(t!=null)if(typeof t=="object"){if(t.hasOwnProperty(r="DECIMAL_PLACES")&&(l=t[r],C(l,0,x,r),U=l),t.hasOwnProperty(r="ROUNDING_MODE")&&(l=t[r],C(l,0,8,r),X=l),t.hasOwnProperty(r="EXPONENTIAL_AT")&&(l=t[r],l&&l.pop?(C(l[0],-x,0,r),C(l[1],0,x,r),fe=l[0],ae=l[1]):(C(l,-x,x,r),fe=-(ae=l<0?-l:l))),t.hasOwnProperty(r="RANGE"))if(l=t[r],l&&l.pop)C(l[0],-x,-1,r),C(l[1],1,x,r),Y=l[0],Q=l[1];else if(C(l,-x,x,r),l)Y=-(Q=l<0?-l:l);else throw Error(h+r+" cannot be zero: "+l);if(t.hasOwnProperty(r="CRYPTO"))if(l=t[r],l===!!l)if(l)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ee=l;else throw ee=!l,Error(h+"crypto unavailable");else ee=l;else throw Error(h+r+" not true or false: "+l);if(t.hasOwnProperty(r="MODULO_MODE")&&(l=t[r],C(l,0,9,r),Z=l),t.hasOwnProperty(r="POW_PRECISION")&&(l=t[r],C(l,0,x,r),ue=l),t.hasOwnProperty(r="FORMAT"))if(l=t[r],typeof l=="object")ye=l;else throw Error(h+r+" not an object: "+l);if(t.hasOwnProperty(r="ALPHABET"))if(l=t[r],typeof l=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(l))be=l.slice(0,10)=="0123456789",Be=l;else throw Error(h+r+" invalid: "+l)}else throw Error(h+"Object expected: "+t);return{DECIMAL_PLACES:U,ROUNDING_MODE:X,EXPONENTIAL_AT:[fe,ae],RANGE:[Y,Q],CRYPTO:ee,MODULO_MODE:Z,POW_PRECISION:ue,FORMAT:ye,ALPHABET:Be}},I.isBigNumber=function(t){if(!t||t._isBigNumber!==!0)return!1;if(!I.DEBUG)return!0;var r,l,g=t.c,f=t.e,p=t.s;e:if({}.toString.call(g)=="[object Array]"){if((p===1||p===-1)&&f>=-x&&f<=x&&f===w(f)){if(g[0]===0){if(f===0&&g.length===1)return!0;break e}if(r=(f+1)%d,r<1&&(r+=d),String(g[0]).length==r){for(r=0;r<g.length;r++)if(l=g[r],l<0||l>=E||l!==w(l))break e;if(l!==0)return!0}}}else if(g===null&&f===null&&(p===null||p===1||p===-1))return!0;throw Error(h+"Invalid BigNumber: "+t)},I.maximum=I.max=function(){return Ie(arguments,-1)},I.minimum=I.min=function(){return Ie(arguments,1)},I.random=function(){var t=9007199254740992,r=Math.random()*t&2097151?function(){return w(Math.random()*t)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(l){var g,f,p,y,o,u=0,v=[],m=new I(G);if(l==null?l=U:C(l,0,x),y=a(l/d),ee)if(crypto.getRandomValues){for(g=crypto.getRandomValues(new Uint32Array(y*=2));u<y;)o=g[u]*131072+(g[u+1]>>>11),o>=9e15?(f=crypto.getRandomValues(new Uint32Array(2)),g[u]=f[0],g[u+1]=f[1]):(v.push(o%1e14),u+=2);u=y/2}else if(crypto.randomBytes){for(g=crypto.randomBytes(y*=7);u<y;)o=(g[u]&31)*281474976710656+g[u+1]*1099511627776+g[u+2]*4294967296+g[u+3]*16777216+(g[u+4]<<16)+(g[u+5]<<8)+g[u+6],o>=9e15?crypto.randomBytes(7).copy(g,u):(v.push(o%1e14),u+=7);u=y/7}else throw ee=!1,Error(h+"crypto unavailable");if(!ee)for(;u<y;)o=r(),o<9e15&&(v[u++]=o%1e14);for(y=v[--u],l%=d,y&&l&&(o=b[d-l],v[u]=w(y/o)*o);v[u]===0;v.pop(),u--);if(u<0)v=[p=0];else{for(p=-1;v[0]===0;v.splice(0,1),p-=d);for(u=1,o=v[0];o>=10;o/=10,u++);u<d&&(p-=d-u)}return m.e=p,m.c=v,m}}(),I.sum=function(){for(var t=1,r=arguments,l=new I(r[0]);t<r.length;)l=l.plus(r[t++]);return l},W=function(){var t="0123456789";function r(l,g,f,p){for(var y,o=[0],u,v=0,m=l.length;v<m;){for(u=o.length;u--;o[u]*=g);for(o[0]+=p.indexOf(l.charAt(v++)),y=0;y<o.length;y++)o[y]>f-1&&(o[y+1]==null&&(o[y+1]=0),o[y+1]+=o[y]/f|0,o[y]%=f)}return o.reverse()}return function(l,g,f,p,y){var o,u,v,m,k,M,H,re,he=l.indexOf("."),Ee=U,ne=X;for(he>=0&&(m=ue,ue=0,l=l.replace(".",""),re=new I(g),M=re.pow(l.length-he),ue=m,re.c=r(q(T(M.c),M.e,"0"),10,f,t),re.e=re.c.length),H=r(l,g,f,y?(o=Be,t):(o=t,Be)),v=m=H.length;H[--m]==0;H.pop());if(!H[0])return o.charAt(0);if(he<0?--v:(M.c=H,M.e=v,M.s=p,M=D(M,re,Ee,ne,f),H=M.c,k=M.r,v=M.e),u=v+Ee+1,he=H[u],m=f/2,k=k||u<0||H[u+1]!=null,k=ne<4?(he!=null||k)&&(ne==0||ne==(M.s<0?3:2)):he>m||he==m&&(ne==4||k||ne==6&&H[u-1]&1||ne==(M.s<0?8:7)),u<1||!H[0])l=k?q(o.charAt(1),-Ee,o.charAt(0)):o.charAt(0);else{if(H.length=u,k)for(--f;++H[--u]>f;)H[u]=0,u||(++v,H=[1].concat(H));for(m=H.length;!H[--m];);for(he=0,l="";he<=m;l+=o.charAt(H[he++]));l=q(l,v,o.charAt(0))}return l}}(),D=function(){function t(g,f,p){var y,o,u,v,m=0,k=g.length,M=f%_,H=f/_|0;for(g=g.slice();k--;)u=g[k]%_,v=g[k]/_|0,y=H*u+v*M,o=M*u+y%_*_+m,m=(o/p|0)+(y/_|0)+H*v,g[k]=o%p;return m&&(g=[m].concat(g)),g}function r(g,f,p,y){var o,u;if(p!=y)u=p>y?1:-1;else for(o=u=0;o<p;o++)if(g[o]!=f[o]){u=g[o]>f[o]?1:-1;break}return u}function l(g,f,p,y){for(var o=0;p--;)g[p]-=o,o=g[p]<f[p]?1:0,g[p]=o*y+g[p]-f[p];for(;!g[0]&&g.length>1;g.splice(0,1));}return function(g,f,p,y,o){var u,v,m,k,M,H,re,he,Ee,ne,ce,Ce,ut,mt,gt,Ge,nt,ze=g.s==f.s?1:-1,Re=g.c,de=f.c;if(!Re||!Re[0]||!de||!de[0])return new I(!g.s||!f.s||(Re?de&&Re[0]==de[0]:!de)?NaN:Re&&Re[0]==0||!de?ze*0:ze/0);for(he=new I(ze),Ee=he.c=[],v=g.e-f.e,ze=p+v+1,o||(o=E,v=j(g.e/d)-j(f.e/d),ze=ze/d|0),m=0;de[m]==(Re[m]||0);m++);if(de[m]>(Re[m]||0)&&v--,ze<0)Ee.push(1),k=!0;else{for(mt=Re.length,Ge=de.length,m=0,ze+=2,M=w(o/(de[0]+1)),M>1&&(de=t(de,M,o),Re=t(Re,M,o),Ge=de.length,mt=Re.length),ut=Ge,ne=Re.slice(0,Ge),ce=ne.length;ce<Ge;ne[ce++]=0);nt=de.slice(),nt=[0].concat(nt),gt=de[0],de[1]>=o/2&&gt++;do{if(M=0,u=r(de,ne,Ge,ce),u<0){if(Ce=ne[0],Ge!=ce&&(Ce=Ce*o+(ne[1]||0)),M=w(Ce/gt),M>1)for(M>=o&&(M=o-1),H=t(de,M,o),re=H.length,ce=ne.length;r(H,ne,re,ce)==1;)M--,l(H,Ge<re?nt:de,re,o),re=H.length,u=1;else M==0&&(u=M=1),H=de.slice(),re=H.length;if(re<ce&&(H=[0].concat(H)),l(ne,H,ce,o),ce=ne.length,u==-1)for(;r(de,ne,Ge,ce)<1;)M++,l(ne,Ge<ce?nt:de,ce,o),ce=ne.length}else u===0&&(M++,ne=[0]);Ee[m++]=M,ne[0]?ne[ce++]=Re[ut]||0:(ne=[Re[ut]],ce=1)}while((ut++<mt||ne[0]!=null)&&ze--);k=ne[0]!=null,Ee[0]||Ee.splice(0,1)}if(o==E){for(m=1,ze=Ee[0];ze>=10;ze/=10,m++);ke(he,p+(he.e=m+v*d-1)+1,y,k)}else he.e=v,he.r=+k;return he}}();function pe(t,r,l,g){var f,p,y,o,u;if(l==null?l=X:C(l,0,8),!t.c)return t.toString();if(f=t.c[0],y=t.e,r==null)u=T(t.c),u=g==1||g==2&&(y<=fe||y>=ae)?F(u,y):q(u,y,"0");else if(t=ke(new I(t),r,l),p=t.e,u=T(t.c),o=u.length,g==1||g==2&&(r<=p||p<=fe)){for(;o<r;u+="0",o++);u=F(u,p)}else if(r-=y,u=q(u,p,"0"),p+1>o){if(--r>0)for(u+=".";r--;u+="0");}else if(r+=p-o,r>0)for(p+1==o&&(u+=".");r--;u+="0");return t.s<0&&f?"-"+u:u}function Ie(t,r){for(var l,g,f=1,p=new I(t[0]);f<t.length;f++)g=new I(t[f]),(!g.s||(l=R(p,g))===r||l===0&&p.s===r)&&(p=g);return p}function me(t,r,l){for(var g=1,f=r.length;!r[--f];r.pop());for(f=r[0];f>=10;f/=10,g++);return(l=g+l*d-1)>Q?t.c=t.e=null:l<Y?t.c=[t.e=0]:(t.e=l,t.c=r),t}K=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,l=/^\.([^.]+)$/,g=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(p,y,o,u){var v,m=o?y:y.replace(f,"");if(g.test(m))p.s=isNaN(m)?null:m<0?-1:1;else{if(!o&&(m=m.replace(t,function(k,M,H){return v=(H=H.toLowerCase())=="x"?16:H=="b"?2:8,!u||u==v?M:k}),u&&(v=u,m=m.replace(r,"$1").replace(l,"0.$1")),y!=m))return new I(m,v);if(I.DEBUG)throw Error(h+"Not a"+(u?" base "+u:"")+" number: "+y);p.s=null}p.c=p.e=null}}();function ke(t,r,l,g){var f,p,y,o,u,v,m,k=t.c,M=b;if(k){e:{for(f=1,o=k[0];o>=10;o/=10,f++);if(p=r-f,p<0)p+=d,y=r,u=k[v=0],m=w(u/M[f-y-1]%10);else if(v=a((p+1)/d),v>=k.length)if(g){for(;k.length<=v;k.push(0));u=m=0,f=1,p%=d,y=p-d+1}else break e;else{for(u=o=k[v],f=1;o>=10;o/=10,f++);p%=d,y=p-d+f,m=y<0?0:w(u/M[f-y-1]%10)}if(g=g||r<0||k[v+1]!=null||(y<0?u:u%M[f-y-1]),g=l<4?(m||g)&&(l==0||l==(t.s<0?3:2)):m>5||m==5&&(l==4||g||l==6&&(p>0?y>0?u/M[f-y]:0:k[v-1])%10&1||l==(t.s<0?8:7)),r<1||!k[0])return k.length=0,g?(r-=t.e+1,k[0]=M[(d-r%d)%d],t.e=-r||0):k[0]=t.e=0,t;if(p==0?(k.length=v,o=1,v--):(k.length=v+1,o=M[d-p],k[v]=y>0?w(u/M[f-y]%M[y])*o:0),g)for(;;)if(v==0){for(p=1,y=k[0];y>=10;y/=10,p++);for(y=k[0]+=o,o=1;y>=10;y/=10,o++);p!=o&&(t.e++,k[0]==E&&(k[0]=1));break}else{if(k[v]+=o,k[v]!=E)break;k[v--]=0,o=1}for(p=k.length;k[--p]===0;k.pop());}t.e>Q?t.c=t.e=null:t.e<Y&&(t.c=[t.e=0])}return t}function $e(t){var r,l=t.e;return l===null?t.toString():(r=T(t.c),r=l<=fe||l>=ae?F(r,l):q(r,l,"0"),t.s<0?"-"+r:r)}return $.absoluteValue=$.abs=function(){var t=new I(this);return t.s<0&&(t.s=1),t},$.comparedTo=function(t,r){return R(this,new I(t,r))},$.decimalPlaces=$.dp=function(t,r){var l,g,f,p=this;if(t!=null)return C(t,0,x),r==null?r=X:C(r,0,8),ke(new I(p),t+p.e+1,r);if(!(l=p.c))return null;if(g=((f=l.length-1)-j(this.e/d))*d,f=l[f])for(;f%10==0;f/=10,g--);return g<0&&(g=0),g},$.dividedBy=$.div=function(t,r){return D(this,new I(t,r),U,X)},$.dividedToIntegerBy=$.idiv=function(t,r){return D(this,new I(t,r),0,1)},$.exponentiatedBy=$.pow=function(t,r){var l,g,f,p,y,o,u,v,m,k=this;if(t=new I(t),t.c&&!t.isInteger())throw Error(h+"Exponent not an integer: "+$e(t));if(r!=null&&(r=new I(r)),o=t.e>14,!k.c||!k.c[0]||k.c[0]==1&&!k.e&&k.c.length==1||!t.c||!t.c[0])return m=new I(Math.pow(+$e(k),o?t.s*(2-J(t)):+$e(t))),r?m.mod(r):m;if(u=t.s<0,r){if(r.c?!r.c[0]:!r.s)return new I(NaN);g=!u&&k.isInteger()&&r.isInteger(),g&&(k=k.mod(r))}else{if(t.e>9&&(k.e>0||k.e<-1||(k.e==0?k.c[0]>1||o&&k.c[1]>=24e7:k.c[0]<8e13||o&&k.c[0]<=9999975e7)))return p=k.s<0&&J(t)?-0:0,k.e>-1&&(p=1/p),new I(u?1/p:p);ue&&(p=a(ue/d+2))}for(o?(l=new I(.5),u&&(t.s=1),v=J(t)):(f=Math.abs(+$e(t)),v=f%2),m=new I(G);;){if(v){if(m=m.times(k),!m.c)break;p?m.c.length>p&&(m.c.length=p):g&&(m=m.mod(r))}if(f){if(f=w(f/2),f===0)break;v=f%2}else if(t=t.times(l),ke(t,t.e+1,1),t.e>14)v=J(t);else{if(f=+$e(t),f===0)break;v=f%2}k=k.times(k),p?k.c&&k.c.length>p&&(k.c.length=p):g&&(k=k.mod(r))}return g?m:(u&&(m=G.div(m)),r?m.mod(r):p?ke(m,ue,X,y):m)},$.integerValue=function(t){var r=new I(this);return t==null?t=X:C(t,0,8),ke(r,r.e+1,t)},$.isEqualTo=$.eq=function(t,r){return R(this,new I(t,r))===0},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(t,r){return R(this,new I(t,r))>0},$.isGreaterThanOrEqualTo=$.gte=function(t,r){return(r=R(this,new I(t,r)))===1||r===0},$.isInteger=function(){return!!this.c&&j(this.e/d)>this.c.length-2},$.isLessThan=$.lt=function(t,r){return R(this,new I(t,r))<0},$.isLessThanOrEqualTo=$.lte=function(t,r){return(r=R(this,new I(t,r)))===-1||r===0},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&this.c[0]==0},$.minus=function(t,r){var l,g,f,p,y=this,o=y.s;if(t=new I(t,r),r=t.s,!o||!r)return new I(NaN);if(o!=r)return t.s=-r,y.plus(t);var u=y.e/d,v=t.e/d,m=y.c,k=t.c;if(!u||!v){if(!m||!k)return m?(t.s=-r,t):new I(k?y:NaN);if(!m[0]||!k[0])return k[0]?(t.s=-r,t):new I(m[0]?y:X==3?-0:0)}if(u=j(u),v=j(v),m=m.slice(),o=u-v){for((p=o<0)?(o=-o,f=m):(v=u,f=k),f.reverse(),r=o;r--;f.push(0));f.reverse()}else for(g=(p=(o=m.length)<(r=k.length))?o:r,o=r=0;r<g;r++)if(m[r]!=k[r]){p=m[r]<k[r];break}if(p&&(f=m,m=k,k=f,t.s=-t.s),r=(g=k.length)-(l=m.length),r>0)for(;r--;m[l++]=0);for(r=E-1;g>o;){if(m[--g]<k[g]){for(l=g;l&&!m[--l];m[l]=r);--m[l],m[g]+=E}m[g]-=k[g]}for(;m[0]==0;m.splice(0,1),--v);return m[0]?me(t,m,v):(t.s=X==3?-1:1,t.c=[t.e=0],t)},$.modulo=$.mod=function(t,r){var l,g,f=this;return t=new I(t,r),!f.c||!t.s||t.c&&!t.c[0]?new I(NaN):!t.c||f.c&&!f.c[0]?new I(f):(Z==9?(g=t.s,t.s=1,l=D(f,t,0,3),t.s=g,l.s*=g):l=D(f,t,0,Z),t=f.minus(l.times(t)),!t.c[0]&&Z==1&&(t.s=f.s),t)},$.multipliedBy=$.times=function(t,r){var l,g,f,p,y,o,u,v,m,k,M,H,re,he,Ee,ne=this,ce=ne.c,Ce=(t=new I(t,r)).c;if(!ce||!Ce||!ce[0]||!Ce[0])return!ne.s||!t.s||ce&&!ce[0]&&!Ce||Ce&&!Ce[0]&&!ce?t.c=t.e=t.s=null:(t.s*=ne.s,!ce||!Ce?t.c=t.e=null:(t.c=[0],t.e=0)),t;for(g=j(ne.e/d)+j(t.e/d),t.s*=ne.s,u=ce.length,k=Ce.length,u<k&&(re=ce,ce=Ce,Ce=re,f=u,u=k,k=f),f=u+k,re=[];f--;re.push(0));for(he=E,Ee=_,f=k;--f>=0;){for(l=0,M=Ce[f]%Ee,H=Ce[f]/Ee|0,y=u,p=f+y;p>f;)v=ce[--y]%Ee,m=ce[y]/Ee|0,o=H*v+m*M,v=M*v+o%Ee*Ee+re[p]+l,l=(v/he|0)+(o/Ee|0)+H*m,re[p--]=v%he;re[p]=l}return l?++g:re.splice(0,1),me(t,re,g)},$.negated=function(){var t=new I(this);return t.s=-t.s||null,t},$.plus=function(t,r){var l,g=this,f=g.s;if(t=new I(t,r),r=t.s,!f||!r)return new I(NaN);if(f!=r)return t.s=-r,g.minus(t);var p=g.e/d,y=t.e/d,o=g.c,u=t.c;if(!p||!y){if(!o||!u)return new I(f/0);if(!o[0]||!u[0])return u[0]?t:new I(o[0]?g:f*0)}if(p=j(p),y=j(y),o=o.slice(),f=p-y){for(f>0?(y=p,l=u):(f=-f,l=o),l.reverse();f--;l.push(0));l.reverse()}for(f=o.length,r=u.length,f-r<0&&(l=u,u=o,o=l,r=f),f=0;r;)f=(o[--r]=o[r]+u[r]+f)/E|0,o[r]=E===o[r]?0:o[r]%E;return f&&(o=[f].concat(o),++y),me(t,o,y)},$.precision=$.sd=function(t,r){var l,g,f,p=this;if(t!=null&&t!==!!t)return C(t,1,x),r==null?r=X:C(r,0,8),ke(new I(p),t,r);if(!(l=p.c))return null;if(f=l.length-1,g=f*d+1,f=l[f]){for(;f%10==0;f/=10,g--);for(f=l[0];f>=10;f/=10,g++);}return t&&p.e+1>g&&(g=p.e+1),g},$.shiftedBy=function(t){return C(t,-O,O),this.times("1e"+t)},$.squareRoot=$.sqrt=function(){var t,r,l,g,f,p=this,y=p.c,o=p.s,u=p.e,v=U+4,m=new I("0.5");if(o!==1||!y||!y[0])return new I(!o||o<0&&(!y||y[0])?NaN:y?p:1/0);if(o=Math.sqrt(+$e(p)),o==0||o==1/0?(r=T(y),(r.length+u)%2==0&&(r+="0"),o=Math.sqrt(+r),u=j((u+1)/2)-(u<0||u%2),o==1/0?r="5e"+u:(r=o.toExponential(),r=r.slice(0,r.indexOf("e")+1)+u),l=new I(r)):l=new I(o+""),l.c[0]){for(u=l.e,o=u+v,o<3&&(o=0);;)if(f=l,l=m.times(f.plus(D(p,f,v,1))),T(f.c).slice(0,o)===(r=T(l.c)).slice(0,o))if(l.e<u&&--o,r=r.slice(o-3,o+1),r=="9999"||!g&&r=="4999"){if(!g&&(ke(f,f.e+U+2,0),f.times(f).eq(p))){l=f;break}v+=4,o+=4,g=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ke(l,l.e+U+2,1),t=!l.times(l).eq(p));break}}return ke(l,l.e+U+1,X,t)},$.toExponential=function(t,r){return t!=null&&(C(t,0,x),t++),pe(this,t,r,1)},$.toFixed=function(t,r){return t!=null&&(C(t,0,x),t=t+this.e+1),pe(this,t,r)},$.toFormat=function(t,r,l){var g,f=this;if(l==null)t!=null&&r&&typeof r=="object"?(l=r,r=null):t&&typeof t=="object"?(l=t,t=r=null):l=ye;else if(typeof l!="object")throw Error(h+"Argument not an object: "+l);if(g=f.toFixed(t,r),f.c){var p,y=g.split("."),o=+l.groupSize,u=+l.secondaryGroupSize,v=l.groupSeparator||"",m=y[0],k=y[1],M=f.s<0,H=M?m.slice(1):m,re=H.length;if(u&&(p=o,o=u,u=p,re-=p),o>0&&re>0){for(p=re%o||o,m=H.substr(0,p);p<re;p+=o)m+=v+H.substr(p,o);u>0&&(m+=v+H.slice(p)),M&&(m="-"+m)}g=k?m+(l.decimalSeparator||"")+((u=+l.fractionGroupSize)?k.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(l.fractionGroupSeparator||"")):k):m}return(l.prefix||"")+g+(l.suffix||"")},$.toFraction=function(t){var r,l,g,f,p,y,o,u,v,m,k,M,H=this,re=H.c;if(t!=null&&(o=new I(t),!o.isInteger()&&(o.c||o.s!==1)||o.lt(G)))throw Error(h+"Argument "+(o.isInteger()?"out of range: ":"not an integer: ")+$e(o));if(!re)return new I(H);for(r=new I(G),v=l=new I(G),g=u=new I(G),M=T(re),p=r.e=M.length-H.e-1,r.c[0]=b[(y=p%d)<0?d+y:y],t=!t||o.comparedTo(r)>0?p>0?r:v:o,y=Q,Q=1/0,o=new I(M),u.c[0]=0;m=D(o,r,0,1),f=l.plus(m.times(g)),f.comparedTo(t)!=1;)l=g,g=f,v=u.plus(m.times(f=v)),u=f,r=o.minus(m.times(f=r)),o=f;return f=D(t.minus(l),g,0,1),u=u.plus(f.times(v)),l=l.plus(f.times(g)),u.s=v.s=H.s,p=p*2,k=D(v,g,p,X).minus(H).abs().comparedTo(D(u,l,p,X).minus(H).abs())<1?[v,g]:[u,l],Q=y,k},$.toNumber=function(){return+$e(this)},$.toPrecision=function(t,r){return t!=null&&C(t,1,x),pe(this,t,r,2)},$.toString=function(t){var r,l=this,g=l.s,f=l.e;return f===null?g?(r="Infinity",g<0&&(r="-"+r)):r="NaN":(t==null?r=f<=fe||f>=ae?F(T(l.c),f):q(T(l.c),f,"0"):t===10&&be?(l=ke(new I(l),U+f+1,X),r=q(T(l.c),l.e,"0")):(C(t,2,Be.length,"Base"),r=W(q(T(l.c),f,"0"),10,t,g,!0)),g<0&&l.c[0]&&(r="-"+r)),r},$.valueOf=$.toJSON=function(){return $e(this)},$._isBigNumber=!0,N!=null&&I.set(N),I}function j(N){var D=N|0;return N>0||N===D?D:D-1}function T(N){for(var D,W,K=1,$=N.length,G=N[0]+"";K<$;){for(D=N[K++]+"",W=d-D.length;W--;D="0"+D);G+=D}for($=G.length;G.charCodeAt(--$)===48;);return G.slice(0,$+1||1)}function R(N,D){var W,K,$=N.c,G=D.c,U=N.s,X=D.s,fe=N.e,ae=D.e;if(!U||!X)return null;if(W=$&&!$[0],K=G&&!G[0],W||K)return W?K?0:-X:U;if(U!=X)return U;if(W=U<0,K=fe==ae,!$||!G)return K?0:!$^W?1:-1;if(!K)return fe>ae^W?1:-1;for(X=(fe=$.length)<(ae=G.length)?fe:ae,U=0;U<X;U++)if($[U]!=G[U])return $[U]>G[U]^W?1:-1;return fe==ae?0:fe>ae^W?1:-1}function C(N,D,W,K){if(N<D||N>W||N!==w(N))throw Error(h+(K||"Argument")+(typeof N=="number"?N<D||N>W?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function J(N){var D=N.c.length-1;return j(N.e/d)==D&&N.c[D]%2!=0}function F(N,D){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(D<0?"e":"e+")+D}function q(N,D,W){var K,$;if(D<0){for($=W+".";++D;$+=W);N=$+N}else if(K=N.length,++D>K){for($=W,D-=K;--D;$+=W);N+=$}else D<K&&(N=N.slice(0,D)+"."+N.slice(D));return N}n=S(),n.default=n.BigNumber=n,i.exports?i.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(qt)})(Mt);var Ht=Mt.exports;(function(i){var e=Ht,n=i.exports;(function(){var s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,w,h={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c;function E(O){return s.lastIndex=0,s.test(O)?'"'+O.replace(s,function(b){var _=h[b];return typeof _=="string"?_:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+O+'"'}function d(O,b){var _,x,S,j,T=a,R,C=b[O],J=C!=null&&(C instanceof e||e.isBigNumber(C));switch(C&&typeof C=="object"&&typeof C.toJSON=="function"&&(C=C.toJSON(O)),typeof c=="function"&&(C=c.call(b,O,C)),typeof C){case"string":return J?C:E(C);case"number":return isFinite(C)?String(C):"null";case"boolean":case"null":case"bigint":return String(C);case"object":if(!C)return"null";if(a+=w,R=[],Object.prototype.toString.apply(C)==="[object Array]"){for(j=C.length,_=0;_<j;_+=1)R[_]=d(_,C)||"null";return S=R.length===0?"[]":a?`[
`+a+R.join(`,
`+a)+`
`+T+"]":"["+R.join(",")+"]",a=T,S}if(c&&typeof c=="object")for(j=c.length,_=0;_<j;_+=1)typeof c[_]=="string"&&(x=c[_],S=d(x,C),S&&R.push(E(x)+(a?": ":":")+S));else Object.keys(C).forEach(function(F){var q=d(F,C);q&&R.push(E(F)+(a?": ":":")+q)});return S=R.length===0?"{}":a?`{
`+a+R.join(`,
`+a)+`
`+T+"}":"{"+R.join(",")+"}",a=T,S}}typeof n.stringify!="function"&&(n.stringify=function(O,b,_){var x;if(a="",w="",typeof _=="number")for(x=0;x<_;x+=1)w+=" ";else typeof _=="string"&&(w=_);if(c=b,b&&typeof b!="function"&&(typeof b!="object"||typeof b.length!="number"))throw new Error("JSON.stringify");return d("",{"":O})})})()})(Pt);var vs=Pt.exports,pt=null;const _s=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,ws=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var ys=function(i){var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(i!=null){if(i.strict===!0&&(e.strict=!0),i.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=i.alwaysParseAsBig===!0?i.alwaysParseAsBig:!1,e.useNativeBigInt=i.useNativeBigInt===!0?i.useNativeBigInt:!1,typeof i.constructorAction<"u")if(i.constructorAction==="error"||i.constructorAction==="ignore"||i.constructorAction==="preserve")e.constructorAction=i.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${i.constructorAction}`);if(typeof i.protoAction<"u")if(i.protoAction==="error"||i.protoAction==="ignore"||i.protoAction==="preserve")e.protoAction=i.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${i.protoAction}`)}var n,s,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},w,h=function(j){throw{name:"SyntaxError",message:j,at:n,text:w}},c=function(j){return j&&j!==s&&h("Expected '"+j+"' instead of '"+s+"'"),s=w.charAt(n),n+=1,s},E=function(){var j,T="";for(s==="-"&&(T="-",c("-"));s>="0"&&s<="9";)T+=s,c();if(s===".")for(T+=".";c()&&s>="0"&&s<="9";)T+=s;if(s==="e"||s==="E")for(T+=s,c(),(s==="-"||s==="+")&&(T+=s,c());s>="0"&&s<="9";)T+=s,c();if(j=+T,!isFinite(j))h("Bad number");else return pt==null&&(pt=Ht),T.length>15?e.storeAsString?T:e.useNativeBigInt?BigInt(T):new pt(T):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(j):new pt(j):j},d=function(){var j,T,R="",C;if(s==='"')for(var J=n;c();){if(s==='"')return n-1>J&&(R+=w.substring(J,n-1)),c(),R;if(s==="\\"){if(n-1>J&&(R+=w.substring(J,n-1)),c(),s==="u"){for(C=0,T=0;T<4&&(j=parseInt(c(),16),!!isFinite(j));T+=1)C=C*16+j;R+=String.fromCharCode(C)}else if(typeof a[s]=="string")R+=a[s];else break;J=n}}h("Bad string")},O=function(){for(;s&&s<=" ";)c()},b=function(){switch(s){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}h("Unexpected '"+s+"'")},_,x=function(){var j=[];if(s==="["){if(c("["),O(),s==="]")return c("]"),j;for(;s;){if(j.push(_()),O(),s==="]")return c("]"),j;c(","),O()}}h("Bad array")},S=function(){var j,T=Object.create(null);if(s==="{"){if(c("{"),O(),s==="}")return c("}"),T;for(;s;){if(j=d(),O(),c(":"),e.strict===!0&&Object.hasOwnProperty.call(T,j)&&h('Duplicate key "'+j+'"'),_s.test(j)===!0?e.protoAction==="error"?h("Object contains forbidden prototype property"):e.protoAction==="ignore"?_():T[j]=_():ws.test(j)===!0?e.constructorAction==="error"?h("Object contains forbidden constructor property"):e.constructorAction==="ignore"?_():T[j]=_():T[j]=_(),O(),s==="}")return c("}"),T;c(","),O()}}h("Bad object")};return _=function(){switch(O(),s){case"{":return S();case"[":return x();case'"':return d();case"-":return E();default:return s>="0"&&s<="9"?E():b()}},function(j,T){var R;return w=j+"",n=0,s=" ",R=_(),O(),s&&h("Syntax error"),typeof T=="function"?function C(J,F){var q,N=J[F];return N&&typeof N=="object"&&Object.keys(N).forEach(function(D){q=C(N,D),q!==void 0?N[D]=q:delete N[D]}),T.call(J,F,N)}({"":R},""):R}},Es=ys,Gt=vs.stringify,Ut=Es;kt.exports=function(i){return{parse:Ut(i),stringify:Gt}};kt.exports.parse=Ut();var xs=kt.exports.stringify=Gt;function Bt(i){return bs(i.name,i.description,i.sha256,i.url)}function bs(i,e,n,s){return{R4:rt(lt(it,at("utf8",i))),R5:rt(lt(it,at("utf8",e))),R6:rt(lt(it,at("utf8","0"))),R7:"0e020101",R8:rt(lt(it,at("hex",n))),R9:rt(lt(it,at("utf8",s)))}}function ks(i){let e=JSON.parse(JSON.stringify(i));e.value=e.value.toString(),e.assets===void 0&&(e.assets=[]);for(let n=0;n<e.assets.length;n++)e.assets[n].amount=e.assets[n].amount.toString();return e}const Bs="011d3364de07e5a26f0c4eef0852cddb387039a921b7154ef3cab22c6eda887f";async function Ft(){let n=(await(await fetch(`https://api.ergoplatform.com/api/v1/boxes/unspent/byTokenId/${Bs}`)).json()).items[0];return n=ks(n),n}async function js(i,e,n,s,a,w,h){const c=Je.fromBase58(i),E=Je.fromBase58(w),d=1372200,O=10n**18n/h,b=new Date().toISOString().split("T")[0],S=(1/(await Ft()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),j={name:a.name,description:`Erg price: $${S}, date: ${b}, unlock: 2024-10-15`,sha256:a.sha256,url:`ipfs://${a.cid}`},T=new st(ft,Kt).addTokens(s).setAdditionalRegisters({R4:yt(O).toHex(),R5:Et(d).toHex(),R6:Ye(Qe(Ze(c.getPublicKeys()))).toHex(),R7:Ye(Qe(Ze(E.getPublicKeys()))).toHex()}),R=new st(ft,i).mintToken({amount:"1",name:a.name}).setAdditionalRegisters(Bt(j));return new xt(n).from([...e]).to([T,R]).sendChangeTo(c).payFee(bt*2n).build().toEIP12Object()}async function Is(i,e,n,s,a,w){const h=Je.fromBase58(i),c=Je.fromBase58(a),E=1372200,d=10n**18n/w,O=new Date().toISOString().split("T")[0],b=BigInt(s.price*10**9),S=(1/(await Ft()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),j={name:s.name,description:`Erg price: $${S}, date: ${O}, unlock: 2024-10-15`,sha256:s.sha256,url:`ipfs://${s.cid}`},T=new st(b,Wt).setAdditionalRegisters({R4:yt(d).toHex(),R5:Et(E).toHex(),R6:Ye(Qe(Ze(h.getPublicKeys()))).toHex(),R7:Ye(Qe(Ze(c.getPublicKeys()))).toHex()}),R=new st(ft,i).mintToken({amount:"1",name:s.name}).setAdditionalRegisters(Bt(j));return new xt(n).from([...e]).to([T,R]).sendChangeTo(h).payFee(bt).build().toEIP12Object()}async function Cs(i,e,n,s,a,w,h,c,E,d){const O=Je.fromBase58(i),b=Je.fromBase58(w),_=Je.fromBase58(d);c=n+2;const x={name:"5,000.00 ERG Holdbox",description:`price: ${h/10n**9n} ERG, heigth:${c}, date: ${E},`,sha256:"4142a557cf9905610c69a6defa14be6d09495090e8f65db9aeda3a0dd236f009",url:"https://i.ibb.co/FzXdR2Y/5000erg-original-min.png"},S=new st(ft,s).addTokens(a).setAdditionalRegisters({R4:yt(h).toHex(),R5:Et(c).toHex(),R6:Ye(Qe(Ze(O.getPublicKeys()))).toHex(),R7:Ye(Qe(Ze(b.getPublicKeys()))).toHex(),R8:Ye(Qe(Ze(_.getPublicKeys()))).toHex()}),j=new st(ft,i).mintToken({amount:"1",name:"5,000.00 ERG Holdbox"}).setAdditionalRegisters(Bt(x));return new xt(n).from([...e]).to([S,j]).sendChangeTo(O).payFee(bt*2n).build().toEIP12Object()}function Rs(i){let e;return{c(){e=le(i[0])},l(n){e=ie(n,i[0])},m(n,s){oe(n,e,s)},p(n,s){s&1&&Te(e,n[0])},d(n){n&&z(e)}}}function Ts(i){let e=i[1].priceCurrency+"",n;return{c(){n=le(e)},l(s){n=ie(s,e)},m(s,a){oe(s,n,a)},p(s,a){a&2&&e!==(e=s[1].priceCurrency+"")&&Te(n,e)},d(s){s&&z(n)}}}function $t(i){let e,n,s="hodlERG3",a,w,h,c,E="ERG",d,O;return{c(){e=L("div"),n=L("button"),n.textContent=s,a=te(),w=L("div"),h=te(),c=L("button"),c.textContent=E,this.h()},l(b){e=P(b,"DIV",{class:!0});var _=V(e);n=P(_,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),je(n)!=="svelte-1x1p87j"&&(n.textContent=s),a=se(_),w=P(_,"DIV",{style:!0}),V(w).forEach(z),h=se(_),c=P(_,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),je(c)!=="svelte-ow4po6"&&(c.textContent=E),_.forEach(z),this.h()},h(){A(n,"class","pl-4 pr-2 py-1 option-left text-sm svelte-16q2dwg"),_e(n,"min-width","100px"),Ue(n,"inactive",i[0]!="hodlERG3"),Ue(n,"active",i[0]=="hodlERG3"),_e(w,"height","100%"),_e(w,"width","1px"),_e(w,"background","gray"),A(c,"class","pr-4 pl-2 py-1 option-right text-sm svelte-16q2dwg"),_e(c,"min-width","100px"),Ue(c,"inactive",i[0]!="ERG"),Ue(c,"active",i[0]=="ERG"),A(e,"class","flex mt-2")},m(b,_){oe(b,e,_),B(e,n),B(e,a),B(e,w),B(e,h),B(e,c),d||(O=[Me(n,"click",i[5]),Me(c,"click",i[6])],d=!0)},p(b,_){_&1&&Ue(n,"inactive",b[0]!="hodlERG3"),_&1&&Ue(n,"active",b[0]=="hodlERG3"),_&1&&Ue(c,"inactive",b[0]!="ERG"),_&1&&Ue(c,"active",b[0]=="ERG")},d(b){b&&z(e),d=!1,dt(O)}}}function $s(i){let e,n,s,a=i[1].price+"",w,h,c,E,d;function O(S,j){return S[2]==et?Ts:Rs}let b=O(i),_=b(i),x=i[2]!=et&&$t(i);return{c(){e=L("div"),n=L("button"),s=le("Lock "),w=le(a),h=te(),_.c(),c=te(),x&&x.c(),this.h()},l(S){e=P(S,"DIV",{class:!0});var j=V(e);n=P(j,"BUTTON",{class:!0,style:!0});var T=V(n);s=ie(T,"Lock "),w=ie(T,a),h=se(T),_.l(T),T.forEach(z),c=se(j),x&&x.l(j),j.forEach(z),this.h()},h(){A(n,"class","btn p-4"),_e(n,"width","230px"),A(e,"class","mt-4 p-4 box w-full flex flex-col items-center justify-center")},m(S,j){oe(S,e,j),B(e,n),B(n,s),B(n,w),B(n,h),_.m(n,null),B(e,c),x&&x.m(e,null),E||(d=Me(n,"click",i[3]),E=!0)},p(S,[j]){j&2&&a!==(a=S[1].price+"")&&Te(w,a),b===(b=O(S))&&_?_.p(S,j):(_.d(1),_=b(S),_&&(_.c(),_.m(n,null))),S[2]!=et?x?x.p(S,j):(x=$t(S),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},i:we,o:we,d(S){S&&z(e),_.d(),x&&x.d(),E=!1,d()}}}function Os(i,e){return i.some(n=>n.tokenId==e.tokenId)?(i.find(n=>n.tokenId==e.tokenId).amount+=e.amount,i):[...i,e]}function As(i,e,n){let s,a,w,h,c,E,d,O;ve(i,Lt,R=>n(4,s=R)),ve(i,vt,R=>n(10,a=R)),ve(i,qe,R=>n(0,w=R)),ve(i,He,R=>n(1,h=R)),ve(i,Xe,R=>n(11,c=R)),ve(i,tt,R=>n(2,E=R)),ve(i,It,R=>n(12,d=R)),ve(i,Ct,R=>n(13,O=R));let b=[];async function _(R){var C;if((C=window.ergoConnector[R])!=null&&C.isConnected){const J=await ergo.get_utxos();It.set(JSON.parse(JSON.stringify(J))),Ct.set(J.flatMap(F=>F.assets.map(q=>(q.amount=BigInt(q.amount),q))).reduce(Os,[])),O.filter(F=>!b.some(q=>q.tokenId==F.tokenId))}}function x(){b=[]}async function S(){var $;if(!s||!(($=window.ergoConnector[s])!=null&&$.isConnected)){ot("Connect a wallet.",1500);return}const R=await ergo.get_utxos(),C=BigInt(await ergo.get_balance()),J=R.flatMap(G=>G.assets).reduce((G,U)=>G+(U.tokenId==Rt?BigInt(U.amount):0n),0n),F=await ergo.get_change_address(),q=await ergo.get_current_height();let N;if(E==et){if(R.flatMap(U=>U.assets).reduce((U,X)=>U+(X.tokenId==Tt?BigInt(X.amount):0n),0n)<BigInt(h.price)){ot("Not enough Erdoge.",1500);return}N=await Cs(F,d,q,Xt,[{tokenId:Tt,amount:ct[0].price}],et,ct[0].targetRateInNanoErg,ct[0].unlockHeight,ct[0].unlockDate,Jt)}else if(w=="ERG"){if(C<BigInt(h.price*10**9)){ot("Not enough Erg.",1500);return}N=await Is(F,d,q,h,E,c)}else{if(J<BigInt(h.price*10**9)){ot("Not enough Tokens.",1500);return}const G={tokenId:Rt,amount:h.price*10**9+""};N=await js(F,d,q,G,h,E,c)}const D=await ergo.sign_tx(N);console.log(D);const W=await ergo.submit_tx(D);console.log("transactionId:",W),ot("Transaction submitted",3e3);const K={treasure:h,currency:w,hodler:F,tx:D,transactionId:W};vt.update(G=>(G.push(K),G)),localStorage.setItem("ergo_bay_unconfirmed_mints",xs(a)),x()}const j=()=>qe.set("hodlERG3"),T=()=>qe.set("ERG");return i.$$.update=()=>{i.$$.dirty&16&&_(s)},[w,h,E,S,s,j,T]}class Ns extends Ae{constructor(e){super(),Ne(this,e,As,$s,Oe,{})}}function zs(i){let e,n,s='<img src="chest/erdoge/icon.png" alt=""/>',a,w,h='<img src="ship.png" alt=""/>',c,E,d='<img src="chest/bitmasks/icon.png" alt=""/>',O,b,_='<img src="chest/walrus/icon.png" alt="" style="width: 42px;"/>',x,S;return{c(){e=L("div"),n=L("button"),n.innerHTML=s,a=te(),w=L("button"),w.innerHTML=h,c=te(),E=L("button"),E.innerHTML=d,O=te(),b=L("button"),b.innerHTML=_,this.h()},l(j){e=P(j,"DIV",{class:!0});var T=V(e);n=P(T,"BUTTON",{class:!0,"data-svelte-h":!0}),je(n)!=="svelte-3dr40p"&&(n.innerHTML=s),a=se(T),w=P(T,"BUTTON",{class:!0,"data-svelte-h":!0}),je(w)!=="svelte-1qhbbbx"&&(w.innerHTML=h),c=se(T),E=P(T,"BUTTON",{class:!0,"data-svelte-h":!0}),je(E)!=="svelte-p0dv1p"&&(E.innerHTML=d),O=se(T),b=P(T,"BUTTON",{class:!0,"data-svelte-h":!0}),je(b)!=="svelte-fe3fay"&&(b.innerHTML=_),T.forEach(z),this.h()},h(){A(n,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),A(w,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),A(E,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),A(b,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),A(e,"class","fixed flex flex-col left-0 top-0 mt-24 ml-4 gap-2")},m(j,T){oe(j,e,T),B(e,n),B(e,a),B(e,w),B(e,c),B(e,E),B(e,O),B(e,b),x||(S=[Me(n,"click",i[1]),Me(w,"click",i[2]),Me(E,"click",i[3]),Me(b,"click",i[4])],x=!0)},p:we,i:we,o:we,d(j){j&&z(e),x=!1,dt(S)}}}function Ss(i,e,n){let s;ve(i,We,d=>n(5,s=d));function a(d){d=="erdoge"&&(Xe.set(Yt),tt.set(et),We.set(ct),He.set(s[0]),qe.set("Erdoge")),d=="hodlbox"&&(Xe.set(Qt),tt.set(Zt),We.set(es),He.set(s[0]),qe.set("ERG")),d=="bitmasks"&&(Xe.set(ts),tt.set(ss),We.set(ns),He.set(s[0]),qe.set("ERG")),d=="walrus"&&(Xe.set(rs),tt.set(ls),We.set(is),He.set(s[0]),qe.set("ERG"))}return[a,()=>a("erdoge"),()=>a("hodlbox"),()=>a("bitmasks"),()=>a("walrus")]}class Ds extends Ae{constructor(e){super(),Ne(this,e,Ss,zs,Oe,{})}}function Ls(i){let e,n,s="unlock: 2024-10-15",a,w,h=i[0].name.split(" ")[0]+"",c,E,d,O,b=Number(i[2]/10n**9n).toFixed(2)+"",_,x,S,j,T,R,C,J,F,q,N,D,W,K,$,G,U,X,fe,ae;return{c(){e=L("div"),n=L("div"),n.textContent=s,a=te(),w=L("div"),c=le(h),E=te(),d=L("div"),O=le("$"),_=le(b),x=le("/ERG"),S=te(),j=L("div"),T=L("button"),R=Fe("svg"),C=Fe("path"),q=te(),N=L("img"),W=te(),K=L("button"),$=Fe("svg"),G=Fe("path"),this.h()},l(Y){e=P(Y,"DIV",{class:!0});var Q=V(e);n=P(Q,"DIV",{class:!0,"data-svelte-h":!0}),je(n)!=="svelte-1whik13"&&(n.textContent=s),a=se(Q),w=P(Q,"DIV",{class:!0});var ee=V(w);c=ie(ee,h),ee.forEach(z),E=se(Q),d=P(Q,"DIV",{class:!0});var Z=V(d);O=ie(Z,"$"),_=ie(Z,b),x=ie(Z,"/ERG"),Z.forEach(z),Q.forEach(z),S=se(Y),j=P(Y,"DIV",{class:!0});var ue=V(j);T=P(ue,"BUTTON",{style:!0});var ye=V(T);R=Ve(ye,"svg",{xmlns:!0,viewBox:!0});var Be=V(R);C=Ve(Be,"path",{fill:!0,d:!0}),V(C).forEach(z),Be.forEach(z),ye.forEach(z),q=se(ue),N=P(ue,"IMG",{src:!0,alt:!0}),W=se(ue),K=P(ue,"BUTTON",{style:!0});var be=V(K);$=Ve(be,"svg",{xmlns:!0,viewBox:!0});var I=V($);G=Ve(I,"path",{fill:!0,d:!0}),V(G).forEach(z),I.forEach(z),be.forEach(z),ue.forEach(z),this.h()},h(){A(n,"class","italic text-slate-300"),A(w,"class","text-7xl font-bold text-white"),A(d,"class","text-slate-200"),A(e,"class","flex flex-col items-center"),A(C,"fill",J=i[0].id==0?"#CCC3":"#CCCD"),A(C,"d","M3 12l18-12v24z"),A(R,"xmlns","http://www.w3.org/2000/svg"),A(R,"viewBox","0 0 24 24"),T.disabled=F=i[0].id==0,_e(T,"width","100px"),_e(T,"height","100px"),Ke(N.src,D=i[0].img)||A(N,"src",D),A(N,"alt",""),A(G,"fill",U=i[0].id==i[1].length-1?"#CCC3":"#CCCD"),A(G,"d","M21 12l-18 12v-24z"),A($,"xmlns","http://www.w3.org/2000/svg"),A($,"viewBox","0 0 24 24"),K.disabled=X=i[0].id==i[1].length-1,_e(K,"width","100px"),_e(K,"height","100px"),A(j,"class","flex items-center gap-4")},m(Y,Q){oe(Y,e,Q),B(e,n),B(e,a),B(e,w),B(w,c),B(e,E),B(e,d),B(d,O),B(d,_),B(d,x),oe(Y,S,Q),oe(Y,j,Q),B(j,T),B(T,R),B(R,C),B(j,q),B(j,N),B(j,W),B(j,K),B(K,$),B($,G),fe||(ae=[Me(T,"click",i[3]),Me(K,"click",i[4])],fe=!0)},p(Y,[Q]){Q&1&&h!==(h=Y[0].name.split(" ")[0]+"")&&Te(c,h),Q&4&&b!==(b=Number(Y[2]/10n**9n).toFixed(2)+"")&&Te(_,b),Q&1&&J!==(J=Y[0].id==0?"#CCC3":"#CCCD")&&A(C,"fill",J),Q&1&&F!==(F=Y[0].id==0)&&(T.disabled=F),Q&1&&!Ke(N.src,D=Y[0].img)&&A(N,"src",D),Q&3&&U!==(U=Y[0].id==Y[1].length-1?"#CCC3":"#CCCD")&&A(G,"fill",U),Q&3&&X!==(X=Y[0].id==Y[1].length-1)&&(K.disabled=X)},i:we,o:we,d(Y){Y&&(z(e),z(S),z(j)),fe=!1,dt(ae)}}}function Ps(i,e,n){let s,a,w;ve(i,He,E=>n(0,s=E)),ve(i,We,E=>n(1,a=E)),ve(i,Xe,E=>n(2,w=E));function h(){s.id>0&&He.set(a[s.id-1])}function c(){s.id<a.length-1&&He.set(a[s.id+1])}return[s,a,w,h,c]}class Ms extends Ae{constructor(e){super(),Ne(this,e,Ps,Ls,Oe,{})}}function Hs(i){let e,n,s,a=i[0].unlockDate+"",w,h,c,E=i[0].name.split(" ")[0]+"",d,O,b,_,x=i[0].unlockRate+"",S,j,T,R,C,J,F,q,N,D,W,K,$,G,U,X,fe,ae,Y,Q;return{c(){e=L("div"),n=L("div"),s=le("unlock: "),w=le(a),h=te(),c=L("div"),d=le(E),O=le(" ERG"),b=te(),_=L("div"),S=le(x),j=le(" (100x)"),T=te(),R=L("div"),C=L("button"),J=Fe("svg"),F=Fe("path"),D=te(),W=L("img"),$=te(),G=L("button"),U=Fe("svg"),X=Fe("path"),this.h()},l(ee){e=P(ee,"DIV",{class:!0});var Z=V(e);n=P(Z,"DIV",{class:!0});var ue=V(n);s=ie(ue,"unlock: "),w=ie(ue,a),ue.forEach(z),h=se(Z),c=P(Z,"DIV",{class:!0});var ye=V(c);d=ie(ye,E),O=ie(ye," ERG"),ye.forEach(z),b=se(Z),_=P(Z,"DIV",{class:!0});var Be=V(_);S=ie(Be,x),j=ie(Be," (100x)"),Be.forEach(z),Z.forEach(z),T=se(ee),R=P(ee,"DIV",{class:!0});var be=V(R);C=P(be,"BUTTON",{style:!0});var I=V(C);J=Ve(I,"svg",{xmlns:!0,viewBox:!0});var pe=V(J);F=Ve(pe,"path",{fill:!0,d:!0}),V(F).forEach(z),pe.forEach(z),I.forEach(z),D=se(be),W=P(be,"IMG",{src:!0,alt:!0}),$=se(be),G=P(be,"BUTTON",{style:!0});var Ie=V(G);U=Ve(Ie,"svg",{xmlns:!0,viewBox:!0});var me=V(U);X=Ve(me,"path",{fill:!0,d:!0}),V(X).forEach(z),me.forEach(z),Ie.forEach(z),be.forEach(z),this.h()},h(){A(n,"class","italic text-slate-300"),A(c,"class","text-7xl font-bold text-white"),A(_,"class","text-slate-200"),A(e,"class","flex flex-col items-center"),A(F,"fill",q=i[0].id==0?"#CCC3":"#CCCD"),A(F,"d","M3 12l18-12v24z"),A(J,"xmlns","http://www.w3.org/2000/svg"),A(J,"viewBox","0 0 24 24"),C.disabled=N=i[0].id==0,_e(C,"width","100px"),_e(C,"height","100px"),Ke(W.src,K=i[0].img)||A(W,"src",K),A(W,"alt",""),A(X,"fill",fe=i[0].id==i[1].length-1?"#CCC3":"#CCCD"),A(X,"d","M21 12l-18 12v-24z"),A(U,"xmlns","http://www.w3.org/2000/svg"),A(U,"viewBox","0 0 24 24"),G.disabled=ae=i[0].id==i[1].length-1,_e(G,"width","100px"),_e(G,"height","100px"),A(R,"class","flex items-center gap-4")},m(ee,Z){oe(ee,e,Z),B(e,n),B(n,s),B(n,w),B(e,h),B(e,c),B(c,d),B(c,O),B(e,b),B(e,_),B(_,S),B(_,j),oe(ee,T,Z),oe(ee,R,Z),B(R,C),B(C,J),B(J,F),B(R,D),B(R,W),B(R,$),B(R,G),B(G,U),B(U,X),Y||(Q=[Me(C,"click",i[2]),Me(G,"click",i[3])],Y=!0)},p(ee,[Z]){Z&1&&a!==(a=ee[0].unlockDate+"")&&Te(w,a),Z&1&&E!==(E=ee[0].name.split(" ")[0]+"")&&Te(d,E),Z&1&&x!==(x=ee[0].unlockRate+"")&&Te(S,x),Z&1&&q!==(q=ee[0].id==0?"#CCC3":"#CCCD")&&A(F,"fill",q),Z&1&&N!==(N=ee[0].id==0)&&(C.disabled=N),Z&1&&!Ke(W.src,K=ee[0].img)&&A(W,"src",K),Z&3&&fe!==(fe=ee[0].id==ee[1].length-1?"#CCC3":"#CCCD")&&A(X,"fill",fe),Z&3&&ae!==(ae=ee[0].id==ee[1].length-1)&&(G.disabled=ae)},i:we,o:we,d(ee){ee&&(z(e),z(T),z(R)),Y=!1,dt(Q)}}}function Gs(i,e,n){let s,a;ve(i,He,c=>n(0,s=c)),ve(i,We,c=>n(1,a=c));function w(){s.id>0&&He.set(a[s.id-1])}function h(){s.id<a.length-1&&He.set(a[s.id+1])}return[s,a,w,h]}class Us extends Ae{constructor(e){super(),Ne(this,e,Gs,Hs,Oe,{})}}function Fs(i){let e,n;return e=new Ms({}),{c(){Se(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,a){Le(e,s,a),n=!0},i(s){n||(ge(e.$$.fragment,s),n=!0)},o(s){xe(e.$$.fragment,s),n=!1},d(s){Pe(e,s)}}}function Vs(i){let e,n;return e=new Us({}),{c(){Se(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,a){Le(e,s,a),n=!0},i(s){n||(ge(e.$$.fragment,s),n=!0)},o(s){xe(e.$$.fragment,s),n=!1},d(s){Pe(e,s)}}}function qs(i){let e,n,s,a,w,h,c,E;n=new Ds({});const d=[Vs,Fs],O=[];function b(_,x){return _[0]==et?0:1}return a=b(i),w=O[a]=d[a](i),c=new Ns({}),{c(){e=L("div"),Se(n.$$.fragment),s=te(),w.c(),h=te(),Se(c.$$.fragment),this.h()},l(_){e=P(_,"DIV",{class:!0,style:!0});var x=V(e);De(n.$$.fragment,x),s=se(x),w.l(x),h=se(x),De(c.$$.fragment,x),x.forEach(z),this.h()},h(){A(e,"class","bg-main grow flex flex-col justify-center items-center gap-5 svelte-3q649y"),_e(e,"padding-top","80px")},m(_,x){oe(_,e,x),Le(n,e,null),B(e,s),O[a].m(e,null),B(e,h),Le(c,e,null),E=!0},p(_,[x]){let S=a;a=b(_),a!==S&&(_t(),xe(O[S],1,1,()=>{O[S]=null}),wt(),w=O[a],w||(w=O[a]=d[a](_),w.c()),ge(w,1),w.m(e,h))},i(_){E||(ge(n.$$.fragment,_),ge(w),ge(c.$$.fragment,_),E=!0)},o(_){xe(n.$$.fragment,_),xe(w),xe(c.$$.fragment,_),E=!1},d(_){_&&z(e),Pe(n),O[a].d(),Pe(c)}}}function Ks(i,e,n){let s;return ve(i,tt,a=>n(0,s=a)),[s]}class Ws extends Ae{constructor(e){super(),Ne(this,e,Ks,qs,Oe,{})}}function Xs(i){let e,n,s,a,w,h=i[0].treasure.name+"",c,E,d,O,b=i[0].hodler.substr(0,3)+"",_,x,S=i[0].hodler.substr(i[0].hodler.length-3,i[0].hodler.length-1)+"",j,T;return{c(){e=L("div"),n=L("img"),a=te(),w=L("div"),c=le(h),E=te(),d=L("div"),O=L("a"),_=le(b),x=le("..."),j=le(S),this.h()},l(R){e=P(R,"DIV",{class:!0});var C=V(e);n=P(C,"IMG",{src:!0,alt:!0,style:!0}),a=se(C),w=P(C,"DIV",{class:!0});var J=V(w);c=ie(J,h),J.forEach(z),E=se(C),d=P(C,"DIV",{class:!0});var F=V(d);O=P(F,"A",{href:!0});var q=V(O);_=ie(q,b),x=ie(q,"..."),j=ie(q,S),q.forEach(z),F.forEach(z),C.forEach(z),this.h()},h(){Ke(n.src,s=i[0].treasure.img)||A(n,"src",s),A(n,"alt",""),_e(n,"width","200px"),_e(n,"height","auto"),A(w,"class","flex gap-2"),A(O,"href",T="https://explorer.ergoplatform.com/en/addresses/"+i[0].hodler),A(d,"class","text-slate-500"),A(e,"class","p-4 flex flex-col justify-center items-center")},m(R,C){oe(R,e,C),B(e,n),B(e,a),B(e,w),B(w,c),B(e,E),B(e,d),B(d,O),B(O,_),B(O,x),B(O,j)},p(R,[C]){C&1&&!Ke(n.src,s=R[0].treasure.img)&&A(n,"src",s),C&1&&h!==(h=R[0].treasure.name+"")&&Te(c,h),C&1&&b!==(b=R[0].hodler.substr(0,3)+"")&&Te(_,b),C&1&&S!==(S=R[0].hodler.substr(R[0].hodler.length-3,R[0].hodler.length-1)+"")&&Te(j,S),C&1&&T!==(T="https://explorer.ergoplatform.com/en/addresses/"+R[0].hodler)&&A(O,"href",T)},i:we,o:we,d(R){R&&z(e)}}}function Js(i,e,n){ve(i,Lt,a=>n(1,a));let{offer:s}=e;return i.$$set=a=>{"offer"in a&&n(0,s=a.offer)},[s]}class Ys extends Ae{constructor(e){super(),Ne(this,e,Js,Xs,Oe,{offer:0})}}function Ot(i,e,n){const s=i.slice();return s[1]=e[n],s}function At(i){let e,n;return e=new Ys({props:{offer:i[1]}}),{c(){Se(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,a){Le(e,s,a),n=!0},p(s,a){const w={};a&1&&(w.offer=s[1]),e.$set(w)},i(s){n||(ge(e.$$.fragment,s),n=!0)},o(s){xe(e.$$.fragment,s),n=!1},d(s){Pe(e,s)}}}function Qs(i){let e,n="Locked Boxes",s,a,w,h,c,E=ht(i[0].filter(Nt)),d=[];for(let b=0;b<E.length;b+=1)d[b]=At(Ot(i,E,b));const O=b=>xe(d[b],1,1,()=>{d[b]=null});return{c(){e=L("h2"),e.textContent=n,s=te(),a=L("div");for(let b=0;b<d.length;b+=1)d[b].c();w=te(),h=L("div"),this.h()},l(b){e=P(b,"H2",{class:!0,"data-svelte-h":!0}),je(e)!=="svelte-3iv0hq"&&(e.textContent=n),s=se(b),a=P(b,"DIV",{class:!0});var _=V(a);for(let x=0;x<d.length;x+=1)d[x].l(_);_.forEach(z),w=se(b),h=P(b,"DIV",{class:!0}),V(h).forEach(z),this.h()},h(){A(e,"class","text-4xl"),A(a,"class","w-full justify-center flex flex-wrap"),A(h,"class","mb-10")},m(b,_){oe(b,e,_),oe(b,s,_),oe(b,a,_);for(let x=0;x<d.length;x+=1)d[x]&&d[x].m(a,null);oe(b,w,_),oe(b,h,_),c=!0},p(b,[_]){if(_&1){E=ht(b[0].filter(Nt));let x;for(x=0;x<E.length;x+=1){const S=Ot(b,E,x);d[x]?(d[x].p(S,_),ge(d[x],1)):(d[x]=At(S),d[x].c(),ge(d[x],1),d[x].m(a,null))}for(_t(),x=E.length;x<d.length;x+=1)O(x);wt()}},i(b){if(!c){for(let _=0;_<E.length;_+=1)ge(d[_]);c=!0}},o(b){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)xe(d[_]);c=!1},d(b){b&&(z(e),z(s),z(a),z(w),z(h)),Dt(d,b)}}}const Nt=i=>i.currency;function Zs(i,e,n){let s;return ve(i,as,a=>n(0,s=a)),[s]}class en extends Ae{constructor(e){super(),Ne(this,e,Zs,Qs,Oe,{})}}function tn(i){let e,n,s,a,w,h,c="minting...",E,d,O,b;return{c(){e=L("div"),n=L("img"),a=te(),w=L("div"),h=L("div"),h.textContent=c,E=te(),d=L("a"),O=le("transactionID"),this.h()},l(_){e=P(_,"DIV",{class:!0});var x=V(e);n=P(x,"IMG",{src:!0,alt:!0,style:!0,class:!0}),a=se(x),w=P(x,"DIV",{class:!0});var S=V(w);h=P(S,"DIV",{"data-svelte-h":!0}),je(h)!=="svelte-15f54we"&&(h.textContent=c),E=se(S),d=P(S,"A",{target:!0,href:!0,class:!0});var j=V(d);O=ie(j,"transactionID"),j.forEach(z),S.forEach(z),x.forEach(z),this.h()},h(){Ke(n.src,s=i[0].treasure.img)||A(n,"src",s),A(n,"alt",""),_e(n,"width","200px"),A(n,"class","blink svelte-1m6gc3r"),A(d,"target","_blank"),A(d,"href",b="https://explorer.ergoplatform.com/en/transactions/"+i[0].transactionId),A(d,"class","underline"),A(w,"class",""),A(e,"class","p-4 flex flex-col items-center")},m(_,x){oe(_,e,x),B(e,n),B(e,a),B(e,w),B(w,h),B(w,E),B(w,d),B(d,O)},p(_,[x]){x&1&&!Ke(n.src,s=_[0].treasure.img)&&A(n,"src",s),x&1&&b!==(b="https://explorer.ergoplatform.com/en/transactions/"+_[0].transactionId)&&A(d,"href",b)},i:we,o:we,d(_){_&&z(e)}}}function sn(i,e,n){let{mint:s}=e;return i.$$set=a=>{"mint"in a&&n(0,s=a.mint)},[s]}class nn extends Ae{constructor(e){super(),Ne(this,e,sn,tn,Oe,{mint:0})}}function zt(i,e,n){const s=i.slice();return s[1]=e[n],s}function St(i){let e,n;return e=new nn({props:{mint:i[1]}}),{c(){Se(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,a){Le(e,s,a),n=!0},p(s,a){const w={};a&1&&(w.mint=s[1]),e.$set(w)},i(s){n||(ge(e.$$.fragment,s),n=!0)},o(s){xe(e.$$.fragment,s),n=!1},d(s){Pe(e,s)}}}function rn(i){let e,n,s=ht(i[0]),a=[];for(let h=0;h<s.length;h+=1)a[h]=St(zt(i,s,h));const w=h=>xe(a[h],1,1,()=>{a[h]=null});return{c(){for(let h=0;h<a.length;h+=1)a[h].c();e=jt()},l(h){for(let c=0;c<a.length;c+=1)a[c].l(h);e=jt()},m(h,c){for(let E=0;E<a.length;E+=1)a[E]&&a[E].m(h,c);oe(h,e,c),n=!0},p(h,[c]){if(c&1){s=ht(h[0]);let E;for(E=0;E<s.length;E+=1){const d=zt(h,s,E);a[E]?(a[E].p(d,c),ge(a[E],1)):(a[E]=St(d),a[E].c(),ge(a[E],1),a[E].m(e.parentNode,e))}for(_t(),E=s.length;E<a.length;E+=1)w(E);wt()}},i(h){if(!n){for(let c=0;c<s.length;c+=1)ge(a[c]);n=!0}},o(h){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)xe(a[c]);n=!1},d(h){h&&z(e),Dt(a,h)}}}function ln(i,e,n){let s;return ve(i,vt,a=>n(0,s=a)),[s]}class an extends Ae{constructor(e){super(),Ne(this,e,ln,rn,Oe,{})}}function on(i){let e,n,s,a,w;return n=new an({}),a=new en({}),{c(){e=L("div"),Se(n.$$.fragment),s=te(),Se(a.$$.fragment),this.h()},l(h){e=P(h,"DIV",{class:!0,style:!0});var c=V(e);De(n.$$.fragment,c),s=se(c),De(a.$$.fragment,c),c.forEach(z),this.h()},h(){A(e,"class","bg-main grow flex flex-col items-center gap-5 svelte-itl043"),_e(e,"padding-top","80px")},m(h,c){oe(h,e,c),Le(n,e,null),B(e,s),Le(a,e,null),w=!0},p:we,i(h){w||(ge(n.$$.fragment,h),ge(a.$$.fragment,h),w=!0)},o(h){xe(n.$$.fragment,h),xe(a.$$.fragment,h),w=!1},d(h){h&&z(e),Pe(n),Pe(a)}}}class cn extends Ae{constructor(e){super(),Ne(this,e,null,on,Oe,{})}}function fn(i){let e,n,s,a,w,h;return e=new Ws({}),s=new gs({}),w=new cn({}),{c(){Se(e.$$.fragment),n=te(),Se(s.$$.fragment),a=te(),Se(w.$$.fragment)},l(c){De(e.$$.fragment,c),n=se(c),De(s.$$.fragment,c),a=se(c),De(w.$$.fragment,c)},m(c,E){Le(e,c,E),oe(c,n,E),Le(s,c,E),oe(c,a,E),Le(w,c,E),h=!0},i(c){h||(ge(e.$$.fragment,c),ge(s.$$.fragment,c),ge(w.$$.fragment,c),h=!0)},o(c){xe(e.$$.fragment,c),xe(s.$$.fragment,c),xe(w.$$.fragment,c),h=!1},d(c){c&&(z(n),z(a)),Pe(e,c),Pe(s,c),Pe(w,c)}}}function un(i){let e,n='<img class="unselectable" src="ship.png" style="width:250px;" alt=""/> <div class="font-mono mt-4">loading...</div>';return{c(){e=L("div"),e.innerHTML=n,this.h()},l(s){e=P(s,"DIV",{class:!0,"data-svelte-h":!0}),je(e)!=="svelte-83we0i"&&(e.innerHTML=n),this.h()},h(){A(e,"class","grow flex flex-col items-center justify-center")},m(s,a){oe(s,e,a)},i:we,o:we,d(s){s&&z(e)}}}function pn(i){let e,n,s,a;const w=[un,fn],h=[];function c(E,d){return 1}return n=c(),s=h[n]=w[n](i),{c(){e=L("div"),s.c(),this.h()},l(E){e=P(E,"DIV",{class:!0});var d=V(e);s.l(d),d.forEach(z),this.h()},h(){A(e,"class","h-full flex flex-col grow main-page svelte-12hevi9")},m(E,d){oe(E,e,d),h[n].m(e,null),a=!0},p:we,i(E){a||(ge(s),a=!0)},o(E){xe(s),a=!1},d(E){E&&z(e),h[n].d()}}}function hn(i){Vt(e);function e(){os(),cs()}return[]}class vn extends Ae{constructor(e){super(),Ne(this,e,hn,pn,Oe,{})}}export{vn as component};
