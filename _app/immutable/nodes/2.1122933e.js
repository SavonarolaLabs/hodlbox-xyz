import{s as Y,n as P,j as U,r as Ue,l as be,o as ct}from"../chunks/scheduler.71af12de.js";import{S as Q,i as Z,g as y,h,A as M,k as g,l as O,a as L,f,s as $,m as S,r as ne,j as F,c as I,n as D,u as oe,y as p,v as le,o as te,d as N,t as j,w as ae,E as pe,x as de,F as Re,G as Ce,p as Ze,b as et,H as tt,e as je}from"../chunks/index.e9246ef9.js";import{c as Se,t as he,S as ke,f as Fe,g as xe,h as Ee,E as Le,O as Oe,i as Ne,C as pt,j as nt,k as ot,l as He,m as Ae,p as Pe,T as lt,R as at,q as dt,s as st,r as Ge,v as ve,a as De,x as Ke,y as We,z as Be,A as qe,D as $e,F as mt,H as gt,G as ft,I as vt,B as ut,J as yt,W as ht,K as bt,L as _t,e as Ve,b as wt,M as kt,N as Ft}from"../chunks/notifier.de712fd5.js";function xt(l){let e,t='<ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> hodlTargetRate <span style="color: #000080;">:</span> Long     <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R4</span><span style="color: #F78811;">[</span>Long<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> maxHeight <span style="color: #000080;">:</span> Int           <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R5</span><span style="color: #F78811;">[</span>Int<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> hodlerPK <span style="color: #000080;">:</span> SigmaProp      <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R6</span><span style="color: #F78811;">[</span>SigmaProp<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> uiFeePK <span style="color: #000080;">:</span> SigmaProp       <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R7</span><span style="color: #F78811;">[</span>SigmaProp<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> totalLockedNanoErg <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">value</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> fees<span style="color: #000080;">:</span> Coll<span style="color: #F78811;">[</span><span style="color: #F78811;">(</span>SigmaProp, BigInt<span style="color: #F78811;">)</span><span style="color: #F78811;">]</span> <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> feeDenom <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> 100000L</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> devFee   <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> 500L         <span style="color: #008000; font-style: italic;">// 0.5%</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> uiFee    <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> 500L         <span style="color: #008000; font-style: italic;">// 0.5%</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            Coll<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                 <span style="color: #F78811;">(</span><span style="color: #000080;">_</span>contractDevPK, <span style="color: #F78811;">(</span>devFee.<span style="color: #000000;">toBigInt</span> <span style="color: #000080;">*</span> totalLockedNanoErg.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span> / feeDenom.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span>,</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                 <span style="color: #F78811;">(</span>uiFeePK, <span style="color: #F78811;">(</span>uiFee.<span style="color: #000000;">toBigInt</span> <span style="color: #000080;">*</span> totalLockedNanoErg.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span> / feeDenom.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> feesPaid <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> devFeesPaid<span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">if</span><span style="color: #F78811;">(</span>fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2 <span style="color: #000080;">&gt;</span> <span style="color: #F78811;">0</span><span style="color: #F78811;">)</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">val</span> devOutput <span style="color: #000080;">:</span> Box   <span style="color: #000080;">=</span> OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                allOf<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    Coll<span style="color: #F78811;">(</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        devOutput.<span style="color: #000000;">propositionBytes</span>   <span style="color: #000080;">==</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>1.<span style="color: #000000;">propBytes</span>,</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        devOutput.<span style="color: #000000;">value</span>.<span style="color: #000000;">toBigInt</span>     <span style="color: #000080;">&gt;=</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span><span style="color: #0000ff; font-weight: bold;">else</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">true</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> uiFeesPaid <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">if</span><span style="color: #F78811;">(</span>fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2 <span style="color: #000080;">&gt;</span> <span style="color: #F78811;">0</span><span style="color: #F78811;">)</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">val</span> uiOutput <span style="color: #000080;">:</span> Box    <span style="color: #000080;">=</span> OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">2</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                allOf<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    Coll<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        uiOutput.<span style="color: #000000;">propositionBytes</span>   <span style="color: #000080;">==</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>1.<span style="color: #000000;">propBytes</span>,</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        uiOutput.<span style="color: #000000;">value</span>.<span style="color: #000000;">toBigInt</span>     <span style="color: #000080;">&gt;=</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span><span style="color: #0000ff; font-weight: bold;">else</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">true</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        devFeesPaid <span style="color: #000080;">&amp;&amp;</span> uiFeesPaid</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> feesTotal <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2 + fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> repaymentNanoErg <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> totalLockedNanoErg - feesTotal</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> fundsReturned <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000000;">propositionBytes</span> <span style="color: #000080;">==</span> hodlerPK.<span style="color: #000000;">propBytes</span> <span style="color: #000080;">&amp;&amp;</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000000;">value</span> <span style="color: #000080;">&gt;=</span> repaymentNanoErg <span style="color: #000080;">&amp;&amp;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000000;">R4</span><span style="color: #F78811;">[</span>Coll<span style="color: #F78811;">[</span>Byte<span style="color: #F78811;">]</span><span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span> <span style="color: #000080;">==</span> SELF.<span style="color: #000000;">id</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> maxHeightReached <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        maxHeight <span style="color: #000080;">&lt;=</span> HEIGHT</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> priceTargetReached <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">if</span> <span style="color: #F78811;">(</span>CONTEXT.<span style="color: #000000;">dataInputs</span>.<span style="color: #000000;">size</span> <span style="color: #000080;">&gt;</span> <span style="color: #F78811;">0</span><span style="color: #F78811;">)</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #008000; font-style: italic;">// validate Oracle box</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> oracleBox <span style="color: #000080;">:</span> Box <span style="color: #000080;">=</span> CONTEXT.<span style="color: #000000;">dataInputs</span><span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> currentRate <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> oracleBox.<span style="color: #000000;">R4</span><span style="color: #F78811;">[</span>Long<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> oracleHeight<span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> oracleBox.<span style="color: #000000;">R5</span><span style="color: #F78811;">[</span>Int<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> validDataInput<span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> HEIGHT <span style="color: #000080;">&lt;=</span> oracleHeight + <span style="color: #F78811;">30</span> <span style="color: #000080;">&amp;&amp;</span> oracleBox.<span style="color: #000000;">tokens</span><span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>1 <span style="color: #000080;">==</span> <span style="color: #000080;">_</span>oraclePoolNFT</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #008000; font-style: italic;">// check if the price reached target</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> targetPriceReached<span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> currentRate <span style="color: #000080;">&lt;=</span> hodlTargetRate</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            validDataInput <span style="color: #000080;">&amp;&amp;</span> targetPriceReached</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span> <span style="color: #0000ff; font-weight: bold;">else</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">false</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">if</span><span style="color: #F78811;">(</span>priceTargetReached || maxHeightReached<span style="color: #F78811;">)</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        sigmaProp<span style="color: #F78811;">(</span>fundsReturned <span style="color: #000080;">&amp;&amp;</span> feesPaid<span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span> <span style="color: #0000ff; font-weight: bold;">else</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        sigmaProp<span style="color: #F78811;">(</span><span style="color: #0000ff; font-weight: bold;">false</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #F78811;">}</span></div></li></ol>';return{c(){e=y("pre"),e.innerHTML=t,this.h()},l(n){e=h(n,"PRE",{class:!0,style:!0,"data-svelte-h":!0}),M(e)!=="svelte-1xe7lft"&&(e.innerHTML=t),this.h()},h(){g(e,"class","scala"),O(e,"font-family","monospace"),O(e,"background","white"),O(e,"color","black"),O(e,"width","100%"),O(e,"padding-top","1em"),O(e,"padding-bottom","1em")},m(n,o){L(n,e,o)},p:P,i:P,o:P,d(n){n&&f(e)}}}class Et extends Q{constructor(e){super(),Z(this,e,null,xt,Y,{})}}function $t(l){let e,t="smart contract.";return{c(){e=y("a"),e.textContent=t,this.h()},l(n){e=h(n,"A",{href:!0,"data-svelte-h":!0}),M(e)!=="svelte-maej2"&&(e.textContent=t),this.h()},h(){g(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl_hodlerg3.ts")},m(n,o){L(n,e,o)},d(n){n&&f(e)}}}function It(l){let e,t="smart contract.";return{c(){e=y("a"),e.textContent=t,this.h()},l(n){e=h(n,"A",{href:!0,"data-svelte-h":!0}),M(e)!=="svelte-50pk7c"&&(e.textContent=t),this.h()},h(){g(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl.ts")},m(n,o){L(n,e,o)},d(n){n&&f(e)}}}function Tt(l){let e,t,n,o="How does it work?",c,a,r,s,i,b,d,v,m=l[1]/10n**9n+"",x,_,T,u,k="3. Unlocked coins can only be sent to your wallet.",E,w,R,B=l[1]/10n**9n+"",X,se,G,W,A,K,me=`<img src="hodl.jpeg" alt="" class="mt-10"/> <div class="text-4xl mt-20 mb-10 self-end"><a href="https://ergoplatform.org/en/news/ErgoHack-7-The-Future-of-Finance-and-the-Path-to-Adoption/">ERGOHACKVII</a>
				letter</div> <div class="bg-white p-16 self-end paper text-black italic shadow-md">Dear Hackathon Committee,<br/><br/>

				We are excited to present our ErgoHack project, HodlBox. This dApp is designed to encourage
				long-term investment in the Ergo ecosystem. Our project addresses a common challenge in
				crypto: holding onto your coins over an extended period of time and not selling the bottom.
				To combat this, we&#39;ve devised a non-custodial vault that allows users to stash their ERG
				until a specific time or price point is reached on Spectrum DEX. When a user purchases a
				Hodl Box, they will also receive a commemorative NFT as a token of their commitment. The
				NFTs become increasingly awesome with larger sums, adding a fun way for users to flex on
				social media.<br/><br/>

				Our project is open-source, welcoming UI competition and abiding by Ergo’s open source
				ethos. It&#39;s designed to be user-friendly, allowing users to mint in just two clicks.The Hodl
				Box system is secure and risk-free. Only the person who locked the box can unlock it, either
				when a certain price point is reached or after the established time period. The NFTs serve
				as a fun reward and Proof of Hodl, but they are not connected to the redemption process,
				eliminating the risk of losing access to your Hodl Box.<br/><br/>

				We&#39;ve implemented a small fee structure (0.5% contract, 0.5% UI) to support the project&#39;s
				sustainability. Importantly, the developers hold as well, with fees only paid after the hodl
				period, aligning the incentives of the ecosystem, users, and developers.<br/><br/>

				In conclusion, our project offers a perfect financial tool for the coming bull market,
				encouraging long-term investment and increasing the TVL in the Ergo ecosystem. We look
				forward to sharing our website and contract with you soon.<br/><br/>

				Best Regards,<br/><br/>

				TMR.ERG, c8, savonarola</div>`,ge,re,C,H="Smart Contract",ue,ie,q,ee;function _e(V,ce){return V[0]=="ERG"?It:$t}let fe=_e(l),J=fe(l);return q=new Et({}),{c(){e=y("div"),t=y("div"),n=y("div"),n.textContent=o,c=$(),a=y("div"),r=S("1. Your "),s=S(l[0]),i=S(` is locked on Ergo Blockchain behind a
			`),J.c(),b=$(),d=y("div"),v=S("2. As soon as Ergo pumps to $"),x=S(m),_=S("/ERG your coins unlock.*"),T=$(),u=y("div"),u.textContent=k,E=$(),w=y("div"),R=S("*If $"),X=S(B),se=S("/ERG is not reached, your "),G=S(l[0]),W=S(" unlocks on 2024-10-15."),A=$(),K=y("div"),K.innerHTML=me,ge=$(),re=y("div"),C=y("div"),C.textContent=H,ue=$(),ie=y("div"),ne(q.$$.fragment),this.h()},l(V){e=h(V,"DIV",{class:!0});var ce=F(e);t=h(ce,"DIV",{class:!0});var z=F(t);n=h(z,"DIV",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-jy3xgb"&&(n.textContent=o),c=I(z),a=h(z,"DIV",{});var we=F(a);r=D(we,"1. Your "),s=D(we,l[0]),i=D(we,` is locked on Ergo Blockchain behind a
			`),J.l(we),we.forEach(f),b=I(z),d=h(z,"DIV",{});var Ie=F(d);v=D(Ie,"2. As soon as Ergo pumps to $"),x=D(Ie,m),_=D(Ie,"/ERG your coins unlock.*"),Ie.forEach(f),T=I(z),u=h(z,"DIV",{"data-svelte-h":!0}),M(u)!=="svelte-175k4k4"&&(u.textContent=k),E=I(z),w=h(z,"DIV",{class:!0});var ye=F(w);R=D(ye,"*If $"),X=D(ye,B),se=D(ye,"/ERG is not reached, your "),G=D(ye,l[0]),W=D(ye," unlocks on 2024-10-15."),ye.forEach(f),A=I(z),K=h(z,"DIV",{style:!0,"data-svelte-h":!0}),M(K)!=="svelte-1xzq9zw"&&(K.innerHTML=me),ge=I(z),re=h(z,"DIV",{});var Te=F(re);C=h(Te,"DIV",{class:!0,"data-svelte-h":!0}),M(C)!=="svelte-14ksf12"&&(C.textContent=H),ue=I(Te),ie=h(Te,"DIV",{});var Me=F(ie);oe(q.$$.fragment,Me),Me.forEach(f),Te.forEach(f),z.forEach(f),ce.forEach(f),this.h()},h(){g(n,"class","text-4xl mt-10 mb-5"),g(w,"class","text-sm"),O(K,"max-width","700px"),g(C,"class","text-4xl mt-10 mb-5"),g(t,"class","w-full max-w-4xl flex flex-col gap-2"),g(e,"class","w-full min-h-full bg-main flex flex-col items-center svelte-jjvsd7")},m(V,ce){L(V,e,ce),p(e,t),p(t,n),p(t,c),p(t,a),p(a,r),p(a,s),p(a,i),J.m(a,null),p(t,b),p(t,d),p(d,v),p(d,x),p(d,_),p(t,T),p(t,u),p(t,E),p(t,w),p(w,R),p(w,X),p(w,se),p(w,G),p(w,W),p(t,A),p(t,K),p(t,ge),p(t,re),p(re,C),p(re,ue),p(re,ie),le(q,ie,null),ee=!0},p(V,[ce]){(!ee||ce&1)&&te(s,V[0]),fe!==(fe=_e(V))&&(J.d(1),J=fe(V),J&&(J.c(),J.m(a,null))),(!ee||ce&2)&&m!==(m=V[1]/10n**9n+"")&&te(x,m),(!ee||ce&2)&&B!==(B=V[1]/10n**9n+"")&&te(X,B),(!ee||ce&1)&&te(G,V[0])},i(V){ee||(N(q.$$.fragment,V),ee=!0)},o(V){j(q.$$.fragment,V),ee=!1},d(V){V&&f(e),J.d(),ae(q)}}}function Rt(l,e,t){let n,o;return U(l,Se,c=>t(0,n=c)),U(l,he,c=>t(1,o=c)),[n,o]}class Ct extends Q{constructor(e){super(),Z(this,e,Rt,Tt,Y,{})}}function rt(l){return Bt(l.name,l.description,l.sha256,l.url)}function Bt(l,e,t,n){return{R4:ke(Fe(xe,Ee("utf8",l))),R5:ke(Fe(xe,Ee("utf8",e))),R6:ke(Fe(xe,Ee("utf8","0"))),R7:"0e020101",R8:ke(Fe(xe,Ee("hex",t))),R9:ke(Fe(xe,Ee("utf8",n)))}}function St(l){let e=JSON.parse(JSON.stringify(l));e.value=e.value.toString(),e.assets===void 0&&(e.assets=[]);for(let t=0;t<e.assets.length;t++)e.assets[t].amount=e.assets[t].amount.toString();return e}const Dt="011d3364de07e5a26f0c4eef0852cddb387039a921b7154ef3cab22c6eda887f";async function it(){let t=(await(await fetch(`https://api.ergoplatform.com/api/v1/boxes/unspent/byTokenId/${Dt}`)).json()).items[0];return t=St(t),t}async function Lt(l,e,t,n,o,c,a){const r=Le.fromBase58(l),s=Le.fromBase58(c),i=1372200,b=10n**18n/a,d=new Date().toISOString().split("T")[0],x=(1/(await it()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),_={name:o.name,description:`Erg price: $${x}, date: ${d}, unlock: 2024-10-15`,sha256:o.sha256,url:`ipfs://${o.cid}`},T=new Oe(Ne,pt).addTokens(n).setAdditionalRegisters({R4:nt(b).toHex(),R5:ot(i).toHex(),R6:He(Ae(Pe(r.getPublicKeys()))).toHex(),R7:He(Ae(Pe(s.getPublicKeys()))).toHex()}),u=new Oe(Ne,l).mintToken({amount:"1",name:o.name}).setAdditionalRegisters(rt(_));return new lt(t).from([...e]).to([T,u]).sendChangeTo(r).payFee(at*2n).build().toEIP12Object()}async function Ot(l,e,t,n,o,c){const a=Le.fromBase58(l),r=Le.fromBase58(o),s=1372200,i=10n**18n/c,b=new Date().toISOString().split("T")[0],d=BigInt(n.price*10**9),x=(1/(await it()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),_={name:n.name,description:`Erg price: $${x}, date: ${b}, unlock: 2024-10-15`,sha256:n.sha256,url:`ipfs://${n.cid}`},T=new Oe(d,dt).setAdditionalRegisters({R4:nt(i).toHex(),R5:ot(s).toHex(),R6:He(Ae(Pe(a.getPublicKeys()))).toHex(),R7:He(Ae(Pe(r.getPublicKeys()))).toHex()}),u=new Oe(Ne,l).mintToken({amount:"1",name:n.name}).setAdditionalRegisters(rt(_));return new lt(t).from([...e]).to([T,u]).sendChangeTo(a).payFee(at).build().toEIP12Object()}function Ht(l){let e,t,n,o=l[1].price+"",c,a,r,s,i,b,d="hodlERG3",v,m,x,_,T="ERG",u,k;return{c(){e=y("div"),t=y("button"),n=S("Lock "),c=S(o),a=$(),r=S(l[0]),s=$(),i=y("div"),b=y("button"),b.textContent=d,v=$(),m=y("div"),x=$(),_=y("button"),_.textContent=T,this.h()},l(E){e=h(E,"DIV",{class:!0});var w=F(e);t=h(w,"BUTTON",{class:!0,style:!0});var R=F(t);n=D(R,"Lock "),c=D(R,o),a=I(R),r=D(R,l[0]),R.forEach(f),s=I(w),i=h(w,"DIV",{class:!0});var B=F(i);b=h(B,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),M(b)!=="svelte-10vmmzh"&&(b.textContent=d),v=I(B),m=h(B,"DIV",{style:!0}),F(m).forEach(f),x=I(B),_=h(B,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),M(_)!=="svelte-1yk0jpa"&&(_.textContent=T),B.forEach(f),w.forEach(f),this.h()},h(){g(t,"class","btn p-4"),O(t,"width","230px"),g(b,"class","pl-4 pr-2 py-1 option-left text-sm svelte-16q2dwg"),O(b,"min-width","100px"),pe(b,"inactive",l[0]!="hodlERG3"),pe(b,"active",l[0]=="hodlERG3"),O(m,"height","100%"),O(m,"width","1px"),O(m,"background","gray"),g(_,"class","pr-4 pl-2 py-1 option-right text-sm svelte-16q2dwg"),O(_,"min-width","100px"),pe(_,"inactive",l[0]!="ERG"),pe(_,"active",l[0]=="ERG"),g(i,"class","flex mt-2"),g(e,"class","mt-4 p-4 box w-full flex flex-col items-center justify-center")},m(E,w){L(E,e,w),p(e,t),p(t,n),p(t,c),p(t,a),p(t,r),p(e,s),p(e,i),p(i,b),p(i,v),p(i,m),p(i,x),p(i,_),u||(k=[de(t,"click",l[2]),de(b,"click",l[4]),de(_,"click",l[5])],u=!0)},p(E,[w]){w&2&&o!==(o=E[1].price+"")&&te(c,o),w&1&&te(r,E[0]),w&1&&pe(b,"inactive",E[0]!="hodlERG3"),w&1&&pe(b,"active",E[0]=="hodlERG3"),w&1&&pe(_,"inactive",E[0]!="ERG"),w&1&&pe(_,"active",E[0]=="ERG")},i:P,o:P,d(E){E&&f(e),u=!1,Ue(k)}}}function At(l,e){return l.some(t=>t.tokenId==e.tokenId)?(l.find(t=>t.tokenId==e.tokenId).amount+=e.amount,l):[...l,e]}function Pt(l,e,t){let n,o,c,a,r,s,i,b;U(l,st,u=>t(3,n=u)),U(l,Ge,u=>t(9,o=u)),U(l,Se,u=>t(0,c=u)),U(l,ve,u=>t(1,a=u)),U(l,he,u=>t(10,r=u)),U(l,De,u=>t(11,s=u)),U(l,Ke,u=>t(12,i=u)),U(l,We,u=>t(13,b=u));let d=[];async function v(u){var k;if((k=window.ergoConnector[u])!=null&&k.isConnected){const E=await ergo.get_utxos();Ke.set(JSON.parse(JSON.stringify(E))),We.set(E.flatMap(w=>w.assets.map(R=>(R.amount=BigInt(R.amount),R))).reduce(At,[])),b.filter(w=>!d.some(R=>R.tokenId==w.tokenId))}}function m(){d=[]}async function x(){var W;if(!n||!((W=window.ergoConnector[n])!=null&&W.isConnected)){Be("Connect a wallet.",1500);return}const u=await ergo.get_utxos(),k=BigInt(await ergo.get_balance()),E=u.flatMap(A=>A.assets).reduce((A,K)=>A+(K.tokenId==qe?BigInt(K.amount):0n),0n),w=await ergo.get_change_address(),R=await ergo.get_current_height();let B;if(c=="ERG"){if(k<BigInt(a.price*10**9)){Be("Not enough Erg.",1500);return}B=await Ot(w,i,R,a,s,r)}else{if(E<BigInt(a.price*10**9)){Be("Not enough Tokens.",1500);return}const A={tokenId:qe,amount:a.price*10**9+""};B=await Lt(w,i,R,A,a,s,r)}const X=await ergo.sign_tx(B);console.log(X);const se=await ergo.submit_tx(X);console.log("transactionId:",se),Be("Transaction submitted",3e3);const G={treasure:a,currency:c,hodler:w,tx:X,transactionId:se};Ge.update(A=>(A.push(G),A)),localStorage.setItem("ergo_bay_unconfirmed_mints",JSON.stringify(o)),m()}const _=()=>Se.set("hodlERG3"),T=()=>Se.set("ERG");return l.$$.update=()=>{l.$$.dirty&8&&v(n)},[c,a,x,n,_,T]}class Vt extends Q{constructor(e){super(),Z(this,e,Pt,Ht,Y,{})}}function Nt(l){let e,t,n='<img src="ship.png" alt=""/>',o,c,a='<img src="chest/bitmasks/icon.png" alt=""/>',r,s,i='<img src="chest/walrus/icon.png" alt="" style="width: 42px;"/>',b,d;return{c(){e=y("div"),t=y("button"),t.innerHTML=n,o=$(),c=y("button"),c.innerHTML=a,r=$(),s=y("button"),s.innerHTML=i,this.h()},l(v){e=h(v,"DIV",{class:!0});var m=F(e);t=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1qhbbbx"&&(t.innerHTML=n),o=I(m),c=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-p0dv1p"&&(c.innerHTML=a),r=I(m),s=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-fe3fay"&&(s.innerHTML=i),m.forEach(f),this.h()},h(){g(t,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),g(c,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),g(s,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),g(e,"class","fixed flex flex-col left-0 top-0 mt-24 ml-4 gap-2")},m(v,m){L(v,e,m),p(e,t),p(e,o),p(e,c),p(e,r),p(e,s),b||(d=[de(t,"click",l[1]),de(c,"click",l[2]),de(s,"click",l[3])],b=!0)},p:P,i:P,o:P,d(v){v&&f(e),b=!1,Ue(d)}}}function Gt(l,e,t){let n;U(l,$e,s=>t(4,n=s));function o(s){s=="hodlbox"&&(he.set(mt),De.set(gt),$e.set(ft),ve.set(n[0])),s=="bitmasks"&&(he.set(vt),De.set(ut),$e.set(yt),ve.set(n[0])),s=="walrus"&&(he.set(ht),De.set(bt),$e.set(_t),ve.set(n[0]))}return[o,()=>o("hodlbox"),()=>o("bitmasks"),()=>o("walrus")]}class Ut extends Q{constructor(e){super(),Z(this,e,Gt,Nt,Y,{})}}function Mt(l){let e,t,n="unlock: 2024-10-15",o,c,a=l[0].name.split(" ")[0]+"",r,s,i,b,d=Number(l[2]/10n**9n).toFixed(2)+"",v,m,x,_,T,u,k,E,w,R,B,X,se,G,W,A,K,me,ge,re;return{c(){e=y("div"),t=y("div"),t.textContent=n,o=$(),c=y("div"),r=S(a),s=$(),i=y("div"),b=S("$"),v=S(d),m=S("/ERG"),x=$(),_=y("div"),T=y("button"),u=Re("svg"),k=Re("path"),R=$(),B=y("img"),se=$(),G=y("button"),W=Re("svg"),A=Re("path"),this.h()},l(C){e=h(C,"DIV",{class:!0});var H=F(e);t=h(H,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1whik13"&&(t.textContent=n),o=I(H),c=h(H,"DIV",{class:!0});var ue=F(c);r=D(ue,a),ue.forEach(f),s=I(H),i=h(H,"DIV",{class:!0});var ie=F(i);b=D(ie,"$"),v=D(ie,d),m=D(ie,"/ERG"),ie.forEach(f),H.forEach(f),x=I(C),_=h(C,"DIV",{class:!0});var q=F(_);T=h(q,"BUTTON",{style:!0});var ee=F(T);u=Ce(ee,"svg",{xmlns:!0,viewBox:!0});var _e=F(u);k=Ce(_e,"path",{fill:!0,d:!0}),F(k).forEach(f),_e.forEach(f),ee.forEach(f),R=I(q),B=h(q,"IMG",{src:!0,alt:!0}),se=I(q),G=h(q,"BUTTON",{style:!0});var fe=F(G);W=Ce(fe,"svg",{xmlns:!0,viewBox:!0});var J=F(W);A=Ce(J,"path",{fill:!0,d:!0}),F(A).forEach(f),J.forEach(f),fe.forEach(f),q.forEach(f),this.h()},h(){g(t,"class","italic text-slate-300"),g(c,"class","text-7xl font-bold text-white"),g(i,"class","text-slate-200"),g(e,"class","flex flex-col items-center"),g(k,"fill",E=l[0].id==0?"#CCC3":"#CCCD"),g(k,"d","M3 12l18-12v24z"),g(u,"xmlns","http://www.w3.org/2000/svg"),g(u,"viewBox","0 0 24 24"),T.disabled=w=l[0].id==0,O(T,"width","100px"),O(T,"height","100px"),be(B.src,X=l[0].img)||g(B,"src",X),g(B,"alt",""),g(A,"fill",K=l[0].id==l[1].length-1?"#CCC3":"#CCCD"),g(A,"d","M21 12l-18 12v-24z"),g(W,"xmlns","http://www.w3.org/2000/svg"),g(W,"viewBox","0 0 24 24"),G.disabled=me=l[0].id==l[1].length-1,O(G,"width","100px"),O(G,"height","100px"),g(_,"class","flex items-center gap-4")},m(C,H){L(C,e,H),p(e,t),p(e,o),p(e,c),p(c,r),p(e,s),p(e,i),p(i,b),p(i,v),p(i,m),L(C,x,H),L(C,_,H),p(_,T),p(T,u),p(u,k),p(_,R),p(_,B),p(_,se),p(_,G),p(G,W),p(W,A),ge||(re=[de(T,"click",l[3]),de(G,"click",l[4])],ge=!0)},p(C,[H]){H&1&&a!==(a=C[0].name.split(" ")[0]+"")&&te(r,a),H&4&&d!==(d=Number(C[2]/10n**9n).toFixed(2)+"")&&te(v,d),H&1&&E!==(E=C[0].id==0?"#CCC3":"#CCCD")&&g(k,"fill",E),H&1&&w!==(w=C[0].id==0)&&(T.disabled=w),H&1&&!be(B.src,X=C[0].img)&&g(B,"src",X),H&3&&K!==(K=C[0].id==C[1].length-1?"#CCC3":"#CCCD")&&g(A,"fill",K),H&3&&me!==(me=C[0].id==C[1].length-1)&&(G.disabled=me)},i:P,o:P,d(C){C&&(f(e),f(x),f(_)),ge=!1,Ue(re)}}}function jt(l,e,t){let n,o,c;U(l,ve,s=>t(0,n=s)),U(l,$e,s=>t(1,o=s)),U(l,he,s=>t(2,c=s));function a(){n.id>0&&ve.set(o[n.id-1])}function r(){n.id<o.length-1&&ve.set(o[n.id+1])}return[n,o,c,a,r]}class Kt extends Q{constructor(e){super(),Z(this,e,jt,Mt,Y,{})}}function Wt(l){let e,t,n,o,c,a,r;return t=new Ut({}),o=new Kt({}),a=new Vt({}),{c(){e=y("div"),ne(t.$$.fragment),n=$(),ne(o.$$.fragment),c=$(),ne(a.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0,style:!0});var i=F(e);oe(t.$$.fragment,i),n=I(i),oe(o.$$.fragment,i),c=I(i),oe(a.$$.fragment,i),i.forEach(f),this.h()},h(){g(e,"class","bg-main grow flex flex-col justify-center items-center gap-5 svelte-1dohqtu"),O(e,"padding-top","80px")},m(s,i){L(s,e,i),le(t,e,null),p(e,n),le(o,e,null),p(e,c),le(a,e,null),r=!0},p:P,i(s){r||(N(t.$$.fragment,s),N(o.$$.fragment,s),N(a.$$.fragment,s),r=!0)},o(s){j(t.$$.fragment,s),j(o.$$.fragment,s),j(a.$$.fragment,s),r=!1},d(s){s&&f(e),ae(t),ae(o),ae(a)}}}class qt extends Q{constructor(e){super(),Z(this,e,null,Wt,Y,{})}}function zt(l){let e,t,n,o,c,a=l[0].treasure.name+"",r,s,i,b,d=l[0].hodler.substr(0,3)+"",v,m,x=l[0].hodler.substr(l[0].hodler.length-3,l[0].hodler.length-1)+"",_,T;return{c(){e=y("div"),t=y("img"),o=$(),c=y("div"),r=S(a),s=$(),i=y("div"),b=y("a"),v=S(d),m=S("..."),_=S(x),this.h()},l(u){e=h(u,"DIV",{class:!0});var k=F(e);t=h(k,"IMG",{src:!0,alt:!0,style:!0}),o=I(k),c=h(k,"DIV",{class:!0});var E=F(c);r=D(E,a),E.forEach(f),s=I(k),i=h(k,"DIV",{class:!0});var w=F(i);b=h(w,"A",{href:!0});var R=F(b);v=D(R,d),m=D(R,"..."),_=D(R,x),R.forEach(f),w.forEach(f),k.forEach(f),this.h()},h(){be(t.src,n=l[0].treasure.img)||g(t,"src",n),g(t,"alt",""),O(t,"width","200px"),O(t,"height","auto"),g(c,"class","flex gap-2"),g(b,"href",T="https://explorer.ergoplatform.com/en/addresses/"+l[0].hodler),g(i,"class","text-slate-500"),g(e,"class","p-4 flex flex-col justify-center items-center")},m(u,k){L(u,e,k),p(e,t),p(e,o),p(e,c),p(c,r),p(e,s),p(e,i),p(i,b),p(b,v),p(b,m),p(b,_)},p(u,[k]){k&1&&!be(t.src,n=u[0].treasure.img)&&g(t,"src",n),k&1&&a!==(a=u[0].treasure.name+"")&&te(r,a),k&1&&d!==(d=u[0].hodler.substr(0,3)+"")&&te(v,d),k&1&&x!==(x=u[0].hodler.substr(u[0].hodler.length-3,u[0].hodler.length-1)+"")&&te(_,x),k&1&&T!==(T="https://explorer.ergoplatform.com/en/addresses/"+u[0].hodler)&&g(b,"href",T)},i:P,o:P,d(u){u&&f(e)}}}function Xt(l,e,t){U(l,st,o=>t(1,o));let{offer:n}=e;return l.$$set=o=>{"offer"in o&&t(0,n=o.offer)},[n]}class Jt extends Q{constructor(e){super(),Z(this,e,Xt,zt,Y,{offer:0})}}function ze(l,e,t){const n=l.slice();return n[1]=e[t],n}function Xe(l){let e,t;return e=new Jt({props:{offer:l[1]}}),{c(){ne(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,o){le(e,n,o),t=!0},p(n,o){const c={};o&1&&(c.offer=n[1]),e.$set(c)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function Yt(l){let e,t="Locked Boxes",n,o,c,a,r,s=Ve(l[0].filter(Je)),i=[];for(let d=0;d<s.length;d+=1)i[d]=Xe(ze(l,s,d));const b=d=>j(i[d],1,1,()=>{i[d]=null});return{c(){e=y("h2"),e.textContent=t,n=$(),o=y("div");for(let d=0;d<i.length;d+=1)i[d].c();c=$(),a=y("div"),this.h()},l(d){e=h(d,"H2",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-3iv0hq"&&(e.textContent=t),n=I(d),o=h(d,"DIV",{class:!0});var v=F(o);for(let m=0;m<i.length;m+=1)i[m].l(v);v.forEach(f),c=I(d),a=h(d,"DIV",{class:!0}),F(a).forEach(f),this.h()},h(){g(e,"class","text-4xl"),g(o,"class","w-full justify-center flex flex-wrap"),g(a,"class","mb-10")},m(d,v){L(d,e,v),L(d,n,v),L(d,o,v);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(o,null);L(d,c,v),L(d,a,v),r=!0},p(d,[v]){if(v&1){s=Ve(d[0].filter(Je));let m;for(m=0;m<s.length;m+=1){const x=ze(d,s,m);i[m]?(i[m].p(x,v),N(i[m],1)):(i[m]=Xe(x),i[m].c(),N(i[m],1),i[m].m(o,null))}for(Ze(),m=s.length;m<i.length;m+=1)b(m);et()}},i(d){if(!r){for(let v=0;v<s.length;v+=1)N(i[v]);r=!0}},o(d){i=i.filter(Boolean);for(let v=0;v<i.length;v+=1)j(i[v]);r=!1},d(d){d&&(f(e),f(n),f(o),f(c),f(a)),tt(i,d)}}}const Je=l=>l.currency;function Qt(l,e,t){let n;return U(l,wt,o=>t(0,n=o)),[n]}class Zt extends Q{constructor(e){super(),Z(this,e,Qt,Yt,Y,{})}}function en(l){let e,t,n,o,c,a,r="minting...",s,i,b,d;return{c(){e=y("div"),t=y("img"),o=$(),c=y("div"),a=y("div"),a.textContent=r,s=$(),i=y("a"),b=S("transactionID"),this.h()},l(v){e=h(v,"DIV",{class:!0});var m=F(e);t=h(m,"IMG",{src:!0,alt:!0,style:!0,class:!0}),o=I(m),c=h(m,"DIV",{class:!0});var x=F(c);a=h(x,"DIV",{"data-svelte-h":!0}),M(a)!=="svelte-15f54we"&&(a.textContent=r),s=I(x),i=h(x,"A",{target:!0,href:!0,class:!0});var _=F(i);b=D(_,"transactionID"),_.forEach(f),x.forEach(f),m.forEach(f),this.h()},h(){be(t.src,n=l[0].treasure.img)||g(t,"src",n),g(t,"alt",""),O(t,"width","200px"),g(t,"class","blink svelte-1m6gc3r"),g(i,"target","_blank"),g(i,"href",d="https://explorer.ergoplatform.com/en/transactions/"+l[0].transactionId),g(i,"class","underline"),g(c,"class",""),g(e,"class","p-4 flex flex-col items-center")},m(v,m){L(v,e,m),p(e,t),p(e,o),p(e,c),p(c,a),p(c,s),p(c,i),p(i,b)},p(v,[m]){m&1&&!be(t.src,n=v[0].treasure.img)&&g(t,"src",n),m&1&&d!==(d="https://explorer.ergoplatform.com/en/transactions/"+v[0].transactionId)&&g(i,"href",d)},i:P,o:P,d(v){v&&f(e)}}}function tn(l,e,t){let{mint:n}=e;return l.$$set=o=>{"mint"in o&&t(0,n=o.mint)},[n]}class nn extends Q{constructor(e){super(),Z(this,e,tn,en,Y,{mint:0})}}function Ye(l,e,t){const n=l.slice();return n[1]=e[t],n}function Qe(l){let e,t;return e=new nn({props:{mint:l[1]}}),{c(){ne(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,o){le(e,n,o),t=!0},p(n,o){const c={};o&1&&(c.mint=n[1]),e.$set(c)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function on(l){let e,t,n=Ve(l[0]),o=[];for(let a=0;a<n.length;a+=1)o[a]=Qe(Ye(l,n,a));const c=a=>j(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=je()},l(a){for(let r=0;r<o.length;r+=1)o[r].l(a);e=je()},m(a,r){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(a,r);L(a,e,r),t=!0},p(a,[r]){if(r&1){n=Ve(a[0]);let s;for(s=0;s<n.length;s+=1){const i=Ye(a,n,s);o[s]?(o[s].p(i,r),N(o[s],1)):(o[s]=Qe(i),o[s].c(),N(o[s],1),o[s].m(e.parentNode,e))}for(Ze(),s=n.length;s<o.length;s+=1)c(s);et()}},i(a){if(!t){for(let r=0;r<n.length;r+=1)N(o[r]);t=!0}},o(a){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)j(o[r]);t=!1},d(a){a&&f(e),tt(o,a)}}}function ln(l,e,t){let n;return U(l,Ge,o=>t(0,n=o)),[n]}class an extends Q{constructor(e){super(),Z(this,e,ln,on,Y,{})}}function sn(l){let e,t,n,o,c;return t=new an({}),o=new Zt({}),{c(){e=y("div"),ne(t.$$.fragment),n=$(),ne(o.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var r=F(e);oe(t.$$.fragment,r),n=I(r),oe(o.$$.fragment,r),r.forEach(f),this.h()},h(){g(e,"class","bg-main grow flex flex-col items-center gap-5 svelte-itl043"),O(e,"padding-top","80px")},m(a,r){L(a,e,r),le(t,e,null),p(e,n),le(o,e,null),c=!0},p:P,i(a){c||(N(t.$$.fragment,a),N(o.$$.fragment,a),c=!0)},o(a){j(t.$$.fragment,a),j(o.$$.fragment,a),c=!1},d(a){a&&f(e),ae(t),ae(o)}}}class rn extends Q{constructor(e){super(),Z(this,e,null,sn,Y,{})}}function cn(l){let e,t,n,o,c,a;return e=new qt({}),n=new Ct({}),c=new rn({}),{c(){ne(e.$$.fragment),t=$(),ne(n.$$.fragment),o=$(),ne(c.$$.fragment)},l(r){oe(e.$$.fragment,r),t=I(r),oe(n.$$.fragment,r),o=I(r),oe(c.$$.fragment,r)},m(r,s){le(e,r,s),L(r,t,s),le(n,r,s),L(r,o,s),le(c,r,s),a=!0},i(r){a||(N(e.$$.fragment,r),N(n.$$.fragment,r),N(c.$$.fragment,r),a=!0)},o(r){j(e.$$.fragment,r),j(n.$$.fragment,r),j(c.$$.fragment,r),a=!1},d(r){r&&(f(t),f(o)),ae(e,r),ae(n,r),ae(c,r)}}}function pn(l){let e,t='<img class="unselectable" src="ship.png" style="width:250px;" alt=""/> <div class="font-mono mt-4">loading...</div>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(n){e=h(n,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-83we0i"&&(e.innerHTML=t),this.h()},h(){g(e,"class","grow flex flex-col items-center justify-center")},m(n,o){L(n,e,o)},i:P,o:P,d(n){n&&f(e)}}}function dn(l){let e,t,n,o;const c=[pn,cn],a=[];function r(s,i){return 1}return t=r(),n=a[t]=c[t](l),{c(){e=y("div"),n.c(),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=F(e);n.l(i),i.forEach(f),this.h()},h(){g(e,"class","h-full flex flex-col grow main-page svelte-12hevi9")},m(s,i){L(s,e,i),a[t].m(e,null),o=!0},p:P,i(s){o||(N(n),o=!0)},o(s){j(n),o=!1},d(s){s&&f(e),a[t].d()}}}function mn(l){ct(e);function e(){kt(),Ft()}return[]}class un extends Q{constructor(e){super(),Z(this,e,mn,dn,Y,{})}}export{un as component};
