import{s as Ae,n as _e,j as ve,r as vt,l as Ke,o as Gt}from"../chunks/scheduler.71af12de.js";import{S as Ne,i as ze,g as P,h as M,A as $e,k as A,a as ce,f as z,s as se,m as le,r as De,j as W,c as ne,n as ie,u as Le,l as Ie,y as I,v as Pe,o as Te,d as ge,t as xe,w as Me,x as Fe,F as Ge,G as Ve,p as _t,b as wt,H as St,e as jt}from"../chunks/index.e9246ef9.js";import{b as Oe}from"../chunks/paths.d433aa37.js";import{c as qe,t as Xe,f as Vt,S as nt,g as rt,h as lt,i as it,j as Je,O as tt,k as ct,C as qt,l as yt,m as xt,p as Ye,q as Qe,r as Ze,T as Et,R as bt,v as Kt,s as Dt,x as gt,y as He,a as et,z as It,A as Ct,E as ft,D as at,F as $t,G as Tt,I as ot,J as Wt,K as Xt,L as We,M as Jt,N as Yt,H as Qt,P as Zt,Q as es,B as ts,U as ss,W as ns,V as rs,X as ls,e as ht,b as is,Y as as,Z as os}from"../chunks/notifier.246c7ae4.js";function cs(i){let e,r=`<div class="fake-window-header svelte-fmz6ic"><div class="ios-buttons svelte-fmz6ic"><div class="ios-button close svelte-fmz6ic"></div> <div class="ios-button minimize svelte-fmz6ic"></div> <div class="ios-button maximize svelte-fmz6ic"></div></div> <div style="padding-right:8px;">ergoscript</div></div> <div class="source-code svelte-fmz6ic"><pre><code class="hljs svelte-fmz6ic">{
		<span class="hljs-keyword svelte-fmz6ic">val</span> hodlTargetRate : <span class="hljs-type svelte-fmz6ic">Long</span>     = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R4</span>[<span class="hljs-type svelte-fmz6ic">Long</span>].get
		<span class="hljs-keyword svelte-fmz6ic">val</span> maxHeight : <span class="hljs-type svelte-fmz6ic">Int</span>           = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R5</span>[<span class="hljs-type svelte-fmz6ic">Int</span>].get
		<span class="hljs-keyword svelte-fmz6ic">val</span> hodlerPK : <span class="hljs-type svelte-fmz6ic">SigmaProp</span>      = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R6</span>[<span class="hljs-type svelte-fmz6ic">SigmaProp</span>].get
		<span class="hljs-keyword svelte-fmz6ic">val</span> uiFeePK : <span class="hljs-type svelte-fmz6ic">SigmaProp</span>       = <span class="hljs-type svelte-fmz6ic">SELF</span>.<span class="hljs-type svelte-fmz6ic">R7</span>[<span class="hljs-type svelte-fmz6ic">SigmaProp</span>].get
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> totalLockedNanoErg : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-type svelte-fmz6ic">SELF</span>.value
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> fees: <span class="hljs-type svelte-fmz6ic">Coll</span>[(<span class="hljs-type svelte-fmz6ic">SigmaProp</span>, <span class="hljs-type svelte-fmz6ic">BigInt</span>)] = {
			<span class="hljs-keyword svelte-fmz6ic">val</span> feeDenom : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-number">100000</span>L
			<span class="hljs-keyword svelte-fmz6ic">val</span> devFee   : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-number">500</span>L         <span class="hljs-comment svelte-fmz6ic">// 0.5%</span>
			<span class="hljs-keyword svelte-fmz6ic">val</span> uiFee    : <span class="hljs-type svelte-fmz6ic">Long</span> = <span class="hljs-number">500</span>L         <span class="hljs-comment svelte-fmz6ic">// 0.5%</span>
				<span class="hljs-type svelte-fmz6ic">Coll</span>(
					 (_contractDevPK, (devFee.toBigInt * totalLockedNanoErg.toBigInt) / feeDenom.toBigInt),
					 (uiFeePK, (uiFee.toBigInt * totalLockedNanoErg.toBigInt) / feeDenom.toBigInt)
				)
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> feesPaid : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			<span class="hljs-keyword svelte-fmz6ic">val</span> devFeesPaid: <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
				<span class="hljs-keyword svelte-fmz6ic">if</span>(fees(<span class="hljs-number">0</span>)._2 &gt; <span class="hljs-number">0</span>){
					<span class="hljs-keyword svelte-fmz6ic">val</span> devOutput : <span class="hljs-type svelte-fmz6ic">Box</span>   = <span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">1</span>)
					allOf(
						<span class="hljs-type svelte-fmz6ic">Coll</span>(
							devOutput.propositionBytes   == fees(<span class="hljs-number">0</span>)._1.propBytes,
							devOutput.value.toBigInt     &gt;= fees(<span class="hljs-number">0</span>)._2
						)
					)
				}<span class="hljs-keyword svelte-fmz6ic">else</span>{
					<span class="hljs-literal svelte-fmz6ic">true</span>
				}
			}
	 
			<span class="hljs-keyword svelte-fmz6ic">val</span> uiFeesPaid : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
				<span class="hljs-keyword svelte-fmz6ic">if</span>(fees(<span class="hljs-number">1</span>)._2 &gt; <span class="hljs-number">0</span>){
					<span class="hljs-keyword svelte-fmz6ic">val</span> uiOutput : <span class="hljs-type svelte-fmz6ic">Box</span>    = <span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">2</span>)
					allOf(
						<span class="hljs-type svelte-fmz6ic">Coll</span>(
							uiOutput.propositionBytes   == fees(<span class="hljs-number">1</span>)._1.propBytes,
							uiOutput.value.toBigInt     &gt;= fees(<span class="hljs-number">1</span>)._2
						)
					)
				}<span class="hljs-keyword svelte-fmz6ic">else</span>{
					<span class="hljs-literal svelte-fmz6ic">true</span>
				}
			}
			devFeesPaid &amp;&amp; uiFeesPaid
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> feesTotal : <span class="hljs-type svelte-fmz6ic">Long</span> = fees(<span class="hljs-number">0</span>)._2 + fees(<span class="hljs-number">1</span>)._2
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> repaymentNanoErg : <span class="hljs-type svelte-fmz6ic">Long</span> = totalLockedNanoErg - feesTotal
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> fundsReturned : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			<span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">0</span>).propositionBytes == hodlerPK.propBytes &amp;&amp; 
			<span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">0</span>).value &gt;= repaymentNanoErg &amp;&amp;
			<span class="hljs-type svelte-fmz6ic">OUTPUTS</span>(<span class="hljs-number">0</span>).<span class="hljs-type svelte-fmz6ic">R4</span>[<span class="hljs-type svelte-fmz6ic">Coll</span>[<span class="hljs-type svelte-fmz6ic">Byte</span>]].get == <span class="hljs-type svelte-fmz6ic">SELF</span>.id
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> maxHeightReached : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			maxHeight &lt;= <span class="hljs-type svelte-fmz6ic">HEIGHT</span>
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">val</span> priceTargetReached : <span class="hljs-type svelte-fmz6ic">Boolean</span> = {
			<span class="hljs-keyword svelte-fmz6ic">if</span> (<span class="hljs-type svelte-fmz6ic">CONTEXT</span>.dataInputs.size &gt; <span class="hljs-number">0</span>) {
				<span class="hljs-comment svelte-fmz6ic">// validate Oracle box</span>
				<span class="hljs-keyword svelte-fmz6ic">val</span> oracleBox : <span class="hljs-type svelte-fmz6ic">Box</span> = <span class="hljs-type svelte-fmz6ic">CONTEXT</span>.dataInputs(<span class="hljs-number">0</span>)
				<span class="hljs-keyword svelte-fmz6ic">val</span> currentRate : <span class="hljs-type svelte-fmz6ic">Long</span> = oracleBox.<span class="hljs-type svelte-fmz6ic">R4</span>[<span class="hljs-type svelte-fmz6ic">Long</span>].get
				<span class="hljs-keyword svelte-fmz6ic">val</span> oracleHeight: <span class="hljs-type svelte-fmz6ic">Long</span> = oracleBox.<span class="hljs-type svelte-fmz6ic">R5</span>[<span class="hljs-type svelte-fmz6ic">Int</span>].get
	 
				<span class="hljs-keyword svelte-fmz6ic">val</span> validDataInput: <span class="hljs-type svelte-fmz6ic">Boolean</span> = <span class="hljs-type svelte-fmz6ic">HEIGHT</span> &lt;= oracleHeight + <span class="hljs-number">30</span> &amp;&amp; oracleBox.tokens(<span class="hljs-number">0</span>)._1 == _oraclePoolNFT
	 
				<span class="hljs-comment svelte-fmz6ic">// check if the price reached target</span>
				<span class="hljs-keyword svelte-fmz6ic">val</span> targetPriceReached: <span class="hljs-type svelte-fmz6ic">Boolean</span> = currentRate &lt;= hodlTargetRate
	 
				validDataInput &amp;&amp; targetPriceReached
			} <span class="hljs-keyword svelte-fmz6ic">else</span> {
				<span class="hljs-literal svelte-fmz6ic">false</span>
			}
		}
	 
		<span class="hljs-keyword svelte-fmz6ic">if</span>(priceTargetReached || maxHeightReached){
			sigmaProp(fundsReturned &amp;&amp; feesPaid)
		} <span class="hljs-keyword svelte-fmz6ic">else</span> {
			sigmaProp(<span class="hljs-literal svelte-fmz6ic">false</span>)
		}
	}</code></pre></div>`;return{c(){e=P("div"),e.innerHTML=r,this.h()},l(s){e=M(s,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1ll1nd"&&(e.innerHTML=r),this.h()},h(){A(e,"class","editor-flex svelte-fmz6ic")},m(s,a){ce(s,e,a)},p:_e,i:_e,o:_e,d(s){s&&z(e)}}}class fs extends Ne{constructor(e){super(),ze(this,e,null,cs,Ae,{})}}function us(i){let e,r="smart contract.";return{c(){e=P("a"),e.textContent=r,this.h()},l(s){e=M(s,"A",{href:!0,"data-svelte-h":!0}),$e(e)!=="svelte-maej2"&&(e.textContent=r),this.h()},h(){A(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl_hodlerg3.ts")},m(s,a){ce(s,e,a)},d(s){s&&z(e)}}}function ps(i){let e,r="smart contract.";return{c(){e=P("a"),e.textContent=r,this.h()},l(s){e=M(s,"A",{href:!0,"data-svelte-h":!0}),$e(e)!=="svelte-50pk7c"&&(e.textContent=r),this.h()},h(){A(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl.ts")},m(s,a){ce(s,e,a)},d(s){s&&z(e)}}}function hs(i){let e,r,s,a="How does it work?",w,d,u,x,g,O,b,y,E=i[1]/10n**9n+"",S,C,R,$,j="3. Unlocked coins can only be sent to your wallet.",J,G,V,N=i[1]/10n**9n+"",D,q,K,T,U,F,X=`<img src="${Oe}/hodl.jpeg" alt="" class="mt-10"/> <div class="text-4xl mt-20 mb-10 self-end"><a href="https://ergoplatform.org/en/news/ErgoHack-7-The-Future-of-Finance-and-the-Path-to-Adoption/">ERGOHACKVII</a>
				letter</div> <div class="bg-white p-16 self-end paper text-black italic shadow-md">Dear Hackathon Committee,<br/><br/>

				We are excited to present our ErgoHack project, HodlBox. This dApp is designed to encourage
				long-term investment in the Ergo ecosystem. Our project addresses a common challenge in
				crypto: holding onto your coins over an extended period of time and not selling the bottom.
				To combat this, we&#39;ve devised a non-custodial vault that allows users to stash their ERG
				until a specific time or price point is reached on Spectrum DEX. When a user purchases a
				Hodl Box, they will also receive a commemorative NFT as a token of their commitment. The
				NFTs become increasingly awesome with larger sums, adding a fun way for users to flex on
				social media.<br/><br/>

				Our project is open-source, welcoming UI competition and abiding by Ergo’s open source
				ethos. It&#39;s designed to be user-friendly, allowing users to mint in just two clicks.The Hodl
				Box system is secure and risk-free. Only the person who locked the box can unlock it, either
				when a certain price point is reached or after the established time period. The NFTs serve
				as a fun reward and Proof of Hodl, but they are not connected to the redemption process,
				eliminating the risk of losing access to your Hodl Box.<br/><br/>

				We&#39;ve implemented a small fee structure (0.5% contract, 0.5% UI) to support the project&#39;s
				sustainability. Importantly, the developers hold as well, with fees only paid after the hodl
				period, aligning the incentives of the ecosystem, users, and developers.<br/><br/>

				In conclusion, our project offers a perfect financial tool for the coming bull market,
				encouraging long-term investment and increasing the TVL in the Ergo ecosystem. We look
				forward to sharing our website and contract with you soon.<br/><br/>

				Best Regards,<br/><br/>

				TMR.ERG, c8, savonarola</div>`,fe,ae,Y,Q="Smart Contract",ee,Z,ue,we;function ke(pe,Be){return pe[0]=="ERG"?ps:us}let Ee=ke(i),B=Ee(i);return ue=new fs({}),{c(){e=P("div"),r=P("div"),s=P("div"),s.textContent=a,w=se(),d=P("div"),u=le("1. Your "),x=le(i[0]),g=le(` is locked on Ergo Blockchain behind a
			`),B.c(),O=se(),b=P("div"),y=le("2. As soon as Ergo pumps to $"),S=le(E),C=le("/ERG your coins unlock.*"),R=se(),$=P("div"),$.textContent=j,J=se(),G=P("div"),V=le("*If $"),D=le(N),q=le("/ERG is not reached, your "),K=le(i[0]),T=le(" unlocks on 2024-10-15."),U=se(),F=P("div"),F.innerHTML=X,fe=se(),ae=P("div"),Y=P("div"),Y.textContent=Q,ee=se(),Z=P("div"),De(ue.$$.fragment),this.h()},l(pe){e=M(pe,"DIV",{class:!0});var Be=W(e);r=M(Be,"DIV",{class:!0});var me=W(r);s=M(me,"DIV",{class:!0,"data-svelte-h":!0}),$e(s)!=="svelte-jy3xgb"&&(s.textContent=a),w=ne(me),d=M(me,"DIV",{});var be=W(d);u=ie(be,"1. Your "),x=ie(be,i[0]),g=ie(be,` is locked on Ergo Blockchain behind a
			`),B.l(be),be.forEach(z),O=ne(me),b=M(me,"DIV",{});var Re=W(b);y=ie(Re,"2. As soon as Ergo pumps to $"),S=ie(Re,E),C=ie(Re,"/ERG your coins unlock.*"),Re.forEach(z),R=ne(me),$=M(me,"DIV",{"data-svelte-h":!0}),$e($)!=="svelte-175k4k4"&&($.textContent=j),J=ne(me),G=M(me,"DIV",{class:!0});var t=W(G);V=ie(t,"*If $"),D=ie(t,N),q=ie(t,"/ERG is not reached, your "),K=ie(t,i[0]),T=ie(t," unlocks on 2024-10-15."),t.forEach(z),U=ne(me),F=M(me,"DIV",{style:!0,"data-svelte-h":!0}),$e(F)!=="svelte-1b6isi"&&(F.innerHTML=X),fe=ne(me),ae=M(me,"DIV",{});var n=W(ae);Y=M(n,"DIV",{class:!0,"data-svelte-h":!0}),$e(Y)!=="svelte-14ksf12"&&(Y.textContent=Q),ee=ne(n),Z=M(n,"DIV",{});var l=W(Z);Le(ue.$$.fragment,l),l.forEach(z),n.forEach(z),me.forEach(z),Be.forEach(z),this.h()},h(){A(s,"class","text-4xl mt-10 mb-5"),A(G,"class","text-sm"),Ie(F,"max-width","700px"),A(Y,"class","text-4xl mt-10 mb-5"),A(r,"class","w-full max-w-4xl flex flex-col gap-2"),A(e,"class","w-full min-h-full bg-main flex flex-col items-center svelte-zuomog")},m(pe,Be){ce(pe,e,Be),I(e,r),I(r,s),I(r,w),I(r,d),I(d,u),I(d,x),I(d,g),B.m(d,null),I(r,O),I(r,b),I(b,y),I(b,S),I(b,C),I(r,R),I(r,$),I(r,J),I(r,G),I(G,V),I(G,D),I(G,q),I(G,K),I(G,T),I(r,U),I(r,F),I(r,fe),I(r,ae),I(ae,Y),I(ae,ee),I(ae,Z),Pe(ue,Z,null),we=!0},p(pe,[Be]){(!we||Be&1)&&Te(x,pe[0]),Ee!==(Ee=ke(pe))&&(B.d(1),B=Ee(pe),B&&(B.c(),B.m(d,null))),(!we||Be&2)&&E!==(E=pe[1]/10n**9n+"")&&Te(S,E),(!we||Be&2)&&N!==(N=pe[1]/10n**9n+"")&&Te(D,N),(!we||Be&1)&&Te(K,pe[0])},i(pe){we||(ge(ue.$$.fragment,pe),we=!0)},o(pe){xe(ue.$$.fragment,pe),we=!1},d(pe){pe&&z(e),B.d(),Me(ue)}}}function ds(i,e,r){let s,a;return ve(i,qe,w=>r(0,s=w)),ve(i,Xe,w=>r(1,a=w)),[s,a]}class ms extends Ne{constructor(e){super(),ze(this,e,ds,hs,Ae,{})}}var kt={exports:{}},Lt={exports:{}},Pt={exports:{}};(function(i){(function(e){var r,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,w=Math.floor,d="[BigNumber Error] ",u=d+"Number primitive has more than 15 significant digits: ",x=1e14,g=14,O=9007199254740991,b=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,E=1e9;function S(N){var D,q,K,T=B.prototype={constructor:B,toString:null,valueOf:null},U=new B(1),F=20,X=4,fe=-7,ae=21,Y=-1e7,Q=1e7,ee=!1,Z=1,ue=0,we={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ke="0123456789abcdefghijklmnopqrstuvwxyz",Ee=!0;function B(t,n){var l,m,c,p,_,o,f,v,h=this;if(!(h instanceof B))return new B(t,n);if(n==null){if(t&&t._isBigNumber===!0){h.s=t.s,!t.c||t.e>Q?h.c=h.e=null:t.e<Y?h.c=[h.e=0]:(h.e=t.e,h.c=t.c.slice());return}if((o=typeof t=="number")&&t*0==0){if(h.s=1/t<0?(t=-t,-1):1,t===~~t){for(p=0,_=t;_>=10;_/=10,p++);p>Q?h.c=h.e=null:(h.e=p,h.c=[t]);return}v=String(t)}else{if(!s.test(v=String(t)))return K(h,v,o);h.s=v.charCodeAt(0)==45?(v=v.slice(1),-1):1}(p=v.indexOf("."))>-1&&(v=v.replace(".","")),(_=v.search(/e/i))>0?(p<0&&(p=_),p+=+v.slice(_+1),v=v.substring(0,_)):p<0&&(p=v.length)}else{if(j(n,2,ke.length,"Base"),n==10&&Ee)return h=new B(t),be(h,F+h.e+1,X);if(v=String(t),o=typeof t=="number"){if(t*0!=0)return K(h,v,o,n);if(h.s=1/t<0?(v=v.slice(1),-1):1,B.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(u+t)}else h.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1;for(l=ke.slice(0,n),p=_=0,f=v.length;_<f;_++)if(l.indexOf(m=v.charAt(_))<0){if(m=="."){if(_>p){p=f;continue}}else if(!c&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){c=!0,_=-1,p=0;continue}return K(h,String(t),o,n)}o=!1,v=q(v,n,10,h.s),(p=v.indexOf("."))>-1?v=v.replace(".",""):p=v.length}for(_=0;v.charCodeAt(_)===48;_++);for(f=v.length;v.charCodeAt(--f)===48;);if(v=v.slice(_,++f)){if(f-=_,o&&B.DEBUG&&f>15&&(t>O||t!==w(t)))throw Error(u+h.s*t);if((p=p-_-1)>Q)h.c=h.e=null;else if(p<Y)h.c=[h.e=0];else{if(h.e=p,h.c=[],_=(p+1)%g,p<0&&(_+=g),_<f){for(_&&h.c.push(+v.slice(0,_)),f-=g;_<f;)h.c.push(+v.slice(_,_+=g));_=g-(v=v.slice(_)).length}else _-=f;for(;_--;v+="0");h.c.push(+v)}}else h.c=[h.e=0]}B.clone=S,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(t){var n,l;if(t!=null)if(typeof t=="object"){if(t.hasOwnProperty(n="DECIMAL_PLACES")&&(l=t[n],j(l,0,E,n),F=l),t.hasOwnProperty(n="ROUNDING_MODE")&&(l=t[n],j(l,0,8,n),X=l),t.hasOwnProperty(n="EXPONENTIAL_AT")&&(l=t[n],l&&l.pop?(j(l[0],-E,0,n),j(l[1],0,E,n),fe=l[0],ae=l[1]):(j(l,-E,E,n),fe=-(ae=l<0?-l:l))),t.hasOwnProperty(n="RANGE"))if(l=t[n],l&&l.pop)j(l[0],-E,-1,n),j(l[1],1,E,n),Y=l[0],Q=l[1];else if(j(l,-E,E,n),l)Y=-(Q=l<0?-l:l);else throw Error(d+n+" cannot be zero: "+l);if(t.hasOwnProperty(n="CRYPTO"))if(l=t[n],l===!!l)if(l)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ee=l;else throw ee=!l,Error(d+"crypto unavailable");else ee=l;else throw Error(d+n+" not true or false: "+l);if(t.hasOwnProperty(n="MODULO_MODE")&&(l=t[n],j(l,0,9,n),Z=l),t.hasOwnProperty(n="POW_PRECISION")&&(l=t[n],j(l,0,E,n),ue=l),t.hasOwnProperty(n="FORMAT"))if(l=t[n],typeof l=="object")we=l;else throw Error(d+n+" not an object: "+l);if(t.hasOwnProperty(n="ALPHABET"))if(l=t[n],typeof l=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(l))Ee=l.slice(0,10)=="0123456789",ke=l;else throw Error(d+n+" invalid: "+l)}else throw Error(d+"Object expected: "+t);return{DECIMAL_PLACES:F,ROUNDING_MODE:X,EXPONENTIAL_AT:[fe,ae],RANGE:[Y,Q],CRYPTO:ee,MODULO_MODE:Z,POW_PRECISION:ue,FORMAT:we,ALPHABET:ke}},B.isBigNumber=function(t){if(!t||t._isBigNumber!==!0)return!1;if(!B.DEBUG)return!0;var n,l,m=t.c,c=t.e,p=t.s;e:if({}.toString.call(m)=="[object Array]"){if((p===1||p===-1)&&c>=-E&&c<=E&&c===w(c)){if(m[0]===0){if(c===0&&m.length===1)return!0;break e}if(n=(c+1)%g,n<1&&(n+=g),String(m[0]).length==n){for(n=0;n<m.length;n++)if(l=m[n],l<0||l>=x||l!==w(l))break e;if(l!==0)return!0}}}else if(m===null&&c===null&&(p===null||p===1||p===-1))return!0;throw Error(d+"Invalid BigNumber: "+t)},B.maximum=B.max=function(){return Be(arguments,-1)},B.minimum=B.min=function(){return Be(arguments,1)},B.random=function(){var t=9007199254740992,n=Math.random()*t&2097151?function(){return w(Math.random()*t)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(l){var m,c,p,_,o,f=0,v=[],h=new B(U);if(l==null?l=F:j(l,0,E),_=a(l/g),ee)if(crypto.getRandomValues){for(m=crypto.getRandomValues(new Uint32Array(_*=2));f<_;)o=m[f]*131072+(m[f+1]>>>11),o>=9e15?(c=crypto.getRandomValues(new Uint32Array(2)),m[f]=c[0],m[f+1]=c[1]):(v.push(o%1e14),f+=2);f=_/2}else if(crypto.randomBytes){for(m=crypto.randomBytes(_*=7);f<_;)o=(m[f]&31)*281474976710656+m[f+1]*1099511627776+m[f+2]*4294967296+m[f+3]*16777216+(m[f+4]<<16)+(m[f+5]<<8)+m[f+6],o>=9e15?crypto.randomBytes(7).copy(m,f):(v.push(o%1e14),f+=7);f=_/7}else throw ee=!1,Error(d+"crypto unavailable");if(!ee)for(;f<_;)o=n(),o<9e15&&(v[f++]=o%1e14);for(_=v[--f],l%=g,_&&l&&(o=b[g-l],v[f]=w(_/o)*o);v[f]===0;v.pop(),f--);if(f<0)v=[p=0];else{for(p=-1;v[0]===0;v.splice(0,1),p-=g);for(f=1,o=v[0];o>=10;o/=10,f++);f<g&&(p-=g-f)}return h.e=p,h.c=v,h}}(),B.sum=function(){for(var t=1,n=arguments,l=new B(n[0]);t<n.length;)l=l.plus(n[t++]);return l},q=function(){var t="0123456789";function n(l,m,c,p){for(var _,o=[0],f,v=0,h=l.length;v<h;){for(f=o.length;f--;o[f]*=m);for(o[0]+=p.indexOf(l.charAt(v++)),_=0;_<o.length;_++)o[_]>c-1&&(o[_+1]==null&&(o[_+1]=0),o[_+1]+=o[_]/c|0,o[_]%=c)}return o.reverse()}return function(l,m,c,p,_){var o,f,v,h,k,L,H,re,he=l.indexOf("."),ye=F,te=X;for(he>=0&&(h=ue,ue=0,l=l.replace(".",""),re=new B(m),L=re.pow(l.length-he),ue=h,re.c=n(V(R(L.c),L.e,"0"),10,c,t),re.e=re.c.length),H=n(l,m,c,_?(o=ke,t):(o=t,ke)),v=h=H.length;H[--h]==0;H.pop());if(!H[0])return o.charAt(0);if(he<0?--v:(L.c=H,L.e=v,L.s=p,L=D(L,re,ye,te,c),H=L.c,k=L.r,v=L.e),f=v+ye+1,he=H[f],h=c/2,k=k||f<0||H[f+1]!=null,k=te<4?(he!=null||k)&&(te==0||te==(L.s<0?3:2)):he>h||he==h&&(te==4||k||te==6&&H[f-1]&1||te==(L.s<0?8:7)),f<1||!H[0])l=k?V(o.charAt(1),-ye,o.charAt(0)):o.charAt(0);else{if(H.length=f,k)for(--c;++H[--f]>c;)H[f]=0,f||(++v,H=[1].concat(H));for(h=H.length;!H[--h];);for(he=0,l="";he<=h;l+=o.charAt(H[he++]));l=V(l,v,o.charAt(0))}return l}}(),D=function(){function t(m,c,p){var _,o,f,v,h=0,k=m.length,L=c%y,H=c/y|0;for(m=m.slice();k--;)f=m[k]%y,v=m[k]/y|0,_=H*f+v*L,o=L*f+_%y*y+h,h=(o/p|0)+(_/y|0)+H*v,m[k]=o%p;return h&&(m=[h].concat(m)),m}function n(m,c,p,_){var o,f;if(p!=_)f=p>_?1:-1;else for(o=f=0;o<p;o++)if(m[o]!=c[o]){f=m[o]>c[o]?1:-1;break}return f}function l(m,c,p,_){for(var o=0;p--;)m[p]-=o,o=m[p]<c[p]?1:0,m[p]=o*_+m[p]-c[p];for(;!m[0]&&m.length>1;m.splice(0,1));}return function(m,c,p,_,o){var f,v,h,k,L,H,re,he,ye,te,oe,je,ut,dt,mt,Ue,st,Se=m.s==c.s?1:-1,Ce=m.c,de=c.c;if(!Ce||!Ce[0]||!de||!de[0])return new B(!m.s||!c.s||(Ce?de&&Ce[0]==de[0]:!de)?NaN:Ce&&Ce[0]==0||!de?Se*0:Se/0);for(he=new B(Se),ye=he.c=[],v=m.e-c.e,Se=p+v+1,o||(o=x,v=C(m.e/g)-C(c.e/g),Se=Se/g|0),h=0;de[h]==(Ce[h]||0);h++);if(de[h]>(Ce[h]||0)&&v--,Se<0)ye.push(1),k=!0;else{for(dt=Ce.length,Ue=de.length,h=0,Se+=2,L=w(o/(de[0]+1)),L>1&&(de=t(de,L,o),Ce=t(Ce,L,o),Ue=de.length,dt=Ce.length),ut=Ue,te=Ce.slice(0,Ue),oe=te.length;oe<Ue;te[oe++]=0);st=de.slice(),st=[0].concat(st),mt=de[0],de[1]>=o/2&&mt++;do{if(L=0,f=n(de,te,Ue,oe),f<0){if(je=te[0],Ue!=oe&&(je=je*o+(te[1]||0)),L=w(je/mt),L>1)for(L>=o&&(L=o-1),H=t(de,L,o),re=H.length,oe=te.length;n(H,te,re,oe)==1;)L--,l(H,Ue<re?st:de,re,o),re=H.length,f=1;else L==0&&(f=L=1),H=de.slice(),re=H.length;if(re<oe&&(H=[0].concat(H)),l(te,H,oe,o),oe=te.length,f==-1)for(;n(de,te,Ue,oe)<1;)L++,l(te,Ue<oe?st:de,oe,o),oe=te.length}else f===0&&(L++,te=[0]);ye[h++]=L,te[0]?te[oe++]=Ce[ut]||0:(te=[Ce[ut]],oe=1)}while((ut++<dt||te[0]!=null)&&Se--);k=te[0]!=null,ye[0]||ye.splice(0,1)}if(o==x){for(h=1,Se=ye[0];Se>=10;Se/=10,h++);be(he,p+(he.e=h+v*g-1)+1,_,k)}else he.e=v,he.r=+k;return he}}();function pe(t,n,l,m){var c,p,_,o,f;if(l==null?l=X:j(l,0,8),!t.c)return t.toString();if(c=t.c[0],_=t.e,n==null)f=R(t.c),f=m==1||m==2&&(_<=fe||_>=ae)?G(f,_):V(f,_,"0");else if(t=be(new B(t),n,l),p=t.e,f=R(t.c),o=f.length,m==1||m==2&&(n<=p||p<=fe)){for(;o<n;f+="0",o++);f=G(f,p)}else if(n-=_,f=V(f,p,"0"),p+1>o){if(--n>0)for(f+=".";n--;f+="0");}else if(n+=p-o,n>0)for(p+1==o&&(f+=".");n--;f+="0");return t.s<0&&c?"-"+f:f}function Be(t,n){for(var l,m,c=1,p=new B(t[0]);c<t.length;c++)m=new B(t[c]),(!m.s||(l=$(p,m))===n||l===0&&p.s===n)&&(p=m);return p}function me(t,n,l){for(var m=1,c=n.length;!n[--c];n.pop());for(c=n[0];c>=10;c/=10,m++);return(l=m+l*g-1)>Q?t.c=t.e=null:l<Y?t.c=[t.e=0]:(t.e=l,t.c=n),t}K=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,n=/^([^.]+)\.$/,l=/^\.([^.]+)$/,m=/^-?(Infinity|NaN)$/,c=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(p,_,o,f){var v,h=o?_:_.replace(c,"");if(m.test(h))p.s=isNaN(h)?null:h<0?-1:1;else{if(!o&&(h=h.replace(t,function(k,L,H){return v=(H=H.toLowerCase())=="x"?16:H=="b"?2:8,!f||f==v?L:k}),f&&(v=f,h=h.replace(n,"$1").replace(l,"0.$1")),_!=h))return new B(h,v);if(B.DEBUG)throw Error(d+"Not a"+(f?" base "+f:"")+" number: "+_);p.s=null}p.c=p.e=null}}();function be(t,n,l,m){var c,p,_,o,f,v,h,k=t.c,L=b;if(k){e:{for(c=1,o=k[0];o>=10;o/=10,c++);if(p=n-c,p<0)p+=g,_=n,f=k[v=0],h=w(f/L[c-_-1]%10);else if(v=a((p+1)/g),v>=k.length)if(m){for(;k.length<=v;k.push(0));f=h=0,c=1,p%=g,_=p-g+1}else break e;else{for(f=o=k[v],c=1;o>=10;o/=10,c++);p%=g,_=p-g+c,h=_<0?0:w(f/L[c-_-1]%10)}if(m=m||n<0||k[v+1]!=null||(_<0?f:f%L[c-_-1]),m=l<4?(h||m)&&(l==0||l==(t.s<0?3:2)):h>5||h==5&&(l==4||m||l==6&&(p>0?_>0?f/L[c-_]:0:k[v-1])%10&1||l==(t.s<0?8:7)),n<1||!k[0])return k.length=0,m?(n-=t.e+1,k[0]=L[(g-n%g)%g],t.e=-n||0):k[0]=t.e=0,t;if(p==0?(k.length=v,o=1,v--):(k.length=v+1,o=L[g-p],k[v]=_>0?w(f/L[c-_]%L[_])*o:0),m)for(;;)if(v==0){for(p=1,_=k[0];_>=10;_/=10,p++);for(_=k[0]+=o,o=1;_>=10;_/=10,o++);p!=o&&(t.e++,k[0]==x&&(k[0]=1));break}else{if(k[v]+=o,k[v]!=x)break;k[v--]=0,o=1}for(p=k.length;k[--p]===0;k.pop());}t.e>Q?t.c=t.e=null:t.e<Y&&(t.c=[t.e=0])}return t}function Re(t){var n,l=t.e;return l===null?t.toString():(n=R(t.c),n=l<=fe||l>=ae?G(n,l):V(n,l,"0"),t.s<0?"-"+n:n)}return T.absoluteValue=T.abs=function(){var t=new B(this);return t.s<0&&(t.s=1),t},T.comparedTo=function(t,n){return $(this,new B(t,n))},T.decimalPlaces=T.dp=function(t,n){var l,m,c,p=this;if(t!=null)return j(t,0,E),n==null?n=X:j(n,0,8),be(new B(p),t+p.e+1,n);if(!(l=p.c))return null;if(m=((c=l.length-1)-C(this.e/g))*g,c=l[c])for(;c%10==0;c/=10,m--);return m<0&&(m=0),m},T.dividedBy=T.div=function(t,n){return D(this,new B(t,n),F,X)},T.dividedToIntegerBy=T.idiv=function(t,n){return D(this,new B(t,n),0,1)},T.exponentiatedBy=T.pow=function(t,n){var l,m,c,p,_,o,f,v,h,k=this;if(t=new B(t),t.c&&!t.isInteger())throw Error(d+"Exponent not an integer: "+Re(t));if(n!=null&&(n=new B(n)),o=t.e>14,!k.c||!k.c[0]||k.c[0]==1&&!k.e&&k.c.length==1||!t.c||!t.c[0])return h=new B(Math.pow(+Re(k),o?t.s*(2-J(t)):+Re(t))),n?h.mod(n):h;if(f=t.s<0,n){if(n.c?!n.c[0]:!n.s)return new B(NaN);m=!f&&k.isInteger()&&n.isInteger(),m&&(k=k.mod(n))}else{if(t.e>9&&(k.e>0||k.e<-1||(k.e==0?k.c[0]>1||o&&k.c[1]>=24e7:k.c[0]<8e13||o&&k.c[0]<=9999975e7)))return p=k.s<0&&J(t)?-0:0,k.e>-1&&(p=1/p),new B(f?1/p:p);ue&&(p=a(ue/g+2))}for(o?(l=new B(.5),f&&(t.s=1),v=J(t)):(c=Math.abs(+Re(t)),v=c%2),h=new B(U);;){if(v){if(h=h.times(k),!h.c)break;p?h.c.length>p&&(h.c.length=p):m&&(h=h.mod(n))}if(c){if(c=w(c/2),c===0)break;v=c%2}else if(t=t.times(l),be(t,t.e+1,1),t.e>14)v=J(t);else{if(c=+Re(t),c===0)break;v=c%2}k=k.times(k),p?k.c&&k.c.length>p&&(k.c.length=p):m&&(k=k.mod(n))}return m?h:(f&&(h=U.div(h)),n?h.mod(n):p?be(h,ue,X,_):h)},T.integerValue=function(t){var n=new B(this);return t==null?t=X:j(t,0,8),be(n,n.e+1,t)},T.isEqualTo=T.eq=function(t,n){return $(this,new B(t,n))===0},T.isFinite=function(){return!!this.c},T.isGreaterThan=T.gt=function(t,n){return $(this,new B(t,n))>0},T.isGreaterThanOrEqualTo=T.gte=function(t,n){return(n=$(this,new B(t,n)))===1||n===0},T.isInteger=function(){return!!this.c&&C(this.e/g)>this.c.length-2},T.isLessThan=T.lt=function(t,n){return $(this,new B(t,n))<0},T.isLessThanOrEqualTo=T.lte=function(t,n){return(n=$(this,new B(t,n)))===-1||n===0},T.isNaN=function(){return!this.s},T.isNegative=function(){return this.s<0},T.isPositive=function(){return this.s>0},T.isZero=function(){return!!this.c&&this.c[0]==0},T.minus=function(t,n){var l,m,c,p,_=this,o=_.s;if(t=new B(t,n),n=t.s,!o||!n)return new B(NaN);if(o!=n)return t.s=-n,_.plus(t);var f=_.e/g,v=t.e/g,h=_.c,k=t.c;if(!f||!v){if(!h||!k)return h?(t.s=-n,t):new B(k?_:NaN);if(!h[0]||!k[0])return k[0]?(t.s=-n,t):new B(h[0]?_:X==3?-0:0)}if(f=C(f),v=C(v),h=h.slice(),o=f-v){for((p=o<0)?(o=-o,c=h):(v=f,c=k),c.reverse(),n=o;n--;c.push(0));c.reverse()}else for(m=(p=(o=h.length)<(n=k.length))?o:n,o=n=0;n<m;n++)if(h[n]!=k[n]){p=h[n]<k[n];break}if(p&&(c=h,h=k,k=c,t.s=-t.s),n=(m=k.length)-(l=h.length),n>0)for(;n--;h[l++]=0);for(n=x-1;m>o;){if(h[--m]<k[m]){for(l=m;l&&!h[--l];h[l]=n);--h[l],h[m]+=x}h[m]-=k[m]}for(;h[0]==0;h.splice(0,1),--v);return h[0]?me(t,h,v):(t.s=X==3?-1:1,t.c=[t.e=0],t)},T.modulo=T.mod=function(t,n){var l,m,c=this;return t=new B(t,n),!c.c||!t.s||t.c&&!t.c[0]?new B(NaN):!t.c||c.c&&!c.c[0]?new B(c):(Z==9?(m=t.s,t.s=1,l=D(c,t,0,3),t.s=m,l.s*=m):l=D(c,t,0,Z),t=c.minus(l.times(t)),!t.c[0]&&Z==1&&(t.s=c.s),t)},T.multipliedBy=T.times=function(t,n){var l,m,c,p,_,o,f,v,h,k,L,H,re,he,ye,te=this,oe=te.c,je=(t=new B(t,n)).c;if(!oe||!je||!oe[0]||!je[0])return!te.s||!t.s||oe&&!oe[0]&&!je||je&&!je[0]&&!oe?t.c=t.e=t.s=null:(t.s*=te.s,!oe||!je?t.c=t.e=null:(t.c=[0],t.e=0)),t;for(m=C(te.e/g)+C(t.e/g),t.s*=te.s,f=oe.length,k=je.length,f<k&&(re=oe,oe=je,je=re,c=f,f=k,k=c),c=f+k,re=[];c--;re.push(0));for(he=x,ye=y,c=k;--c>=0;){for(l=0,L=je[c]%ye,H=je[c]/ye|0,_=f,p=c+_;p>c;)v=oe[--_]%ye,h=oe[_]/ye|0,o=H*v+h*L,v=L*v+o%ye*ye+re[p]+l,l=(v/he|0)+(o/ye|0)+H*h,re[p--]=v%he;re[p]=l}return l?++m:re.splice(0,1),me(t,re,m)},T.negated=function(){var t=new B(this);return t.s=-t.s||null,t},T.plus=function(t,n){var l,m=this,c=m.s;if(t=new B(t,n),n=t.s,!c||!n)return new B(NaN);if(c!=n)return t.s=-n,m.minus(t);var p=m.e/g,_=t.e/g,o=m.c,f=t.c;if(!p||!_){if(!o||!f)return new B(c/0);if(!o[0]||!f[0])return f[0]?t:new B(o[0]?m:c*0)}if(p=C(p),_=C(_),o=o.slice(),c=p-_){for(c>0?(_=p,l=f):(c=-c,l=o),l.reverse();c--;l.push(0));l.reverse()}for(c=o.length,n=f.length,c-n<0&&(l=f,f=o,o=l,n=c),c=0;n;)c=(o[--n]=o[n]+f[n]+c)/x|0,o[n]=x===o[n]?0:o[n]%x;return c&&(o=[c].concat(o),++_),me(t,o,_)},T.precision=T.sd=function(t,n){var l,m,c,p=this;if(t!=null&&t!==!!t)return j(t,1,E),n==null?n=X:j(n,0,8),be(new B(p),t,n);if(!(l=p.c))return null;if(c=l.length-1,m=c*g+1,c=l[c]){for(;c%10==0;c/=10,m--);for(c=l[0];c>=10;c/=10,m++);}return t&&p.e+1>m&&(m=p.e+1),m},T.shiftedBy=function(t){return j(t,-O,O),this.times("1e"+t)},T.squareRoot=T.sqrt=function(){var t,n,l,m,c,p=this,_=p.c,o=p.s,f=p.e,v=F+4,h=new B("0.5");if(o!==1||!_||!_[0])return new B(!o||o<0&&(!_||_[0])?NaN:_?p:1/0);if(o=Math.sqrt(+Re(p)),o==0||o==1/0?(n=R(_),(n.length+f)%2==0&&(n+="0"),o=Math.sqrt(+n),f=C((f+1)/2)-(f<0||f%2),o==1/0?n="5e"+f:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+f),l=new B(n)):l=new B(o+""),l.c[0]){for(f=l.e,o=f+v,o<3&&(o=0);;)if(c=l,l=h.times(c.plus(D(p,c,v,1))),R(c.c).slice(0,o)===(n=R(l.c)).slice(0,o))if(l.e<f&&--o,n=n.slice(o-3,o+1),n=="9999"||!m&&n=="4999"){if(!m&&(be(c,c.e+F+2,0),c.times(c).eq(p))){l=c;break}v+=4,o+=4,m=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(be(l,l.e+F+2,1),t=!l.times(l).eq(p));break}}return be(l,l.e+F+1,X,t)},T.toExponential=function(t,n){return t!=null&&(j(t,0,E),t++),pe(this,t,n,1)},T.toFixed=function(t,n){return t!=null&&(j(t,0,E),t=t+this.e+1),pe(this,t,n)},T.toFormat=function(t,n,l){var m,c=this;if(l==null)t!=null&&n&&typeof n=="object"?(l=n,n=null):t&&typeof t=="object"?(l=t,t=n=null):l=we;else if(typeof l!="object")throw Error(d+"Argument not an object: "+l);if(m=c.toFixed(t,n),c.c){var p,_=m.split("."),o=+l.groupSize,f=+l.secondaryGroupSize,v=l.groupSeparator||"",h=_[0],k=_[1],L=c.s<0,H=L?h.slice(1):h,re=H.length;if(f&&(p=o,o=f,f=p,re-=p),o>0&&re>0){for(p=re%o||o,h=H.substr(0,p);p<re;p+=o)h+=v+H.substr(p,o);f>0&&(h+=v+H.slice(p)),L&&(h="-"+h)}m=k?h+(l.decimalSeparator||"")+((f=+l.fractionGroupSize)?k.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(l.fractionGroupSeparator||"")):k):h}return(l.prefix||"")+m+(l.suffix||"")},T.toFraction=function(t){var n,l,m,c,p,_,o,f,v,h,k,L,H=this,re=H.c;if(t!=null&&(o=new B(t),!o.isInteger()&&(o.c||o.s!==1)||o.lt(U)))throw Error(d+"Argument "+(o.isInteger()?"out of range: ":"not an integer: ")+Re(o));if(!re)return new B(H);for(n=new B(U),v=l=new B(U),m=f=new B(U),L=R(re),p=n.e=L.length-H.e-1,n.c[0]=b[(_=p%g)<0?g+_:_],t=!t||o.comparedTo(n)>0?p>0?n:v:o,_=Q,Q=1/0,o=new B(L),f.c[0]=0;h=D(o,n,0,1),c=l.plus(h.times(m)),c.comparedTo(t)!=1;)l=m,m=c,v=f.plus(h.times(c=v)),f=c,n=o.minus(h.times(c=n)),o=c;return c=D(t.minus(l),m,0,1),f=f.plus(c.times(v)),l=l.plus(c.times(m)),f.s=v.s=H.s,p=p*2,k=D(v,m,p,X).minus(H).abs().comparedTo(D(f,l,p,X).minus(H).abs())<1?[v,m]:[f,l],Q=_,k},T.toNumber=function(){return+Re(this)},T.toPrecision=function(t,n){return t!=null&&j(t,1,E),pe(this,t,n,2)},T.toString=function(t){var n,l=this,m=l.s,c=l.e;return c===null?m?(n="Infinity",m<0&&(n="-"+n)):n="NaN":(t==null?n=c<=fe||c>=ae?G(R(l.c),c):V(R(l.c),c,"0"):t===10&&Ee?(l=be(new B(l),F+c+1,X),n=V(R(l.c),l.e,"0")):(j(t,2,ke.length,"Base"),n=q(V(R(l.c),c,"0"),10,t,m,!0)),m<0&&l.c[0]&&(n="-"+n)),n},T.valueOf=T.toJSON=function(){return Re(this)},T._isBigNumber=!0,N!=null&&B.set(N),B}function C(N){var D=N|0;return N>0||N===D?D:D-1}function R(N){for(var D,q,K=1,T=N.length,U=N[0]+"";K<T;){for(D=N[K++]+"",q=g-D.length;q--;D="0"+D);U+=D}for(T=U.length;U.charCodeAt(--T)===48;);return U.slice(0,T+1||1)}function $(N,D){var q,K,T=N.c,U=D.c,F=N.s,X=D.s,fe=N.e,ae=D.e;if(!F||!X)return null;if(q=T&&!T[0],K=U&&!U[0],q||K)return q?K?0:-X:F;if(F!=X)return F;if(q=F<0,K=fe==ae,!T||!U)return K?0:!T^q?1:-1;if(!K)return fe>ae^q?1:-1;for(X=(fe=T.length)<(ae=U.length)?fe:ae,F=0;F<X;F++)if(T[F]!=U[F])return T[F]>U[F]^q?1:-1;return fe==ae?0:fe>ae^q?1:-1}function j(N,D,q,K){if(N<D||N>q||N!==w(N))throw Error(d+(K||"Argument")+(typeof N=="number"?N<D||N>q?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function J(N){var D=N.c.length-1;return C(N.e/g)==D&&N.c[D]%2!=0}function G(N,D){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(D<0?"e":"e+")+D}function V(N,D,q){var K,T;if(D<0){for(T=q+".";++D;T+=q);N=T+N}else if(K=N.length,++D>K){for(T=q,D-=K;--D;T+=q);N+=T}else D<K&&(N=N.slice(0,D)+"."+N.slice(D));return N}r=S(),r.default=r.BigNumber=r,i.exports?i.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(Vt)})(Pt);var Mt=Pt.exports;(function(i){var e=Mt,r=i.exports;(function(){var s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,w,d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;function x(O){return s.lastIndex=0,s.test(O)?'"'+O.replace(s,function(b){var y=d[b];return typeof y=="string"?y:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+O+'"'}function g(O,b){var y,E,S,C,R=a,$,j=b[O],J=j!=null&&(j instanceof e||e.isBigNumber(j));switch(j&&typeof j=="object"&&typeof j.toJSON=="function"&&(j=j.toJSON(O)),typeof u=="function"&&(j=u.call(b,O,j)),typeof j){case"string":return J?j:x(j);case"number":return isFinite(j)?String(j):"null";case"boolean":case"null":case"bigint":return String(j);case"object":if(!j)return"null";if(a+=w,$=[],Object.prototype.toString.apply(j)==="[object Array]"){for(C=j.length,y=0;y<C;y+=1)$[y]=g(y,j)||"null";return S=$.length===0?"[]":a?`[
`+a+$.join(`,
`+a)+`
`+R+"]":"["+$.join(",")+"]",a=R,S}if(u&&typeof u=="object")for(C=u.length,y=0;y<C;y+=1)typeof u[y]=="string"&&(E=u[y],S=g(E,j),S&&$.push(x(E)+(a?": ":":")+S));else Object.keys(j).forEach(function(G){var V=g(G,j);V&&$.push(x(G)+(a?": ":":")+V)});return S=$.length===0?"{}":a?`{
`+a+$.join(`,
`+a)+`
`+R+"}":"{"+$.join(",")+"}",a=R,S}}typeof r.stringify!="function"&&(r.stringify=function(O,b,y){var E;if(a="",w="",typeof y=="number")for(E=0;E<y;E+=1)w+=" ";else typeof y=="string"&&(w=y);if(u=b,b&&typeof b!="function"&&(typeof b!="object"||typeof b.length!="number"))throw new Error("JSON.stringify");return g("",{"":O})})})()})(Lt);var gs=Lt.exports,pt=null;const vs=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,_s=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var ws=function(i){var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(i!=null){if(i.strict===!0&&(e.strict=!0),i.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=i.alwaysParseAsBig===!0?i.alwaysParseAsBig:!1,e.useNativeBigInt=i.useNativeBigInt===!0?i.useNativeBigInt:!1,typeof i.constructorAction<"u")if(i.constructorAction==="error"||i.constructorAction==="ignore"||i.constructorAction==="preserve")e.constructorAction=i.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${i.constructorAction}`);if(typeof i.protoAction<"u")if(i.protoAction==="error"||i.protoAction==="ignore"||i.protoAction==="preserve")e.protoAction=i.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${i.protoAction}`)}var r,s,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},w,d=function(C){throw{name:"SyntaxError",message:C,at:r,text:w}},u=function(C){return C&&C!==s&&d("Expected '"+C+"' instead of '"+s+"'"),s=w.charAt(r),r+=1,s},x=function(){var C,R="";for(s==="-"&&(R="-",u("-"));s>="0"&&s<="9";)R+=s,u();if(s===".")for(R+=".";u()&&s>="0"&&s<="9";)R+=s;if(s==="e"||s==="E")for(R+=s,u(),(s==="-"||s==="+")&&(R+=s,u());s>="0"&&s<="9";)R+=s,u();if(C=+R,!isFinite(C))d("Bad number");else return pt==null&&(pt=Mt),R.length>15?e.storeAsString?R:e.useNativeBigInt?BigInt(R):new pt(R):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(C):new pt(C):C},g=function(){var C,R,$="",j;if(s==='"')for(var J=r;u();){if(s==='"')return r-1>J&&($+=w.substring(J,r-1)),u(),$;if(s==="\\"){if(r-1>J&&($+=w.substring(J,r-1)),u(),s==="u"){for(j=0,R=0;R<4&&(C=parseInt(u(),16),!!isFinite(C));R+=1)j=j*16+C;$+=String.fromCharCode(j)}else if(typeof a[s]=="string")$+=a[s];else break;J=r}}d("Bad string")},O=function(){for(;s&&s<=" ";)u()},b=function(){switch(s){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}d("Unexpected '"+s+"'")},y,E=function(){var C=[];if(s==="["){if(u("["),O(),s==="]")return u("]"),C;for(;s;){if(C.push(y()),O(),s==="]")return u("]"),C;u(","),O()}}d("Bad array")},S=function(){var C,R=Object.create(null);if(s==="{"){if(u("{"),O(),s==="}")return u("}"),R;for(;s;){if(C=g(),O(),u(":"),e.strict===!0&&Object.hasOwnProperty.call(R,C)&&d('Duplicate key "'+C+'"'),vs.test(C)===!0?e.protoAction==="error"?d("Object contains forbidden prototype property"):e.protoAction==="ignore"?y():R[C]=y():_s.test(C)===!0?e.constructorAction==="error"?d("Object contains forbidden constructor property"):e.constructorAction==="ignore"?y():R[C]=y():R[C]=y(),O(),s==="}")return u("}"),R;u(","),O()}}d("Bad object")};return y=function(){switch(O(),s){case"{":return S();case"[":return E();case'"':return g();case"-":return x();default:return s>="0"&&s<="9"?x():b()}},function(C,R){var $;return w=C+"",r=0,s=" ",$=y(),O(),s&&d("Syntax error"),typeof R=="function"?function j(J,G){var V,N=J[G];return N&&typeof N=="object"&&Object.keys(N).forEach(function(D){V=j(N,D),V!==void 0?N[D]=V:delete N[D]}),R.call(J,G,N)}({"":$},""):$}},ys=ws,Ht=gs.stringify,Ut=ys;kt.exports=function(i){return{parse:Ut(i),stringify:Ht}};kt.exports.parse=Ut();var xs=kt.exports.stringify=Ht;function Bt(i){return Es(i.name,i.description,i.sha256,i.url)}function Es(i,e,r,s){return{R4:nt(rt(lt,it("utf8",i))),R5:nt(rt(lt,it("utf8",e))),R6:nt(rt(lt,it("utf8","0"))),R7:"0e020101",R8:nt(rt(lt,it("hex",r))),R9:nt(rt(lt,it("utf8",s)))}}function bs(i){let e=JSON.parse(JSON.stringify(i));e.value=e.value.toString(),e.assets===void 0&&(e.assets=[]);for(let r=0;r<e.assets.length;r++)e.assets[r].amount=e.assets[r].amount.toString();return e}const ks="011d3364de07e5a26f0c4eef0852cddb387039a921b7154ef3cab22c6eda887f";async function Ft(){let r=(await(await fetch(`https://api.ergoplatform.com/api/v1/boxes/unspent/byTokenId/${ks}`)).json()).items[0];return r=bs(r),r}async function Bs(i,e,r,s,a,w,d){const u=Je.fromBase58(i),x=Je.fromBase58(w),g=1372200,O=10n**18n/d,b=new Date().toISOString().split("T")[0],S=(1/(await Ft()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),C={name:a.name,description:`Erg price: $${S}, date: ${b}, unlock: 2024-10-15`,sha256:a.sha256,url:`ipfs://${a.cid}`},R=new tt(ct,qt).addTokens(s).setAdditionalRegisters({R4:yt(O).toHex(),R5:xt(g).toHex(),R6:Ye(Qe(Ze(u.getPublicKeys()))).toHex(),R7:Ye(Qe(Ze(x.getPublicKeys()))).toHex()}),$=new tt(ct,i).mintToken({amount:"1",name:a.name}).setAdditionalRegisters(Bt(C));return new Et(r).from([...e]).to([R,$]).sendChangeTo(u).payFee(bt*2n).build().toEIP12Object()}async function js(i,e,r,s,a,w){const d=Je.fromBase58(i),u=Je.fromBase58(a),x=1372200,g=10n**18n/w,O=new Date().toISOString().split("T")[0],b=BigInt(s.price*10**9),S=(1/(await Ft()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),C={name:s.name,description:`Erg price: $${S}, date: ${O}, unlock: 2024-10-15`,sha256:s.sha256,url:`ipfs://${s.cid}`},R=new tt(b,Kt).setAdditionalRegisters({R4:yt(g).toHex(),R5:xt(x).toHex(),R6:Ye(Qe(Ze(d.getPublicKeys()))).toHex(),R7:Ye(Qe(Ze(u.getPublicKeys()))).toHex()}),$=new tt(ct,i).mintToken({amount:"1",name:s.name}).setAdditionalRegisters(Bt(C));return new Et(r).from([...e]).to([R,$]).sendChangeTo(d).payFee(bt).build().toEIP12Object()}async function Is(i,e,r,s,a,w,d,u,x,g){const O=Je.fromBase58(i),b=Je.fromBase58(w),y=Je.fromBase58(g);u=r+2;const E={name:"5,000.00 ERG Holdbox",description:`price: ${d/10n**9n} ERG, heigth:${u}, date: ${x},`,sha256:"d2c6d985f2d1203ab3a768aaf91cf66efc701d14c03368adb6d7c4a8064e1d57",url:"https://i.ibb.co/1nh4rfw/5000erg.png"},S=new tt(ct,s).addTokens(a).setAdditionalRegisters({R4:yt(d).toHex(),R5:xt(u).toHex(),R6:Ye(Qe(Ze(O.getPublicKeys()))).toHex(),R7:Ye(Qe(Ze(b.getPublicKeys()))).toHex(),R8:Ye(Qe(Ze(y.getPublicKeys()))).toHex()}),C=new tt(ct,i).mintToken({amount:"1",name:"5,000.00 ERG Holdbox"}).setAdditionalRegisters(Bt(E));return new Et(r).from([...e]).to([S,C]).sendChangeTo(O).payFee(bt*2n).build().toEIP12Object()}function Cs(i){let e;return{c(){e=le(i[0])},l(r){e=ie(r,i[0])},m(r,s){ce(r,e,s)},p(r,s){s&1&&Te(e,r[0])},d(r){r&&z(e)}}}function $s(i){let e=i[1].priceCurrency+"",r;return{c(){r=le(e)},l(s){r=ie(s,e)},m(s,a){ce(s,r,a)},p(s,a){a&2&&e!==(e=s[1].priceCurrency+"")&&Te(r,e)},d(s){s&&z(r)}}}function Ts(i){let e,r,s,a=i[1].price+"",w,d,u,x,g;function O(E,S){return E[2]==ft?$s:Cs}let b=O(i),y=b(i);return{c(){e=P("div"),r=P("button"),s=le("Lock "),w=le(a),d=se(),y.c(),u=se(),this.h()},l(E){e=M(E,"DIV",{class:!0});var S=W(e);r=M(S,"BUTTON",{class:!0,style:!0});var C=W(r);s=ie(C,"Lock "),w=ie(C,a),d=ne(C),y.l(C),C.forEach(z),u=ne(S),S.forEach(z),this.h()},h(){A(r,"class","btn p-4"),Ie(r,"width","230px"),A(e,"class","mt-4 p-4 box w-full flex flex-col items-center justify-center")},m(E,S){ce(E,e,S),I(e,r),I(r,s),I(r,w),I(r,d),y.m(r,null),I(e,u),x||(g=Fe(r,"click",i[3]),x=!0)},p(E,[S]){S&2&&a!==(a=E[1].price+"")&&Te(w,a),b===(b=O(E))&&y?y.p(E,S):(y.d(1),y=b(E),y&&(y.c(),y.m(r,null)))},i:_e,o:_e,d(E){E&&z(e),y.d(),x=!1,g()}}}function Rs(i,e){return i.some(r=>r.tokenId==e.tokenId)?(i.find(r=>r.tokenId==e.tokenId).amount+=e.amount,i):[...i,e]}function Os(i,e,r){let s,a,w,d,u,x,g,O;ve(i,Dt,$=>r(4,s=$)),ve(i,gt,$=>r(10,a=$)),ve(i,qe,$=>r(0,w=$)),ve(i,He,$=>r(1,d=$)),ve(i,Xe,$=>r(11,u=$)),ve(i,et,$=>r(2,x=$)),ve(i,It,$=>r(12,g=$)),ve(i,Ct,$=>r(13,O=$));let b=[];async function y($){var j;if((j=window.ergoConnector[$])!=null&&j.isConnected){const J=await ergo.get_utxos();It.set(JSON.parse(JSON.stringify(J))),Ct.set(J.flatMap(G=>G.assets.map(V=>(V.amount=BigInt(V.amount),V))).reduce(Rs,[])),O.filter(G=>!b.some(V=>V.tokenId==G.tokenId))}}function E(){b=[]}async function S(){var T;if(!s||!((T=window.ergoConnector[s])!=null&&T.isConnected)){at("Connect a wallet.",1500);return}const $=await ergo.get_utxos(),j=BigInt(await ergo.get_balance()),J=$.flatMap(U=>U.assets).reduce((U,F)=>U+(F.tokenId==$t?BigInt(F.amount):0n),0n),G=await ergo.get_change_address(),V=await ergo.get_current_height();let N;if(x==ft){if($.flatMap(F=>F.assets).reduce((F,X)=>F+(X.tokenId==Tt?BigInt(X.amount):0n),0n)<BigInt(d.price)){at("Not enough Erdoge.",1500);return}N=await Is(G,g,V,Wt,[{tokenId:Tt,amount:ot[0].price}],ft,ot[0].targetRateInNanoErg,ot[0].unlockHeight,ot[0].unlockDate,Xt)}else if(w=="ERG"){if(j<BigInt(d.price*10**9)){at("Not enough Erg.",1500);return}N=await js(G,g,V,d,x,u)}else{if(J<BigInt(d.price*10**9)){at("Not enough Tokens.",1500);return}const U={tokenId:$t,amount:d.price*10**9+""};N=await Bs(G,g,V,U,d,x,u)}const D=await ergo.sign_tx(N);console.log(D);const q=await ergo.submit_tx(D);console.log("transactionId:",q),at("Transaction submitted",3e3);const K={treasure:d,currency:w,hodler:G,tx:D,transactionId:q};gt.update(U=>(U.push(K),U)),localStorage.setItem("ergo_bay_unconfirmed_mints",xs(a)),E()}const C=()=>qe.set("hodlERG3"),R=()=>qe.set("ERG");return i.$$.update=()=>{i.$$.dirty&16&&y(s)},[w,d,x,S,s,C,R]}class As extends Ne{constructor(e){super(),ze(this,e,Os,Ts,Ae,{})}}function Ns(i){let e,r,s=`<img src="${Oe}/chest/erdoge/icon.png" alt=""/>`,a,w,d=`<img src="${Oe}/ship.png" alt=""/>`,u,x,g=`<img src="${Oe}/chest/bitmasks/icon.png" alt=""/>`,O,b,y=`<img src="${Oe}/chest/walrus/icon.png" alt="" style="width: 42px;"/>`,E,S;return{c(){e=P("div"),r=P("button"),r.innerHTML=s,a=se(),w=P("button"),w.innerHTML=d,u=se(),x=P("button"),x.innerHTML=g,O=se(),b=P("button"),b.innerHTML=y,this.h()},l(C){e=M(C,"DIV",{class:!0});var R=W(e);r=M(R,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(r)!=="svelte-15nqtn7"&&(r.innerHTML=s),a=ne(R),w=M(R,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(w)!=="svelte-sgcilj"&&(w.innerHTML=d),u=ne(R),x=M(R,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(x)!=="svelte-53ppq3"&&(x.innerHTML=g),O=ne(R),b=M(R,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(b)!=="svelte-1nxvpy6"&&(b.innerHTML=y),R.forEach(z),this.h()},h(){A(r,"class","enlarge border rounded-xl w-12 h-12 svelte-3srkiw"),A(w,"class","enlarge border rounded-xl w-12 h-12 svelte-3srkiw"),A(x,"class","enlarge border rounded-xl w-12 h-12 svelte-3srkiw"),A(b,"class","enlarge border rounded-xl w-12 h-12 svelte-3srkiw"),A(e,"class","fixed flex flex-col left-0 top-0 mt-24 ml-4 gap-2")},m(C,R){ce(C,e,R),I(e,r),I(e,a),I(e,w),I(e,u),I(e,x),I(e,O),I(e,b),E||(S=[Fe(r,"click",i[1]),Fe(w,"click",i[2]),Fe(x,"click",i[3]),Fe(b,"click",i[4])],E=!0)},p:_e,i:_e,o:_e,d(C){C&&z(e),E=!1,vt(S)}}}function zs(i,e,r){let s;ve(i,We,g=>r(5,s=g));function a(g){g=="erdoge"&&(Xe.set(Jt),et.set(ft),We.set(ot),He.set(s[0]),qe.set("Erdoge")),g=="hodlbox"&&(Xe.set(Yt),et.set(Qt),We.set(Zt),He.set(s[0]),qe.set("ERG")),g=="bitmasks"&&(Xe.set(es),et.set(ts),We.set(ss),He.set(s[0]),qe.set("ERG")),g=="walrus"&&(Xe.set(ns),et.set(rs),We.set(ls),He.set(s[0]),qe.set("ERG"))}return[a,()=>a("erdoge"),()=>a("hodlbox"),()=>a("bitmasks"),()=>a("walrus")]}class Ss extends Ne{constructor(e){super(),ze(this,e,zs,Ns,Ae,{})}}function Ds(i){let e,r,s="unlock: 2024-10-15",a,w,d=i[0].name.split(" ")[0]+"",u,x,g,O,b=Number(i[2]/10n**9n).toFixed(2)+"",y,E,S,C,R,$,j,J,G,V,N,D,q,K,T,U,F,X,fe,ae;return{c(){e=P("div"),r=P("div"),r.textContent=s,a=se(),w=P("div"),u=le(d),x=se(),g=P("div"),O=le("$"),y=le(b),E=le("/ERG"),S=se(),C=P("div"),R=P("button"),$=Ge("svg"),j=Ge("path"),V=se(),N=P("img"),q=se(),K=P("button"),T=Ge("svg"),U=Ge("path"),this.h()},l(Y){e=M(Y,"DIV",{class:!0});var Q=W(e);r=M(Q,"DIV",{class:!0,"data-svelte-h":!0}),$e(r)!=="svelte-1whik13"&&(r.textContent=s),a=ne(Q),w=M(Q,"DIV",{class:!0});var ee=W(w);u=ie(ee,d),ee.forEach(z),x=ne(Q),g=M(Q,"DIV",{class:!0});var Z=W(g);O=ie(Z,"$"),y=ie(Z,b),E=ie(Z,"/ERG"),Z.forEach(z),Q.forEach(z),S=ne(Y),C=M(Y,"DIV",{class:!0});var ue=W(C);R=M(ue,"BUTTON",{style:!0});var we=W(R);$=Ve(we,"svg",{xmlns:!0,viewBox:!0});var ke=W($);j=Ve(ke,"path",{fill:!0,d:!0}),W(j).forEach(z),ke.forEach(z),we.forEach(z),V=ne(ue),N=M(ue,"IMG",{src:!0,alt:!0}),q=ne(ue),K=M(ue,"BUTTON",{style:!0});var Ee=W(K);T=Ve(Ee,"svg",{xmlns:!0,viewBox:!0});var B=W(T);U=Ve(B,"path",{fill:!0,d:!0}),W(U).forEach(z),B.forEach(z),Ee.forEach(z),ue.forEach(z),this.h()},h(){A(r,"class","italic text-slate-300"),A(w,"class","text-7xl font-bold text-white"),A(g,"class","text-slate-200"),A(e,"class","flex flex-col items-center"),A(j,"fill",J=i[0].id==0?"#CCC3":"#CCCD"),A(j,"d","M3 12l18-12v24z"),A($,"xmlns","http://www.w3.org/2000/svg"),A($,"viewBox","0 0 24 24"),R.disabled=G=i[0].id==0,Ie(R,"width","100px"),Ie(R,"height","100px"),Ke(N.src,D=Oe+"/"+i[0].img)||A(N,"src",D),A(N,"alt",""),A(U,"fill",F=i[0].id==i[1].length-1?"#CCC3":"#CCCD"),A(U,"d","M21 12l-18 12v-24z"),A(T,"xmlns","http://www.w3.org/2000/svg"),A(T,"viewBox","0 0 24 24"),K.disabled=X=i[0].id==i[1].length-1,Ie(K,"width","100px"),Ie(K,"height","100px"),A(C,"class","flex items-center gap-4")},m(Y,Q){ce(Y,e,Q),I(e,r),I(e,a),I(e,w),I(w,u),I(e,x),I(e,g),I(g,O),I(g,y),I(g,E),ce(Y,S,Q),ce(Y,C,Q),I(C,R),I(R,$),I($,j),I(C,V),I(C,N),I(C,q),I(C,K),I(K,T),I(T,U),fe||(ae=[Fe(R,"click",i[3]),Fe(K,"click",i[4])],fe=!0)},p(Y,[Q]){Q&1&&d!==(d=Y[0].name.split(" ")[0]+"")&&Te(u,d),Q&4&&b!==(b=Number(Y[2]/10n**9n).toFixed(2)+"")&&Te(y,b),Q&1&&J!==(J=Y[0].id==0?"#CCC3":"#CCCD")&&A(j,"fill",J),Q&1&&G!==(G=Y[0].id==0)&&(R.disabled=G),Q&1&&!Ke(N.src,D=Oe+"/"+Y[0].img)&&A(N,"src",D),Q&3&&F!==(F=Y[0].id==Y[1].length-1?"#CCC3":"#CCCD")&&A(U,"fill",F),Q&3&&X!==(X=Y[0].id==Y[1].length-1)&&(K.disabled=X)},i:_e,o:_e,d(Y){Y&&(z(e),z(S),z(C)),fe=!1,vt(ae)}}}function Ls(i,e,r){let s,a,w;ve(i,He,x=>r(0,s=x)),ve(i,We,x=>r(1,a=x)),ve(i,Xe,x=>r(2,w=x));function d(){s.id>0&&He.set(a[s.id-1])}function u(){s.id<a.length-1&&He.set(a[s.id+1])}return[s,a,w,d,u]}class Ps extends Ne{constructor(e){super(),ze(this,e,Ls,Ds,Ae,{})}}function Ms(i){let e,r,s,a=i[0].unlockDate+"",w,d,u,x=i[0].name.split(" ")[0]+"",g,O,b,y,E=i[0].unlockRate+"",S,C,R,$,j,J,G,V,N,D,q,K,T,U,F,X,fe,ae,Y,Q;return{c(){e=P("div"),r=P("div"),s=le("unlock: "),w=le(a),d=se(),u=P("div"),g=le(x),O=le(" ERG"),b=se(),y=P("div"),S=le(E),C=le(" (100x)"),R=se(),$=P("div"),j=P("button"),J=Ge("svg"),G=Ge("path"),D=se(),q=P("img"),T=se(),U=P("button"),F=Ge("svg"),X=Ge("path"),this.h()},l(ee){e=M(ee,"DIV",{class:!0});var Z=W(e);r=M(Z,"DIV",{class:!0});var ue=W(r);s=ie(ue,"unlock: "),w=ie(ue,a),ue.forEach(z),d=ne(Z),u=M(Z,"DIV",{class:!0});var we=W(u);g=ie(we,x),O=ie(we," ERG"),we.forEach(z),b=ne(Z),y=M(Z,"DIV",{class:!0});var ke=W(y);S=ie(ke,E),C=ie(ke," (100x)"),ke.forEach(z),Z.forEach(z),R=ne(ee),$=M(ee,"DIV",{class:!0});var Ee=W($);j=M(Ee,"BUTTON",{style:!0});var B=W(j);J=Ve(B,"svg",{xmlns:!0,viewBox:!0});var pe=W(J);G=Ve(pe,"path",{fill:!0,d:!0}),W(G).forEach(z),pe.forEach(z),B.forEach(z),D=ne(Ee),q=M(Ee,"IMG",{src:!0,alt:!0,style:!0}),T=ne(Ee),U=M(Ee,"BUTTON",{style:!0});var Be=W(U);F=Ve(Be,"svg",{xmlns:!0,viewBox:!0});var me=W(F);X=Ve(me,"path",{fill:!0,d:!0}),W(X).forEach(z),me.forEach(z),Be.forEach(z),Ee.forEach(z),this.h()},h(){A(r,"class","italic text-slate-300"),A(u,"class","text-7xl font-bold text-white"),A(y,"class","text-slate-200"),A(e,"class","flex flex-col items-center"),A(G,"fill",V=i[0].id==0?"#CCC3":"#CCCD"),A(G,"d","M3 12l18-12v24z"),A(J,"xmlns","http://www.w3.org/2000/svg"),A(J,"viewBox","0 0 24 24"),j.disabled=N=i[0].id==0,Ie(j,"width","100px"),Ie(j,"height","100px"),Ke(q.src,K=Oe+"/"+i[0].img)||A(q,"src",K),A(q,"alt",""),Ie(q,"max-width","400px"),A(X,"fill",fe=i[0].id==i[1].length-1?"#CCC3":"#CCCD"),A(X,"d","M21 12l-18 12v-24z"),A(F,"xmlns","http://www.w3.org/2000/svg"),A(F,"viewBox","0 0 24 24"),U.disabled=ae=i[0].id==i[1].length-1,Ie(U,"width","100px"),Ie(U,"height","100px"),A($,"class","flex items-center gap-4")},m(ee,Z){ce(ee,e,Z),I(e,r),I(r,s),I(r,w),I(e,d),I(e,u),I(u,g),I(u,O),I(e,b),I(e,y),I(y,S),I(y,C),ce(ee,R,Z),ce(ee,$,Z),I($,j),I(j,J),I(J,G),I($,D),I($,q),I($,T),I($,U),I(U,F),I(F,X),Y||(Q=[Fe(j,"click",i[2]),Fe(U,"click",i[3])],Y=!0)},p(ee,[Z]){Z&1&&a!==(a=ee[0].unlockDate+"")&&Te(w,a),Z&1&&x!==(x=ee[0].name.split(" ")[0]+"")&&Te(g,x),Z&1&&E!==(E=ee[0].unlockRate+"")&&Te(S,E),Z&1&&V!==(V=ee[0].id==0?"#CCC3":"#CCCD")&&A(G,"fill",V),Z&1&&N!==(N=ee[0].id==0)&&(j.disabled=N),Z&1&&!Ke(q.src,K=Oe+"/"+ee[0].img)&&A(q,"src",K),Z&3&&fe!==(fe=ee[0].id==ee[1].length-1?"#CCC3":"#CCCD")&&A(X,"fill",fe),Z&3&&ae!==(ae=ee[0].id==ee[1].length-1)&&(U.disabled=ae)},i:_e,o:_e,d(ee){ee&&(z(e),z(R),z($)),Y=!1,vt(Q)}}}function Hs(i,e,r){let s,a;ve(i,He,u=>r(0,s=u)),ve(i,We,u=>r(1,a=u));function w(){s.id>0&&He.set(a[s.id-1])}function d(){s.id<a.length-1&&He.set(a[s.id+1])}return[s,a,w,d]}class Us extends Ne{constructor(e){super(),ze(this,e,Hs,Ms,Ae,{})}}function Fs(i){let e,r;return e=new Ps({}),{c(){De(e.$$.fragment)},l(s){Le(e.$$.fragment,s)},m(s,a){Pe(e,s,a),r=!0},i(s){r||(ge(e.$$.fragment,s),r=!0)},o(s){xe(e.$$.fragment,s),r=!1},d(s){Me(e,s)}}}function Gs(i){let e,r;return e=new Us({}),{c(){De(e.$$.fragment)},l(s){Le(e.$$.fragment,s)},m(s,a){Pe(e,s,a),r=!0},i(s){r||(ge(e.$$.fragment,s),r=!0)},o(s){xe(e.$$.fragment,s),r=!1},d(s){Me(e,s)}}}function Vs(i){let e,r,s,a,w,d,u,x;r=new Ss({});const g=[Gs,Fs],O=[];function b(y,E){return y[0]==ft?0:1}return a=b(i),w=O[a]=g[a](i),u=new As({}),{c(){e=P("div"),De(r.$$.fragment),s=se(),w.c(),d=se(),De(u.$$.fragment),this.h()},l(y){e=M(y,"DIV",{class:!0,style:!0});var E=W(e);Le(r.$$.fragment,E),s=ne(E),w.l(E),d=ne(E),Le(u.$$.fragment,E),E.forEach(z),this.h()},h(){A(e,"class","bg-main grow flex flex-col justify-center items-center gap-5 svelte-8fe8c3"),Ie(e,"padding-top","80px")},m(y,E){ce(y,e,E),Pe(r,e,null),I(e,s),O[a].m(e,null),I(e,d),Pe(u,e,null),x=!0},p(y,[E]){let S=a;a=b(y),a!==S&&(_t(),xe(O[S],1,1,()=>{O[S]=null}),wt(),w=O[a],w||(w=O[a]=g[a](y),w.c()),ge(w,1),w.m(e,d))},i(y){x||(ge(r.$$.fragment,y),ge(w),ge(u.$$.fragment,y),x=!0)},o(y){xe(r.$$.fragment,y),xe(w),xe(u.$$.fragment,y),x=!1},d(y){y&&z(e),Me(r),O[a].d(),Me(u)}}}function qs(i,e,r){let s;return ve(i,et,a=>r(0,s=a)),[s]}class Ks extends Ne{constructor(e){super(),ze(this,e,qs,Vs,Ae,{})}}function Ws(i){let e,r,s,a,w,d=i[0].treasure.name+"",u,x,g,O,b=i[0].hodler.substr(0,3)+"",y,E,S=i[0].hodler.substr(i[0].hodler.length-3,i[0].hodler.length-1)+"",C,R;return{c(){e=P("div"),r=P("img"),a=se(),w=P("div"),u=le(d),x=se(),g=P("div"),O=P("a"),y=le(b),E=le("..."),C=le(S),this.h()},l($){e=M($,"DIV",{class:!0});var j=W(e);r=M(j,"IMG",{src:!0,alt:!0,style:!0}),a=ne(j),w=M(j,"DIV",{class:!0});var J=W(w);u=ie(J,d),J.forEach(z),x=ne(j),g=M(j,"DIV",{class:!0});var G=W(g);O=M(G,"A",{href:!0});var V=W(O);y=ie(V,b),E=ie(V,"..."),C=ie(V,S),V.forEach(z),G.forEach(z),j.forEach(z),this.h()},h(){Ke(r.src,s=Oe+"/"+i[0].treasure.img)||A(r,"src",s),A(r,"alt",""),Ie(r,"width","200px"),Ie(r,"height","auto"),A(w,"class","flex gap-2"),A(O,"href",R="https://explorer.ergoplatform.com/en/addresses/"+i[0].hodler),A(g,"class","text-slate-500"),A(e,"class","p-4 flex flex-col justify-center items-center")},m($,j){ce($,e,j),I(e,r),I(e,a),I(e,w),I(w,u),I(e,x),I(e,g),I(g,O),I(O,y),I(O,E),I(O,C)},p($,[j]){j&1&&!Ke(r.src,s=Oe+"/"+$[0].treasure.img)&&A(r,"src",s),j&1&&d!==(d=$[0].treasure.name+"")&&Te(u,d),j&1&&b!==(b=$[0].hodler.substr(0,3)+"")&&Te(y,b),j&1&&S!==(S=$[0].hodler.substr($[0].hodler.length-3,$[0].hodler.length-1)+"")&&Te(C,S),j&1&&R!==(R="https://explorer.ergoplatform.com/en/addresses/"+$[0].hodler)&&A(O,"href",R)},i:_e,o:_e,d($){$&&z(e)}}}function Xs(i,e,r){ve(i,Dt,a=>r(1,a));let{offer:s}=e;return i.$$set=a=>{"offer"in a&&r(0,s=a.offer)},[s]}class Js extends Ne{constructor(e){super(),ze(this,e,Xs,Ws,Ae,{offer:0})}}function Rt(i,e,r){const s=i.slice();return s[1]=e[r],s}function Ot(i){let e,r;return e=new Js({props:{offer:i[1]}}),{c(){De(e.$$.fragment)},l(s){Le(e.$$.fragment,s)},m(s,a){Pe(e,s,a),r=!0},p(s,a){const w={};a&1&&(w.offer=s[1]),e.$set(w)},i(s){r||(ge(e.$$.fragment,s),r=!0)},o(s){xe(e.$$.fragment,s),r=!1},d(s){Me(e,s)}}}function Ys(i){let e,r="Locked Boxes",s,a,w,d,u,x=ht(i[0].filter(At)),g=[];for(let b=0;b<x.length;b+=1)g[b]=Ot(Rt(i,x,b));const O=b=>xe(g[b],1,1,()=>{g[b]=null});return{c(){e=P("h2"),e.textContent=r,s=se(),a=P("div");for(let b=0;b<g.length;b+=1)g[b].c();w=se(),d=P("div"),this.h()},l(b){e=M(b,"H2",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-3iv0hq"&&(e.textContent=r),s=ne(b),a=M(b,"DIV",{class:!0});var y=W(a);for(let E=0;E<g.length;E+=1)g[E].l(y);y.forEach(z),w=ne(b),d=M(b,"DIV",{class:!0}),W(d).forEach(z),this.h()},h(){A(e,"class","text-4xl"),A(a,"class","w-full justify-center flex flex-wrap"),A(d,"class","mb-10")},m(b,y){ce(b,e,y),ce(b,s,y),ce(b,a,y);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(a,null);ce(b,w,y),ce(b,d,y),u=!0},p(b,[y]){if(y&1){x=ht(b[0].filter(At));let E;for(E=0;E<x.length;E+=1){const S=Rt(b,x,E);g[E]?(g[E].p(S,y),ge(g[E],1)):(g[E]=Ot(S),g[E].c(),ge(g[E],1),g[E].m(a,null))}for(_t(),E=x.length;E<g.length;E+=1)O(E);wt()}},i(b){if(!u){for(let y=0;y<x.length;y+=1)ge(g[y]);u=!0}},o(b){g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)xe(g[y]);u=!1},d(b){b&&(z(e),z(s),z(a),z(w),z(d)),St(g,b)}}}const At=i=>i.currency;function Qs(i,e,r){let s;return ve(i,is,a=>r(0,s=a)),[s]}class Zs extends Ne{constructor(e){super(),ze(this,e,Qs,Ys,Ae,{})}}function en(i){let e,r,s,a,w,d,u="minting...",x,g,O,b;return{c(){e=P("div"),r=P("img"),a=se(),w=P("div"),d=P("div"),d.textContent=u,x=se(),g=P("a"),O=le("transactionID"),this.h()},l(y){e=M(y,"DIV",{class:!0});var E=W(e);r=M(E,"IMG",{src:!0,alt:!0,style:!0,class:!0}),a=ne(E),w=M(E,"DIV",{class:!0});var S=W(w);d=M(S,"DIV",{"data-svelte-h":!0}),$e(d)!=="svelte-15f54we"&&(d.textContent=u),x=ne(S),g=M(S,"A",{target:!0,href:!0,class:!0});var C=W(g);O=ie(C,"transactionID"),C.forEach(z),S.forEach(z),E.forEach(z),this.h()},h(){Ke(r.src,s=""+(Oe+i[0].treasure.img))||A(r,"src",s),A(r,"alt",""),Ie(r,"width","200px"),A(r,"class","blink svelte-1bdfw08"),A(g,"target","_blank"),A(g,"href",b="https://explorer.ergoplatform.com/en/transactions/"+i[0].transactionId),A(g,"class","underline"),A(w,"class",""),A(e,"class","p-4 flex flex-col items-center")},m(y,E){ce(y,e,E),I(e,r),I(e,a),I(e,w),I(w,d),I(w,x),I(w,g),I(g,O)},p(y,[E]){E&1&&!Ke(r.src,s=""+(Oe+y[0].treasure.img))&&A(r,"src",s),E&1&&b!==(b="https://explorer.ergoplatform.com/en/transactions/"+y[0].transactionId)&&A(g,"href",b)},i:_e,o:_e,d(y){y&&z(e)}}}function tn(i,e,r){let{mint:s}=e;return i.$$set=a=>{"mint"in a&&r(0,s=a.mint)},[s]}class sn extends Ne{constructor(e){super(),ze(this,e,tn,en,Ae,{mint:0})}}function Nt(i,e,r){const s=i.slice();return s[1]=e[r],s}function zt(i){let e,r;return e=new sn({props:{mint:i[1]}}),{c(){De(e.$$.fragment)},l(s){Le(e.$$.fragment,s)},m(s,a){Pe(e,s,a),r=!0},p(s,a){const w={};a&1&&(w.mint=s[1]),e.$set(w)},i(s){r||(ge(e.$$.fragment,s),r=!0)},o(s){xe(e.$$.fragment,s),r=!1},d(s){Me(e,s)}}}function nn(i){let e,r,s=ht(i[0]),a=[];for(let d=0;d<s.length;d+=1)a[d]=zt(Nt(i,s,d));const w=d=>xe(a[d],1,1,()=>{a[d]=null});return{c(){for(let d=0;d<a.length;d+=1)a[d].c();e=jt()},l(d){for(let u=0;u<a.length;u+=1)a[u].l(d);e=jt()},m(d,u){for(let x=0;x<a.length;x+=1)a[x]&&a[x].m(d,u);ce(d,e,u),r=!0},p(d,[u]){if(u&1){s=ht(d[0]);let x;for(x=0;x<s.length;x+=1){const g=Nt(d,s,x);a[x]?(a[x].p(g,u),ge(a[x],1)):(a[x]=zt(g),a[x].c(),ge(a[x],1),a[x].m(e.parentNode,e))}for(_t(),x=s.length;x<a.length;x+=1)w(x);wt()}},i(d){if(!r){for(let u=0;u<s.length;u+=1)ge(a[u]);r=!0}},o(d){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)xe(a[u]);r=!1},d(d){d&&z(e),St(a,d)}}}function rn(i,e,r){let s;return ve(i,gt,a=>r(0,s=a)),[s]}class ln extends Ne{constructor(e){super(),ze(this,e,rn,nn,Ae,{})}}function an(i){let e,r,s,a,w;return r=new ln({}),a=new Zs({}),{c(){e=P("div"),De(r.$$.fragment),s=se(),De(a.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0,style:!0});var u=W(e);Le(r.$$.fragment,u),s=ne(u),Le(a.$$.fragment,u),u.forEach(z),this.h()},h(){A(e,"class","bg-main grow flex flex-col items-center gap-5 svelte-zuomog"),Ie(e,"padding-top","80px")},m(d,u){ce(d,e,u),Pe(r,e,null),I(e,s),Pe(a,e,null),w=!0},p:_e,i(d){w||(ge(r.$$.fragment,d),ge(a.$$.fragment,d),w=!0)},o(d){xe(r.$$.fragment,d),xe(a.$$.fragment,d),w=!1},d(d){d&&z(e),Me(r),Me(a)}}}class on extends Ne{constructor(e){super(),ze(this,e,null,an,Ae,{})}}function cn(i){let e,r,s,a,w,d;return e=new Ks({}),s=new ms({}),w=new on({}),{c(){De(e.$$.fragment),r=se(),De(s.$$.fragment),a=se(),De(w.$$.fragment)},l(u){Le(e.$$.fragment,u),r=ne(u),Le(s.$$.fragment,u),a=ne(u),Le(w.$$.fragment,u)},m(u,x){Pe(e,u,x),ce(u,r,x),Pe(s,u,x),ce(u,a,x),Pe(w,u,x),d=!0},i(u){d||(ge(e.$$.fragment,u),ge(s.$$.fragment,u),ge(w.$$.fragment,u),d=!0)},o(u){xe(e.$$.fragment,u),xe(s.$$.fragment,u),xe(w.$$.fragment,u),d=!1},d(u){u&&(z(r),z(a)),Me(e,u),Me(s,u),Me(w,u)}}}function fn(i){let e,r=`<img class="unselectable" src="${Oe}/ship.png" style="width:250px;" alt=""/> <div class="font-mono mt-4">loading...</div>`;return{c(){e=P("div"),e.innerHTML=r,this.h()},l(s){e=M(s,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-uduyns"&&(e.innerHTML=r),this.h()},h(){A(e,"class","grow flex flex-col items-center justify-center")},m(s,a){ce(s,e,a)},i:_e,o:_e,d(s){s&&z(e)}}}function un(i){let e,r,s,a;const w=[fn,cn],d=[];function u(x,g){return 1}return r=u(),s=d[r]=w[r](i),{c(){e=P("div"),s.c(),this.h()},l(x){e=M(x,"DIV",{class:!0});var g=W(e);s.l(g),g.forEach(z),this.h()},h(){A(e,"class","h-full flex flex-col grow main-page svelte-12hevi9")},m(x,g){ce(x,e,g),d[r].m(e,null),a=!0},p:_e,i(x){a||(ge(s),a=!0)},o(x){xe(s),a=!1},d(x){x&&z(e),d[r].d()}}}function pn(i){Gt(e);function e(){as(),os()}return[]}class vn extends Ne{constructor(e){super(),ze(this,e,pn,un,Ae,{})}}export{vn as component};
