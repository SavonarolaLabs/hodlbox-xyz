import{s as Y,n as V,j as M,r as Me,l as he,o as ct}from"../chunks/scheduler.71af12de.js";import{S as Q,i as Z,g as h,h as b,A as K,k as g,l as O,a as L,f,s as I,m as D,r as ne,j as F,c as T,n as S,u as oe,y as p,v as le,o as te,d as N,t as U,w as ae,E as pe,x as fe,F as Te,G as Be,p as Ze,b as et,H as tt,e as je}from"../chunks/index.e9246ef9.js";import{c as Re,t as Ee,S as we,f as ke,g as Fe,h as xe,E as Se,O as Le,i as Ae,C as pt,j as nt,k as ot,l as Oe,m as He,p as Pe,T as lt,R as at,q as dt,s as st,r as Ne,v as ye,a as Ge,x as Ke,y as We,z as Ce,A as qe,B as De,D as mt,H as gt,F as ft,G as vt,I as ut,J as yt,e as Ve,b as ht,K as bt,L as _t}from"../chunks/notifier.86a1f490.js";function wt(l){let e,t='<ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> hodlTargetRate <span style="color: #000080;">:</span> Long     <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R4</span><span style="color: #F78811;">[</span>Long<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> maxHeight <span style="color: #000080;">:</span> Int           <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R5</span><span style="color: #F78811;">[</span>Int<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> hodlerPK <span style="color: #000080;">:</span> SigmaProp      <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R6</span><span style="color: #F78811;">[</span>SigmaProp<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> uiFeePK <span style="color: #000080;">:</span> SigmaProp       <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">R7</span><span style="color: #F78811;">[</span>SigmaProp<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> totalLockedNanoErg <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> SELF.<span style="color: #000000;">value</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> fees<span style="color: #000080;">:</span> Coll<span style="color: #F78811;">[</span><span style="color: #F78811;">(</span>SigmaProp, BigInt<span style="color: #F78811;">)</span><span style="color: #F78811;">]</span> <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> feeDenom <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> 100000L</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> devFee   <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> 500L         <span style="color: #008000; font-style: italic;">// 0.5%</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> uiFee    <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> 500L         <span style="color: #008000; font-style: italic;">// 0.5%</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            Coll<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                 <span style="color: #F78811;">(</span><span style="color: #000080;">_</span>contractDevPK, <span style="color: #F78811;">(</span>devFee.<span style="color: #000000;">toBigInt</span> <span style="color: #000080;">*</span> totalLockedNanoErg.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span> / feeDenom.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span>,</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                 <span style="color: #F78811;">(</span>uiFeePK, <span style="color: #F78811;">(</span>uiFee.<span style="color: #000000;">toBigInt</span> <span style="color: #000080;">*</span> totalLockedNanoErg.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span> / feeDenom.<span style="color: #000000;">toBigInt</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> feesPaid <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> devFeesPaid<span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">if</span><span style="color: #F78811;">(</span>fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2 <span style="color: #000080;">&gt;</span> <span style="color: #F78811;">0</span><span style="color: #F78811;">)</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">val</span> devOutput <span style="color: #000080;">:</span> Box   <span style="color: #000080;">=</span> OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                allOf<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    Coll<span style="color: #F78811;">(</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        devOutput.<span style="color: #000000;">propositionBytes</span>   <span style="color: #000080;">==</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>1.<span style="color: #000000;">propBytes</span>,</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        devOutput.<span style="color: #000000;">value</span>.<span style="color: #000000;">toBigInt</span>     <span style="color: #000080;">&gt;=</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span><span style="color: #0000ff; font-weight: bold;">else</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">true</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">val</span> uiFeesPaid <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">if</span><span style="color: #F78811;">(</span>fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2 <span style="color: #000080;">&gt;</span> <span style="color: #F78811;">0</span><span style="color: #F78811;">)</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">val</span> uiOutput <span style="color: #000080;">:</span> Box    <span style="color: #000080;">=</span> OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">2</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                allOf<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    Coll<span style="color: #F78811;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        uiOutput.<span style="color: #000000;">propositionBytes</span>   <span style="color: #000080;">==</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>1.<span style="color: #000000;">propBytes</span>,</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        uiOutput.<span style="color: #000000;">value</span>.<span style="color: #000000;">toBigInt</span>     <span style="color: #000080;">&gt;=</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span><span style="color: #0000ff; font-weight: bold;">else</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #0000ff; font-weight: bold;">true</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        devFeesPaid <span style="color: #000080;">&amp;&amp;</span> uiFeesPaid</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> feesTotal <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> fees<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2 + fees<span style="color: #F78811;">(</span><span style="color: #F78811;">1</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>2</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> repaymentNanoErg <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> totalLockedNanoErg - feesTotal</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> fundsReturned <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000000;">propositionBytes</span> <span style="color: #000080;">==</span> hodlerPK.<span style="color: #000000;">propBytes</span> <span style="color: #000080;">&amp;&amp;</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000000;">value</span> <span style="color: #000080;">&gt;=</span> repaymentNanoErg <span style="color: #000080;">&amp;&amp;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        OUTPUTS<span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000000;">R4</span><span style="color: #F78811;">[</span>Coll<span style="color: #F78811;">[</span>Byte<span style="color: #F78811;">]</span><span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span> <span style="color: #000080;">==</span> SELF.<span style="color: #000000;">id</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> maxHeightReached <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        maxHeight <span style="color: #000080;">&lt;=</span> HEIGHT</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">val</span> priceTargetReached <span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000ff; font-weight: bold;">if</span> <span style="color: #F78811;">(</span>CONTEXT.<span style="color: #000000;">dataInputs</span>.<span style="color: #000000;">size</span> <span style="color: #000080;">&gt;</span> <span style="color: #F78811;">0</span><span style="color: #F78811;">)</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #008000; font-style: italic;">// validate Oracle box</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> oracleBox <span style="color: #000080;">:</span> Box <span style="color: #000080;">=</span> CONTEXT.<span style="color: #000000;">dataInputs</span><span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> currentRate <span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> oracleBox.<span style="color: #000000;">R4</span><span style="color: #F78811;">[</span>Long<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> oracleHeight<span style="color: #000080;">:</span> Long <span style="color: #000080;">=</span> oracleBox.<span style="color: #000000;">R5</span><span style="color: #F78811;">[</span>Int<span style="color: #F78811;">]</span>.<span style="color: #000000;">get</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> validDataInput<span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> HEIGHT <span style="color: #000080;">&lt;=</span> oracleHeight + <span style="color: #F78811;">30</span> <span style="color: #000080;">&amp;&amp;</span> oracleBox.<span style="color: #000000;">tokens</span><span style="color: #F78811;">(</span><span style="color: #F78811;">0</span><span style="color: #F78811;">)</span>.<span style="color: #000080;">_</span>1 <span style="color: #000080;">==</span> <span style="color: #000080;">_</span>oraclePoolNFT</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #008000; font-style: italic;">// check if the price reached target</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">val</span> targetPriceReached<span style="color: #000080;">:</span> Boolean <span style="color: #000080;">=</span> currentRate <span style="color: #000080;">&lt;=</span> hodlTargetRate</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            validDataInput <span style="color: #000080;">&amp;&amp;</span> targetPriceReached</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span> <span style="color: #0000ff; font-weight: bold;">else</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #0000ff; font-weight: bold;">false</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #F78811;">}</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #0000ff; font-weight: bold;">if</span><span style="color: #F78811;">(</span>priceTargetReached || maxHeightReached<span style="color: #F78811;">)</span><span style="color: #F78811;">{</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        sigmaProp<span style="color: #F78811;">(</span>fundsReturned <span style="color: #000080;">&amp;&amp;</span> feesPaid<span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span> <span style="color: #0000ff; font-weight: bold;">else</span> <span style="color: #F78811;">{</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        sigmaProp<span style="color: #F78811;">(</span><span style="color: #0000ff; font-weight: bold;">false</span><span style="color: #F78811;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #F78811;">}</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #F78811;">}</span></div></li></ol>';return{c(){e=h("pre"),e.innerHTML=t,this.h()},l(n){e=b(n,"PRE",{class:!0,style:!0,"data-svelte-h":!0}),K(e)!=="svelte-1xe7lft"&&(e.innerHTML=t),this.h()},h(){g(e,"class","scala"),O(e,"font-family","monospace"),O(e,"background","white"),O(e,"color","black"),O(e,"width","100%"),O(e,"padding-top","1em"),O(e,"padding-bottom","1em")},m(n,o){L(n,e,o)},p:V,i:V,o:V,d(n){n&&f(e)}}}class kt extends Q{constructor(e){super(),Z(this,e,null,wt,Y,{})}}function Ft(l){let e,t="smart contract.";return{c(){e=h("a"),e.textContent=t,this.h()},l(n){e=b(n,"A",{href:!0,"data-svelte-h":!0}),K(e)!=="svelte-maej2"&&(e.textContent=t),this.h()},h(){g(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl_hodlerg3.ts")},m(n,o){L(n,e,o)},d(n){n&&f(e)}}}function xt(l){let e,t="smart contract.";return{c(){e=h("a"),e.textContent=t,this.h()},l(n){e=b(n,"A",{href:!0,"data-svelte-h":!0}),K(e)!=="svelte-50pk7c"&&(e.textContent=t),this.h()},h(){g(e,"href","https://github.com/SavonarolaLabs/hodlbox-xyz/blob/main/src/lib/contract/hodl.ts")},m(n,o){L(n,e,o)},d(n){n&&f(e)}}}function Et(l){let e,t,n,o="How does it work?",c,a,s,r,i,u,d,y,m=l[1]/10n**9n+"",x,_,$,v,k="3. Unlocked coins can only be sent to your wallet.",E,w,B,R=l[1]/10n**9n+"",X,se,G,W,P,j,de=`<img src="hodl.jpeg" alt="" class="mt-10"/> <div class="text-4xl mt-20 mb-10 self-end"><a href="https://ergoplatform.org/en/news/ErgoHack-7-The-Future-of-Finance-and-the-Path-to-Adoption/">ERGOHACKVII</a>
				letter</div> <div class="bg-white p-16 self-end paper text-black italic shadow-md">Dear Hackathon Committee,<br/><br/>

				We are excited to present our ErgoHack project, HodlBox. This dApp is designed to encourage
				long-term investment in the Ergo ecosystem. Our project addresses a common challenge in
				crypto: holding onto your coins over an extended period of time and not selling the bottom.
				To combat this, we&#39;ve devised a non-custodial vault that allows users to stash their ERG
				until a specific time or price point is reached on Spectrum DEX. When a user purchases a
				Hodl Box, they will also receive a commemorative NFT as a token of their commitment. The
				NFTs become increasingly awesome with larger sums, adding a fun way for users to flex on
				social media.<br/><br/>

				Our project is open-source, welcoming UI competition and abiding by Ergo’s open source
				ethos. It&#39;s designed to be user-friendly, allowing users to mint in just two clicks.The Hodl
				Box system is secure and risk-free. Only the person who locked the box can unlock it, either
				when a certain price point is reached or after the established time period. The NFTs serve
				as a fun reward and Proof of Hodl, but they are not connected to the redemption process,
				eliminating the risk of losing access to your Hodl Box.<br/><br/>

				We&#39;ve implemented a small fee structure (0.5% contract, 0.5% UI) to support the project&#39;s
				sustainability. Importantly, the developers hold as well, with fees only paid after the hodl
				period, aligning the incentives of the ecosystem, users, and developers.<br/><br/>

				In conclusion, our project offers a perfect financial tool for the coming bull market,
				encouraging long-term investment and increasing the TVL in the Ergo ecosystem. We look
				forward to sharing our website and contract with you soon.<br/><br/>

				Best Regards,<br/><br/>

				TMR.ERG, c8, savonarola</div>`,me,ie,C,H="Smart Contract",ve,re,q,ee;function be(A,ce){return A[0]=="ERG"?xt:Ft}let ge=be(l),J=ge(l);return q=new kt({}),{c(){e=h("div"),t=h("div"),n=h("div"),n.textContent=o,c=I(),a=h("div"),s=D("1. Your "),r=D(l[0]),i=D(` is locked on Ergo Blockchain behind a
			`),J.c(),u=I(),d=h("div"),y=D("2. As soon as Ergo pumps to $"),x=D(m),_=D("/ERG your coins unlock.*"),$=I(),v=h("div"),v.textContent=k,E=I(),w=h("div"),B=D("*If $"),X=D(R),se=D("/ERG is not reached, your "),G=D(l[0]),W=D(" unlocks on 2024-10-15."),P=I(),j=h("div"),j.innerHTML=de,me=I(),ie=h("div"),C=h("div"),C.textContent=H,ve=I(),re=h("div"),ne(q.$$.fragment),this.h()},l(A){e=b(A,"DIV",{class:!0});var ce=F(e);t=b(ce,"DIV",{class:!0});var z=F(t);n=b(z,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-jy3xgb"&&(n.textContent=o),c=T(z),a=b(z,"DIV",{});var _e=F(a);s=S(_e,"1. Your "),r=S(_e,l[0]),i=S(_e,` is locked on Ergo Blockchain behind a
			`),J.l(_e),_e.forEach(f),u=T(z),d=b(z,"DIV",{});var $e=F(d);y=S($e,"2. As soon as Ergo pumps to $"),x=S($e,m),_=S($e,"/ERG your coins unlock.*"),$e.forEach(f),$=T(z),v=b(z,"DIV",{"data-svelte-h":!0}),K(v)!=="svelte-175k4k4"&&(v.textContent=k),E=T(z),w=b(z,"DIV",{class:!0});var ue=F(w);B=S(ue,"*If $"),X=S(ue,R),se=S(ue,"/ERG is not reached, your "),G=S(ue,l[0]),W=S(ue," unlocks on 2024-10-15."),ue.forEach(f),P=T(z),j=b(z,"DIV",{style:!0,"data-svelte-h":!0}),K(j)!=="svelte-1xzq9zw"&&(j.innerHTML=de),me=T(z),ie=b(z,"DIV",{});var Ie=F(ie);C=b(Ie,"DIV",{class:!0,"data-svelte-h":!0}),K(C)!=="svelte-14ksf12"&&(C.textContent=H),ve=T(Ie),re=b(Ie,"DIV",{});var Ue=F(re);oe(q.$$.fragment,Ue),Ue.forEach(f),Ie.forEach(f),z.forEach(f),ce.forEach(f),this.h()},h(){g(n,"class","text-4xl mt-10 mb-5"),g(w,"class","text-sm"),O(j,"max-width","700px"),g(C,"class","text-4xl mt-10 mb-5"),g(t,"class","w-full max-w-4xl flex flex-col gap-2"),g(e,"class","w-full min-h-full bg-main flex flex-col items-center svelte-jjvsd7")},m(A,ce){L(A,e,ce),p(e,t),p(t,n),p(t,c),p(t,a),p(a,s),p(a,r),p(a,i),J.m(a,null),p(t,u),p(t,d),p(d,y),p(d,x),p(d,_),p(t,$),p(t,v),p(t,E),p(t,w),p(w,B),p(w,X),p(w,se),p(w,G),p(w,W),p(t,P),p(t,j),p(t,me),p(t,ie),p(ie,C),p(ie,ve),p(ie,re),le(q,re,null),ee=!0},p(A,[ce]){(!ee||ce&1)&&te(r,A[0]),ge!==(ge=be(A))&&(J.d(1),J=ge(A),J&&(J.c(),J.m(a,null))),(!ee||ce&2)&&m!==(m=A[1]/10n**9n+"")&&te(x,m),(!ee||ce&2)&&R!==(R=A[1]/10n**9n+"")&&te(X,R),(!ee||ce&1)&&te(G,A[0])},i(A){ee||(N(q.$$.fragment,A),ee=!0)},o(A){U(q.$$.fragment,A),ee=!1},d(A){A&&f(e),J.d(),ae(q)}}}function $t(l,e,t){let n,o;return M(l,Re,c=>t(0,n=c)),M(l,Ee,c=>t(1,o=c)),[n,o]}class It extends Q{constructor(e){super(),Z(this,e,$t,Et,Y,{})}}function it(l){return Tt(l.name,l.description,l.sha256,l.url)}function Tt(l,e,t,n){return{R4:we(ke(Fe,xe("utf8",l))),R5:we(ke(Fe,xe("utf8",e))),R6:we(ke(Fe,xe("utf8","0"))),R7:"0e020101",R8:we(ke(Fe,xe("hex",t))),R9:we(ke(Fe,xe("utf8",n)))}}function Bt(l){let e=JSON.parse(JSON.stringify(l));e.value=e.value.toString(),e.assets===void 0&&(e.assets=[]);for(let t=0;t<e.assets.length;t++)e.assets[t].amount=e.assets[t].amount.toString();return e}const Ct="011d3364de07e5a26f0c4eef0852cddb387039a921b7154ef3cab22c6eda887f";async function rt(){let t=(await(await fetch(`https://api.ergoplatform.com/api/v1/boxes/unspent/byTokenId/${Ct}`)).json()).items[0];return t=Bt(t),t}async function Rt(l,e,t,n,o,c,a){const s=Se.fromBase58(l),r=Se.fromBase58(c),i=1372200,u=10n**18n/a,d=new Date().toISOString().split("T")[0],x=(1/(await rt()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),_={name:o.name,description:`Erg price: $${x}, date: ${d}, unlock: 2024-10-15`,sha256:o.sha256,url:`ipfs://${o.cid}`},$=new Le(Ae,pt).addTokens(n).setAdditionalRegisters({R4:nt(u).toHex(),R5:ot(i).toHex(),R6:Oe(He(Pe(s.getPublicKeys()))).toHex(),R7:Oe(He(Pe(r.getPublicKeys()))).toHex()}),v=new Le(Ae,l).mintToken({amount:"1",name:o.name}).setAdditionalRegisters(it(_));return new lt(t).from([...e]).to([$,v]).sendChangeTo(s).payFee(at*2n).build().toEIP12Object()}async function Dt(l,e,t,n,o,c){const a=Se.fromBase58(l),s=Se.fromBase58(o),r=1372200,i=10n**18n/c,u=new Date().toISOString().split("T")[0],d=BigInt(n.price*10**9),x=(1/(await rt()).additionalRegisters.R4.renderedValue*10**9).toFixed(2),_={name:n.name,description:`Erg price: $${x}, date: ${u}, unlock: 2024-10-15`,sha256:n.sha256,url:`ipfs://${n.cid}`},$=new Le(d,dt).setAdditionalRegisters({R4:nt(i).toHex(),R5:ot(r).toHex(),R6:Oe(He(Pe(a.getPublicKeys()))).toHex(),R7:Oe(He(Pe(s.getPublicKeys()))).toHex()}),v=new Le(Ae,l).mintToken({amount:"1",name:n.name}).setAdditionalRegisters(it(_));return new lt(t).from([...e]).to([$,v]).sendChangeTo(a).payFee(at).build().toEIP12Object()}function St(l){let e,t,n,o=l[1].price+"",c,a,s,r,i,u,d="hodlERG3",y,m,x,_,$="ERG",v,k;return{c(){e=h("div"),t=h("button"),n=D("Lock "),c=D(o),a=I(),s=D(l[0]),r=I(),i=h("div"),u=h("button"),u.textContent=d,y=I(),m=h("div"),x=I(),_=h("button"),_.textContent=$,this.h()},l(E){e=b(E,"DIV",{class:!0});var w=F(e);t=b(w,"BUTTON",{class:!0,style:!0});var B=F(t);n=S(B,"Lock "),c=S(B,o),a=T(B),s=S(B,l[0]),B.forEach(f),r=T(w),i=b(w,"DIV",{class:!0});var R=F(i);u=b(R,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),K(u)!=="svelte-10vmmzh"&&(u.textContent=d),y=T(R),m=b(R,"DIV",{style:!0}),F(m).forEach(f),x=T(R),_=b(R,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),K(_)!=="svelte-1yk0jpa"&&(_.textContent=$),R.forEach(f),w.forEach(f),this.h()},h(){g(t,"class","btn p-4"),O(t,"width","230px"),g(u,"class","pl-4 pr-2 py-1 option-left text-sm svelte-16q2dwg"),O(u,"min-width","100px"),pe(u,"inactive",l[0]!="hodlERG3"),pe(u,"active",l[0]=="hodlERG3"),O(m,"height","100%"),O(m,"width","1px"),O(m,"background","gray"),g(_,"class","pr-4 pl-2 py-1 option-right text-sm svelte-16q2dwg"),O(_,"min-width","100px"),pe(_,"inactive",l[0]!="ERG"),pe(_,"active",l[0]=="ERG"),g(i,"class","flex mt-2"),g(e,"class","mt-4 p-4 box w-full flex flex-col items-center justify-center")},m(E,w){L(E,e,w),p(e,t),p(t,n),p(t,c),p(t,a),p(t,s),p(e,r),p(e,i),p(i,u),p(i,y),p(i,m),p(i,x),p(i,_),v||(k=[fe(t,"click",l[2]),fe(u,"click",l[4]),fe(_,"click",l[5])],v=!0)},p(E,[w]){w&2&&o!==(o=E[1].price+"")&&te(c,o),w&1&&te(s,E[0]),w&1&&pe(u,"inactive",E[0]!="hodlERG3"),w&1&&pe(u,"active",E[0]=="hodlERG3"),w&1&&pe(_,"inactive",E[0]!="ERG"),w&1&&pe(_,"active",E[0]=="ERG")},i:V,o:V,d(E){E&&f(e),v=!1,Me(k)}}}function Lt(l,e){return l.some(t=>t.tokenId==e.tokenId)?(l.find(t=>t.tokenId==e.tokenId).amount+=e.amount,l):[...l,e]}function Ot(l,e,t){let n,o,c,a,s,r,i,u;M(l,st,v=>t(3,n=v)),M(l,Ne,v=>t(9,o=v)),M(l,Re,v=>t(0,c=v)),M(l,ye,v=>t(1,a=v)),M(l,Ee,v=>t(10,s=v)),M(l,Ge,v=>t(11,r=v)),M(l,Ke,v=>t(12,i=v)),M(l,We,v=>t(13,u=v));let d=[];async function y(v){var k;if((k=window.ergoConnector[v])!=null&&k.isConnected){const E=await ergo.get_utxos();Ke.set(JSON.parse(JSON.stringify(E))),We.set(E.flatMap(w=>w.assets.map(B=>(B.amount=BigInt(B.amount),B))).reduce(Lt,[])),u.filter(w=>!d.some(B=>B.tokenId==w.tokenId))}}function m(){d=[]}async function x(){var W;if(!n||!((W=window.ergoConnector[n])!=null&&W.isConnected)){Ce("Connect a wallet.",1500);return}const v=await ergo.get_utxos(),k=BigInt(await ergo.get_balance()),E=v.flatMap(P=>P.assets).reduce((P,j)=>P+(j.tokenId==qe?BigInt(j.amount):0n),0n),w=await ergo.get_change_address(),B=await ergo.get_current_height();let R;if(c=="ERG"){if(k<BigInt(a.price*10**9)){Ce("Not enough Erg.",1500);return}R=await Dt(w,i,B,a,r,s)}else{if(E<BigInt(a.price*10**9)){Ce("Not enough Tokens.",1500);return}const P={tokenId:qe,amount:a.price*10**9+""};R=await Rt(w,i,B,P,a,r,s)}const X=await ergo.sign_tx(R);console.log(X);const se=await ergo.submit_tx(X);console.log("transactionId:",se),Ce("Transaction submitted",3e3);const G={treasure:a,currency:c,hodler:w,tx:X,transactionId:se};Ne.update(P=>(P.push(G),P)),localStorage.setItem("ergo_bay_unconfirmed_mints",JSON.stringify(o)),m()}const _=()=>Re.set("hodlERG3"),$=()=>Re.set("ERG");return l.$$.update=()=>{l.$$.dirty&8&&y(n)},[c,a,x,n,_,$]}class Ht extends Q{constructor(e){super(),Z(this,e,Ot,St,Y,{})}}function Pt(l){let e,t,n='<img src="ship.png" alt=""/>',o,c,a='<img src="chest/bitmasks/icon.png" alt=""/>',s,r;return{c(){e=h("div"),t=h("button"),t.innerHTML=n,o=I(),c=h("button"),c.innerHTML=a,this.h()},l(i){e=b(i,"DIV",{class:!0});var u=F(e);t=b(u,"BUTTON",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1qhbbbx"&&(t.innerHTML=n),o=T(u),c=b(u,"BUTTON",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-p0dv1p"&&(c.innerHTML=a),u.forEach(f),this.h()},h(){g(t,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),g(c,"class","enlarge border rounded-xl w-12 h-12 svelte-1rtdyum"),g(e,"class","fixed flex flex-col left-0 top-0 mt-24 ml-4 gap-2")},m(i,u){L(i,e,u),p(e,t),p(e,o),p(e,c),s||(r=[fe(t,"click",l[1]),fe(c,"click",l[2])],s=!0)},p:V,i:V,o:V,d(i){i&&f(e),s=!1,Me(r)}}}function Vt(l,e,t){let n;M(l,De,s=>t(3,n=s));function o(s){s=="hodlbox"&&(Ee.set(mt),Ge.set(gt),De.set(ft),ye.set(n[0])),s=="bitmasks"&&(Ee.set(vt),Ge.set(ut),De.set(yt),ye.set(n[0]))}return[o,()=>o("hodlbox"),()=>o("bitmasks")]}class At extends Q{constructor(e){super(),Z(this,e,Vt,Pt,Y,{})}}function Nt(l){let e,t,n="unlock: 2024-10-15",o,c,a=l[0].name.split(" ")[0]+"",s,r,i,u,d=Number(l[2]/10n**9n).toFixed(2)+"",y,m,x,_,$,v,k,E,w,B,R,X,se,G,W,P,j,de,me,ie;return{c(){e=h("div"),t=h("div"),t.textContent=n,o=I(),c=h("div"),s=D(a),r=I(),i=h("div"),u=D("$"),y=D(d),m=D("/ERG"),x=I(),_=h("div"),$=h("button"),v=Te("svg"),k=Te("path"),B=I(),R=h("img"),se=I(),G=h("button"),W=Te("svg"),P=Te("path"),this.h()},l(C){e=b(C,"DIV",{class:!0});var H=F(e);t=b(H,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1whik13"&&(t.textContent=n),o=T(H),c=b(H,"DIV",{class:!0});var ve=F(c);s=S(ve,a),ve.forEach(f),r=T(H),i=b(H,"DIV",{class:!0});var re=F(i);u=S(re,"$"),y=S(re,d),m=S(re,"/ERG"),re.forEach(f),H.forEach(f),x=T(C),_=b(C,"DIV",{class:!0});var q=F(_);$=b(q,"BUTTON",{style:!0});var ee=F($);v=Be(ee,"svg",{xmlns:!0,viewBox:!0});var be=F(v);k=Be(be,"path",{fill:!0,d:!0}),F(k).forEach(f),be.forEach(f),ee.forEach(f),B=T(q),R=b(q,"IMG",{src:!0,alt:!0}),se=T(q),G=b(q,"BUTTON",{style:!0});var ge=F(G);W=Be(ge,"svg",{xmlns:!0,viewBox:!0});var J=F(W);P=Be(J,"path",{fill:!0,d:!0}),F(P).forEach(f),J.forEach(f),ge.forEach(f),q.forEach(f),this.h()},h(){g(t,"class","italic text-slate-300"),g(c,"class","text-7xl font-bold text-white"),g(i,"class","text-slate-200"),g(e,"class","flex flex-col items-center"),g(k,"fill",E=l[0].id==0?"#CCC3":"#CCCD"),g(k,"d","M3 12l18-12v24z"),g(v,"xmlns","http://www.w3.org/2000/svg"),g(v,"viewBox","0 0 24 24"),$.disabled=w=l[0].id==0,O($,"width","100px"),O($,"height","100px"),he(R.src,X=l[0].img)||g(R,"src",X),g(R,"alt",""),g(P,"fill",j=l[0].id==l[1].length-1?"#CCC3":"#CCCD"),g(P,"d","M21 12l-18 12v-24z"),g(W,"xmlns","http://www.w3.org/2000/svg"),g(W,"viewBox","0 0 24 24"),G.disabled=de=l[0].id==l[1].length-1,O(G,"width","100px"),O(G,"height","100px"),g(_,"class","flex items-center gap-4")},m(C,H){L(C,e,H),p(e,t),p(e,o),p(e,c),p(c,s),p(e,r),p(e,i),p(i,u),p(i,y),p(i,m),L(C,x,H),L(C,_,H),p(_,$),p($,v),p(v,k),p(_,B),p(_,R),p(_,se),p(_,G),p(G,W),p(W,P),me||(ie=[fe($,"click",l[3]),fe(G,"click",l[4])],me=!0)},p(C,[H]){H&1&&a!==(a=C[0].name.split(" ")[0]+"")&&te(s,a),H&4&&d!==(d=Number(C[2]/10n**9n).toFixed(2)+"")&&te(y,d),H&1&&E!==(E=C[0].id==0?"#CCC3":"#CCCD")&&g(k,"fill",E),H&1&&w!==(w=C[0].id==0)&&($.disabled=w),H&1&&!he(R.src,X=C[0].img)&&g(R,"src",X),H&3&&j!==(j=C[0].id==C[1].length-1?"#CCC3":"#CCCD")&&g(P,"fill",j),H&3&&de!==(de=C[0].id==C[1].length-1)&&(G.disabled=de)},i:V,o:V,d(C){C&&(f(e),f(x),f(_)),me=!1,Me(ie)}}}function Gt(l,e,t){let n,o,c;M(l,ye,r=>t(0,n=r)),M(l,De,r=>t(1,o=r)),M(l,Ee,r=>t(2,c=r));function a(){n.id>0&&ye.set(o[n.id-1])}function s(){n.id<o.length-1&&ye.set(o[n.id+1])}return[n,o,c,a,s]}class Mt extends Q{constructor(e){super(),Z(this,e,Gt,Nt,Y,{})}}function Ut(l){let e,t,n,o,c,a,s;return t=new At({}),o=new Mt({}),a=new Ht({}),{c(){e=h("div"),ne(t.$$.fragment),n=I(),ne(o.$$.fragment),c=I(),ne(a.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0,style:!0});var i=F(e);oe(t.$$.fragment,i),n=T(i),oe(o.$$.fragment,i),c=T(i),oe(a.$$.fragment,i),i.forEach(f),this.h()},h(){g(e,"class","bg-main grow flex flex-col justify-center items-center gap-5 svelte-1dohqtu"),O(e,"padding-top","80px")},m(r,i){L(r,e,i),le(t,e,null),p(e,n),le(o,e,null),p(e,c),le(a,e,null),s=!0},p:V,i(r){s||(N(t.$$.fragment,r),N(o.$$.fragment,r),N(a.$$.fragment,r),s=!0)},o(r){U(t.$$.fragment,r),U(o.$$.fragment,r),U(a.$$.fragment,r),s=!1},d(r){r&&f(e),ae(t),ae(o),ae(a)}}}class jt extends Q{constructor(e){super(),Z(this,e,null,Ut,Y,{})}}function Kt(l){let e,t,n,o,c,a=l[0].treasure.name+"",s,r,i,u,d=l[0].hodler.substr(0,3)+"",y,m,x=l[0].hodler.substr(l[0].hodler.length-3,l[0].hodler.length-1)+"",_,$;return{c(){e=h("div"),t=h("img"),o=I(),c=h("div"),s=D(a),r=I(),i=h("div"),u=h("a"),y=D(d),m=D("..."),_=D(x),this.h()},l(v){e=b(v,"DIV",{class:!0});var k=F(e);t=b(k,"IMG",{src:!0,alt:!0,style:!0}),o=T(k),c=b(k,"DIV",{class:!0});var E=F(c);s=S(E,a),E.forEach(f),r=T(k),i=b(k,"DIV",{class:!0});var w=F(i);u=b(w,"A",{href:!0});var B=F(u);y=S(B,d),m=S(B,"..."),_=S(B,x),B.forEach(f),w.forEach(f),k.forEach(f),this.h()},h(){he(t.src,n=l[0].treasure.img)||g(t,"src",n),g(t,"alt",""),O(t,"width","200px"),O(t,"height","auto"),g(c,"class","flex gap-2"),g(u,"href",$="https://explorer.ergoplatform.com/en/addresses/"+l[0].hodler),g(i,"class","text-slate-500"),g(e,"class","p-4 flex flex-col justify-center items-center")},m(v,k){L(v,e,k),p(e,t),p(e,o),p(e,c),p(c,s),p(e,r),p(e,i),p(i,u),p(u,y),p(u,m),p(u,_)},p(v,[k]){k&1&&!he(t.src,n=v[0].treasure.img)&&g(t,"src",n),k&1&&a!==(a=v[0].treasure.name+"")&&te(s,a),k&1&&d!==(d=v[0].hodler.substr(0,3)+"")&&te(y,d),k&1&&x!==(x=v[0].hodler.substr(v[0].hodler.length-3,v[0].hodler.length-1)+"")&&te(_,x),k&1&&$!==($="https://explorer.ergoplatform.com/en/addresses/"+v[0].hodler)&&g(u,"href",$)},i:V,o:V,d(v){v&&f(e)}}}function Wt(l,e,t){M(l,st,o=>t(1,o));let{offer:n}=e;return l.$$set=o=>{"offer"in o&&t(0,n=o.offer)},[n]}class qt extends Q{constructor(e){super(),Z(this,e,Wt,Kt,Y,{offer:0})}}function ze(l,e,t){const n=l.slice();return n[1]=e[t],n}function Xe(l){let e,t;return e=new qt({props:{offer:l[1]}}),{c(){ne(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,o){le(e,n,o),t=!0},p(n,o){const c={};o&1&&(c.offer=n[1]),e.$set(c)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function zt(l){let e,t="Locked Boxes",n,o,c,a,s,r=Ve(l[0].filter(Je)),i=[];for(let d=0;d<r.length;d+=1)i[d]=Xe(ze(l,r,d));const u=d=>U(i[d],1,1,()=>{i[d]=null});return{c(){e=h("h2"),e.textContent=t,n=I(),o=h("div");for(let d=0;d<i.length;d+=1)i[d].c();c=I(),a=h("div"),this.h()},l(d){e=b(d,"H2",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-3iv0hq"&&(e.textContent=t),n=T(d),o=b(d,"DIV",{class:!0});var y=F(o);for(let m=0;m<i.length;m+=1)i[m].l(y);y.forEach(f),c=T(d),a=b(d,"DIV",{class:!0}),F(a).forEach(f),this.h()},h(){g(e,"class","text-4xl"),g(o,"class","w-full justify-center flex flex-wrap"),g(a,"class","mb-10")},m(d,y){L(d,e,y),L(d,n,y),L(d,o,y);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(o,null);L(d,c,y),L(d,a,y),s=!0},p(d,[y]){if(y&1){r=Ve(d[0].filter(Je));let m;for(m=0;m<r.length;m+=1){const x=ze(d,r,m);i[m]?(i[m].p(x,y),N(i[m],1)):(i[m]=Xe(x),i[m].c(),N(i[m],1),i[m].m(o,null))}for(Ze(),m=r.length;m<i.length;m+=1)u(m);et()}},i(d){if(!s){for(let y=0;y<r.length;y+=1)N(i[y]);s=!0}},o(d){i=i.filter(Boolean);for(let y=0;y<i.length;y+=1)U(i[y]);s=!1},d(d){d&&(f(e),f(n),f(o),f(c),f(a)),tt(i,d)}}}const Je=l=>l.currency;function Xt(l,e,t){let n;return M(l,ht,o=>t(0,n=o)),[n]}class Jt extends Q{constructor(e){super(),Z(this,e,Xt,zt,Y,{})}}function Yt(l){let e,t,n,o,c,a,s="minting...",r,i,u,d;return{c(){e=h("div"),t=h("img"),o=I(),c=h("div"),a=h("div"),a.textContent=s,r=I(),i=h("a"),u=D("transactionID"),this.h()},l(y){e=b(y,"DIV",{class:!0});var m=F(e);t=b(m,"IMG",{src:!0,alt:!0,style:!0,class:!0}),o=T(m),c=b(m,"DIV",{class:!0});var x=F(c);a=b(x,"DIV",{"data-svelte-h":!0}),K(a)!=="svelte-15f54we"&&(a.textContent=s),r=T(x),i=b(x,"A",{target:!0,href:!0,class:!0});var _=F(i);u=S(_,"transactionID"),_.forEach(f),x.forEach(f),m.forEach(f),this.h()},h(){he(t.src,n=l[0].treasure.img)||g(t,"src",n),g(t,"alt",""),O(t,"width","200px"),g(t,"class","blink svelte-1m6gc3r"),g(i,"target","_blank"),g(i,"href",d="https://explorer.ergoplatform.com/en/transactions/"+l[0].transactionId),g(i,"class","underline"),g(c,"class",""),g(e,"class","p-4 flex flex-col items-center")},m(y,m){L(y,e,m),p(e,t),p(e,o),p(e,c),p(c,a),p(c,r),p(c,i),p(i,u)},p(y,[m]){m&1&&!he(t.src,n=y[0].treasure.img)&&g(t,"src",n),m&1&&d!==(d="https://explorer.ergoplatform.com/en/transactions/"+y[0].transactionId)&&g(i,"href",d)},i:V,o:V,d(y){y&&f(e)}}}function Qt(l,e,t){let{mint:n}=e;return l.$$set=o=>{"mint"in o&&t(0,n=o.mint)},[n]}class Zt extends Q{constructor(e){super(),Z(this,e,Qt,Yt,Y,{mint:0})}}function Ye(l,e,t){const n=l.slice();return n[1]=e[t],n}function Qe(l){let e,t;return e=new Zt({props:{mint:l[1]}}),{c(){ne(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,o){le(e,n,o),t=!0},p(n,o){const c={};o&1&&(c.mint=n[1]),e.$set(c)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function en(l){let e,t,n=Ve(l[0]),o=[];for(let a=0;a<n.length;a+=1)o[a]=Qe(Ye(l,n,a));const c=a=>U(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=je()},l(a){for(let s=0;s<o.length;s+=1)o[s].l(a);e=je()},m(a,s){for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(a,s);L(a,e,s),t=!0},p(a,[s]){if(s&1){n=Ve(a[0]);let r;for(r=0;r<n.length;r+=1){const i=Ye(a,n,r);o[r]?(o[r].p(i,s),N(o[r],1)):(o[r]=Qe(i),o[r].c(),N(o[r],1),o[r].m(e.parentNode,e))}for(Ze(),r=n.length;r<o.length;r+=1)c(r);et()}},i(a){if(!t){for(let s=0;s<n.length;s+=1)N(o[s]);t=!0}},o(a){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)U(o[s]);t=!1},d(a){a&&f(e),tt(o,a)}}}function tn(l,e,t){let n;return M(l,Ne,o=>t(0,n=o)),[n]}class nn extends Q{constructor(e){super(),Z(this,e,tn,en,Y,{})}}function on(l){let e,t,n,o,c;return t=new nn({}),o=new Jt({}),{c(){e=h("div"),ne(t.$$.fragment),n=I(),ne(o.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0,style:!0});var s=F(e);oe(t.$$.fragment,s),n=T(s),oe(o.$$.fragment,s),s.forEach(f),this.h()},h(){g(e,"class","bg-main grow flex flex-col items-center gap-5 svelte-itl043"),O(e,"padding-top","80px")},m(a,s){L(a,e,s),le(t,e,null),p(e,n),le(o,e,null),c=!0},p:V,i(a){c||(N(t.$$.fragment,a),N(o.$$.fragment,a),c=!0)},o(a){U(t.$$.fragment,a),U(o.$$.fragment,a),c=!1},d(a){a&&f(e),ae(t),ae(o)}}}class ln extends Q{constructor(e){super(),Z(this,e,null,on,Y,{})}}function an(l){let e,t,n,o,c,a;return e=new jt({}),n=new It({}),c=new ln({}),{c(){ne(e.$$.fragment),t=I(),ne(n.$$.fragment),o=I(),ne(c.$$.fragment)},l(s){oe(e.$$.fragment,s),t=T(s),oe(n.$$.fragment,s),o=T(s),oe(c.$$.fragment,s)},m(s,r){le(e,s,r),L(s,t,r),le(n,s,r),L(s,o,r),le(c,s,r),a=!0},i(s){a||(N(e.$$.fragment,s),N(n.$$.fragment,s),N(c.$$.fragment,s),a=!0)},o(s){U(e.$$.fragment,s),U(n.$$.fragment,s),U(c.$$.fragment,s),a=!1},d(s){s&&(f(t),f(o)),ae(e,s),ae(n,s),ae(c,s)}}}function sn(l){let e,t='<img class="unselectable" src="ship.png" style="width:250px;" alt=""/> <div class="font-mono mt-4">loading...</div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-83we0i"&&(e.innerHTML=t),this.h()},h(){g(e,"class","grow flex flex-col items-center justify-center")},m(n,o){L(n,e,o)},i:V,o:V,d(n){n&&f(e)}}}function rn(l){let e,t,n,o;const c=[sn,an],a=[];function s(r,i){return 1}return t=s(),n=a[t]=c[t](l),{c(){e=h("div"),n.c(),this.h()},l(r){e=b(r,"DIV",{class:!0});var i=F(e);n.l(i),i.forEach(f),this.h()},h(){g(e,"class","h-full flex flex-col grow main-page svelte-12hevi9")},m(r,i){L(r,e,i),a[t].m(e,null),o=!0},p:V,i(r){o||(N(n),o=!0)},o(r){U(n),o=!1},d(r){r&&f(e),a[t].d()}}}function cn(l){ct(e);function e(){bt(),_t()}return[]}class gn extends Q{constructor(e){super(),Z(this,e,cn,rn,Y,{})}}export{gn as component};
